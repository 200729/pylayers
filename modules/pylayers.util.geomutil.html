<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pylayers.util.geomutil module &mdash; PyLayers</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PyLayers" href="../index.html" />
    <link rel="up" title="pylayers.util package" href="pylayers.util.html" />
    <link rel="next" title="pylayers.util.graphutil module" href="pylayers.util.graphutil.html" />
    <link rel="prev" title="pylayers.util.easygui module" href="pylayers.util.easygui.html" /> 
  </head>
  <body>
<div style="color: black;background-color: white; font-size: 3.2em; text-align: left; padding: 15px 10px 10px 15px">
    PyLayers
<!--
<a href="../index.html"><img src="../_static/logo.png" height="200" border="0"
    alt="pylayers"/></a>
-->
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pylayers.util.graphutil.html" title="pylayers.util.graphutil module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="pylayers.util.easygui.html" title="pylayers.util.easygui module"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">PyLayers Home </a> |&nbsp;</li>
        <li><a href="../notebook/index.html">Documentation </a> |&nbsp;</li>
        <li><a href="../download.html">Download </a> |&nbsp; </li>
        <li><a href="https://github.com/pylayers/">Developer (Github)</a> </li>

          <li><a href="pylayers.html" >pylayers package</a> &raquo;</li>
          <li><a href="pylayers.util.html" accesskey="U">pylayers.util package</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="pylayers.util.easygui.html"
                        title="previous chapter">pylayers.util.easygui module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pylayers.util.graphutil.html"
                        title="next chapter">pylayers.util.graphutil module</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/modules/pylayers.util.geomutil.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-pylayers.util.geomutil">
<span id="pylayers-util-geomutil-module"></span><h1>pylayers.util.geomutil module<a class="headerlink" href="#module-pylayers.util.geomutil" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="pylayers.util.geomutil.BTB_rx">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">BTB_rx</tt><big>(</big><em>a_g</em>, <em>T</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#BTB_rx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.BTB_rx" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a set of rotation matrices for passage between global and local frame</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a_g  :</strong> :</p>
<blockquote>
<div><p>angle in global reference frame   2 x N  :  (theta,phi) x N</p>
</div></blockquote>
<p><strong>T    :</strong> :</p>
<blockquote>
<div><p>Rx rotation matrix     3 x 3</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>R</strong> :  ndarray (3x3)</p>
<p><strong>al</strong> :  ndarray (r x 2)</p>
<blockquote class="last">
<div><p>angle expressed in local basis</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.util.geomutil.angledir" title="pylayers.util.geomutil.angledir"><tt class="xref py py-obj docutils literal"><span class="pre">angledir</span></tt></a>, <a class="reference internal" href="#pylayers.util.geomutil.SphericalBasis" title="pylayers.util.geomutil.SphericalBasis"><tt class="xref py py-obj docutils literal"><span class="pre">SphericalBasis</span></tt></a></p>
</div>
<p class="rubric">Notes</p>
<p>N is the number or rays</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.BTB_tx">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">BTB_tx</tt><big>(</big><em>a_g</em>, <em>T</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#BTB_tx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.BTB_tx" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a set of rotation matrices for passage between global and local frame</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a_g  :</strong> :</p>
<blockquote>
<div><p>angle in global reference frame      2 x N  :  (theta,phi) x N</p>
</div></blockquote>
<p><strong>T    :</strong> :</p>
<blockquote class="last">
<div><p>Tx rotation matrix     3 x 3</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">Centroid(p=array([[ 0, 10, 10,  0],</tt></dt>
<dt>
<tt class="descname">[ 0,  0, -2, -2]]))</tt></dt>
<dd><p>Determine the centroid of the polygon defined by a sequence of points in a plane</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>p</strong> : np array polygon (2xNp)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>pc = Centroid()</strong> :</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Centroid">http://en.wikipedia.org/wiki/Centroid</a></p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.geomutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pc</span> <span class="o">=</span> <span class="n">Centroid</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>  <span class="o">=</span> <span class="n">pc</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">5.</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">md</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="n">d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span><span class="p">(</span><span class="n">md</span><span class="o">&lt;</span><span class="mf">1e-15</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="pylayers.util.geomutil.GeomVect">
<em class="property">class </em><tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">GeomVect</tt><big>(</big><em>_filename='geomdef'</em>, <em>clear=False</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#GeomVect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.GeomVect" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pylayers.util.geomutil.Geomview" title="pylayers.util.geomutil.Geomview"><tt class="xref py py-class docutils literal"><span class="pre">pylayers.util.geomutil.Geomview</span></tt></a></p>
<p>Geomview VECT file class</p>
<blockquote>
<div><ul class="simple">
<li>NPolylines  NVertices  NColors</li>
<li>Nv[0] ... Nv[NPolylines-1]     # number of vertices in each polyline</li>
<li>Nc[0] ... Nc[NPolylines-1]     # number of colors supplied in each polyline</li>
<li>Vert[0] ... Vert[NVertices-1]  # All the vertices (3*NVertices floats)</li>
<li>Color[0] ... Color[NColors-1]  # All the colors   (4*NColors floats, RGBA)</li>
</ul>
<blockquote>
<div>VECT objects represent lists of polylines (strings of connected line segments, possibly closed).</div></blockquote>
<p>A degenerate polyline can be used to represent a point:
A VECT file begins with the key word VECT or 4VECT and three integers:</p>
<dl class="docutils">
<dt>NLines, NVertices, and NColors.</dt>
<dd>Here NLines is the number of polylines in the file,
NVertices the total number of vertices, and NColors the number of
colors as explained below.
Next come NLines 16-bit integers</dd>
<dt>Nv[0] Nv[1] Nv[2] ... Nv[NLines-1]</dt>
<dd><p class="first">giving the number of vertices in each polyline.
A negative number indicates a closed polyline; 1 denotes a single-pixel point.
The sum (of absolute values) of the Nv[i] must equal NVertices.
Next come NLines more 16-bit integers
Nc[i]: the number of colors in each polyline.
Normally one of three values:</p>
<blockquote class="last">
<div><blockquote>
<div><dl class="docutils">
<dt>0 <span class="classifier-delimiter">:</span> <span class="classifier">No color is specified for this polyline.</span></dt>
<dd>It&#8217;s drawn in the same color as the previous polyline.</dd>
<dt>1 <span class="classifier-delimiter">:</span> <span class="classifier">A single color is specified.</span></dt>
<dd>The entire polyline is drawn in that color.</dd>
<dt>abs(Nv[i]) <span class="classifier-delimiter">:</span> <span class="classifier">Each vertex has a color.</span></dt>
<dd>Either each segment is drawn in the corresponding color,
or the colors are smoothly interpolated along the line segments,
depending on the implementation.</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>Next come NVertices groups of 3 or 4 floating-point numbers:</dt>
<dd>the coordinates of all the vertices.</dd>
</dl>
<p>If the keyword is 4VECT then there are 4 values per vertex.
The first abs(Nv[0]) of them form the first polyline,</p>
<blockquote>
<div>the next abs(Nv[1]) form the second and so on.</div></blockquote>
<dl class="docutils">
<dt>Finally NColors groups of 4 floating-point numbers give red,</dt>
<dd>green, blue and alpha (opacity) values.</dd>
</dl>
<p>The first Nc[0] of them apply to the first polyline, and so on.</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Methods:</th><td class="field-body"><p class="first"><strong>geomBase</strong> :</p>
<blockquote>
<div><p>display a frame</p>
</div></blockquote>
<p><strong>ellipse</strong> :</p>
<blockquote>
<div><p>display an ellipse</p>
</div></blockquote>
<p><strong>points</strong> :</p>
<blockquote class="last">
<div><p>display a set of points</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt>
<tt class="descname">GeomVect.geomBase(M, pt=array([ 0.,  0.,  0.]), col=array([[0, 0, 1],</tt></dt>
<dt>
<tt class="descname">[0, 1, 0],</tt></dt>
<dt>
<tt class="descname">[1, 0, 0]]), linewidth=3, scale=1)</tt></dt>
<dd><dl class="docutils">
<dt>Construct a geomview vect file for vizualisation of a frame</dt>
<dd>by default the geomview filename is base0.vect</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>M</strong> : ndarray (3 x 3 )</p>
<blockquote>
<div><p>[ v1, v2, v3 ]</p>
</div></blockquote>
<p><strong>pt</strong> : np.array</p>
<blockquote>
<div><p>origin point  (default (0,0,0))</p>
</div></blockquote>
<p><strong>col   :</strong> :</p>
<blockquote>
<div><p>color (3x3)</p>
</div></blockquote>
<p><strong>linewidth :</strong> :</p>
<blockquote class="last">
<div><p>linewidth (default 3)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.GeomVect.points">
<tt class="descname">points</tt><big>(</big><em>pt</em>, <em>colorname='blue'</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#GeomVect.points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.GeomVect.points" title="Permalink to this definition">¶</a></dt>
<dd><p>Geomview display a set of points with color</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pt</strong> :</p>
<blockquote>
<div><p>sequence of points np.ndarray or dictionnary whose value is a tuple (x,y,z)</p>
</div></blockquote>
<p><strong>colorname</strong> :</p>
<blockquote class="last">
<div><p>a colorname from coldict keys</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.geomutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span> <span class="kn">as</span> <span class="nn">sp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt1</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt2</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="mi">2</span><span class="p">:(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="mi">3</span><span class="p">:(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="mi">4</span><span class="p">:(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gv1</span> <span class="o">=</span> <span class="n">GeomVect</span><span class="p">(</span><span class="s">&#39;test1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gv1</span><span class="o">.</span><span class="n">points</span><span class="p">(</span><span class="n">pt1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#gv1.show3()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gv2</span> <span class="o">=</span> <span class="n">GeomVect</span><span class="p">(</span><span class="s">&#39;test2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gv2</span><span class="o">.</span><span class="n">points</span><span class="p">(</span><span class="n">pt2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#gv2.show3()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.GeomVect.segments">
<tt class="descname">segments</tt><big>(</big><em>ds</em>, <em>i2d=True</em>, <em>linewidth=2</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#GeomVect.segments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.GeomVect.segments" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ds</strong> : dictionnary</p>
<blockquote>
<div><p>len ds</p>
</div></blockquote>
<p><strong>i2d</strong> : boolean (defaut True)</p>
<blockquote>
<div><p>2d indicator</p>
</div></blockquote>
<p><strong>linewidth</strong> : float</p>
<blockquote class="last">
<div><p>default 2</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pylayers.util.geomutil.Geomlist">
<em class="property">class </em><tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">Geomlist</tt><big>(</big><em>_filename</em>, <em>clear=False</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pylayers.util.geomutil.Geomview" title="pylayers.util.geomutil.Geomview"><tt class="xref py py-class docutils literal"><span class="pre">pylayers.util.geomutil.Geomview</span></tt></a></p>
<dl class="method">
<dt id="pylayers.util.geomutil.Geomlist.append">
<tt class="descname">append</tt><big>(</big><em>strg</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomlist.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomlist.append" title="Permalink to this definition">¶</a></dt>
<dd><p>append a line in .list file</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pylayers.util.geomutil.Geomoff">
<em class="property">class </em><tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">Geomoff</tt><big>(</big><em>_filename='geomoff'</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomoff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pylayers.util.geomutil.Geomview" title="pylayers.util.geomutil.Geomview"><tt class="xref py py-class docutils literal"><span class="pre">pylayers.util.geomutil.Geomview</span></tt></a></p>
<p class="rubric">Notes</p>
<p>Class Geomview OFF File (Object File Format)
[ST][C][N][4][n]OFF  #header keyword
[Ndim] # spac dimension of vertices, present only if nOFF
NVertices NFaces NEdges</p>
<p>x[0],y[0] z[0]</p>
<p># Vertices,possibly with normals
#colors, and/or texture coordinates, in that order, if the
# prefixes N , C , ST are present
# If 4OFF , each vertex has 4 components
# including a final homogeneous component
# If nOFF, each vertex has Ndim components
# If 4nOFF , each vertex has Ndim+1 components
....
x[NVertices-1],y[NVertices-1],z[NVertices-1]</p>
<p># Faces
# Nv = # vertices on this face
# v[0] ... v[Nv-1] : vertex indices
# in range 0... NVertices -1</p>
<p>Nv v[0] v[1] ....v[Nv-1] colorspec</p>
<p># colorspec continues past v[Nv-1]
# to end-of-line may be 0 to 4 numbers
# nothing default
# integer : colormap index (read from the file cmap.fmap)
# 3 or 4 integers RGB[A] values 0..255
#</p>
<dl class="method">
<dt id="pylayers.util.geomutil.Geomoff.box">
<tt class="descname">box</tt><big>(</big><em>extrem=array([-1</em>, <em>1</em>, <em>-1</em>, <em>1</em>, <em>-3</em>, <em>3])</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomoff.box"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomoff.box" title="Permalink to this definition">¶</a></dt>
<dd><p>create a box</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>extrem</strong> : ndarray</p>
<blockquote class="last">
<div><p>(1x6) [xmin,xmax,ymin,ymax,zmin,zmax]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">geo</span> <span class="o">=</span> <span class="n">Geomoff</span><span class="p">(</span><span class="s">&#39;test&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">geo</span><span class="o">.</span><span class="n">box</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Geomoff.cylinder">
<tt class="descname">cylinder</tt><big>(</big><em>r, l, nphi=20, nl=3, col=[1.0, 0.0, 1.0], alpha=0.1</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomoff.cylinder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomoff.cylinder" title="Permalink to this definition">¶</a></dt>
<dd><p>create a cylinder</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>r</strong> : radius</p>
<p><strong>l</strong> : length</p>
<p><strong>nphi</strong> : number of phi</p>
<p><strong>nl</strong> : number of l</p>
<p><strong>col</strong> : list [r,g,b]</p>
<p class="last"><strong>alpha</strong> : transparency</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Geomoff.loadpt">
<tt class="descname">loadpt</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomoff.loadpt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomoff.loadpt" title="Permalink to this definition">¶</a></dt>
<dd><p>load points</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Geomoff.pattern">
<tt class="descname">pattern</tt><big>(</big><em>theta</em>, <em>phi</em>, <em>E</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomoff.pattern"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomoff.pattern" title="Permalink to this definition">¶</a></dt>
<dd><p>export antenna pattern in a geomview format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>theta</strong> : np.array (,Nt)</p>
<p><strong>phi</strong> : np.array (,Np)</p>
<p><strong>E</strong> : np.array complex  (Nt,Np)</p>
<p><strong>po</strong> : origin (1x3)</p>
<p><strong>T</strong> : rotation matrix (3x3)</p>
<p><strong>minr</strong> : radius of minimum</p>
<p><strong>maxr</strong> : radius of maximum</p>
<p class="last"><strong>ilog</strong> : True (log) False (linear)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.geomutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">th</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="mf">0.05</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ph</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="mf">0.05</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">E</span> <span class="o">=</span> <span class="mf">1.5</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">th</span><span class="p">[:,</span><span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">])</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">0</span><span class="o">*</span><span class="n">ph</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">,:])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">Geomoff</span><span class="p">(</span><span class="s">&#39;dipole&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">pattern</span><span class="p">(</span><span class="n">th</span><span class="p">,</span><span class="n">ph</span><span class="p">,</span><span class="n">E</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">show3</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Geomoff.polygon">
<tt class="descname">polygon</tt><big>(</big><em>p</em>, <em>poly</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomoff.polygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomoff.polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>create geomview off for polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p</strong> : nparray</p>
<blockquote>
<div><p>sequence of points</p>
</div></blockquote>
<p><strong>poly</strong> : list</p>
<blockquote class="last">
<div><p>point numbers (index starting in 0)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Geomoff.polygons">
<tt class="descname">polygons</tt><big>(</big><em>p</em>, <em>polys</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomoff.polygons"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomoff.polygons" title="Permalink to this definition">¶</a></dt>
<dd><p>create a gemoff file for a list of polygons</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p</strong> : nparray</p>
<blockquote>
<div><p>sequence of points</p>
</div></blockquote>
<p><strong>poly</strong> : list</p>
<blockquote class="last">
<div><p>point numbers (index starting in 0)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Geomoff.savept">
<tt class="descname">savept</tt><big>(</big><em>ptnew</em>, <em>_fileoff</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomoff.savept"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomoff.savept" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pylayers.util.geomutil.Geomview">
<em class="property">class </em><tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">Geomview</tt><big>(</big><em>_filename</em>, <em>clear=False</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomview"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomview" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Geomview file class</p>
<p>This class is parent of  GeomVect Geomlist Geomoff</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Methods:</th><td class="field-body"><strong>show3</strong> :</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pylayers.util.geomutil.Geomview.show3">
<tt class="descname">show3</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomview.show3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomview.show3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pylayers.util.geomutil.LineString">
<em class="property">class </em><tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">LineString</tt><big>(</big><em>p</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#LineString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.LineString" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">shapely.geometry.linestring.LineString</span></tt></p>
<p>Overloaded shapely LineString class</p>
<dl class="method">
<dt id="pylayers.util.geomutil.LineString.plot">
<tt class="descname">plot</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#LineString.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.LineString.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot LineString</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>color</strong> :  string</p>
<blockquote>
<div><p>default #abcdef&#8221;</p>
</div></blockquote>
<p><strong>alpha</strong> :  float</p>
<blockquote>
<div><p>transparency   (default 0.8)</p>
</div></blockquote>
<p><strong>fig</strong> : figure object</p>
<p class="last"><strong>ax</strong> : axes object</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.geomutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L1</span> <span class="o">=</span> <span class="n">LineString</span><span class="p">(</span><span class="n">l1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L2</span> <span class="o">=</span> <span class="n">LineString</span><span class="p">(</span><span class="n">l2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">L1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;red&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">L2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;blue&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;test plotting LineString&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-1.py">Source code</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-1.png">png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-1.hires.png">hires.png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-1.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/pylayers-util-geomutil-1.png" src="../_images/pylayers-util-geomutil-1.png" />
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt>
<tt class="descname">Lr2n(p=array([[ 0, 10, 10,  0],</tt></dt>
<dt>
<tt class="descname">[ 0,  0, -2, -2]]), closed=True)</tt></dt>
<dd><p>Linear Ring to normal</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p</strong> : np.array (2xN)</p>
<blockquote>
<div><dl class="docutils">
<dt>closed <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd><p class="first last">default True</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>n</strong> : np.array (2xN)</p>
<blockquote class="last">
<div><p>normal</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p>p3 x&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;x p2</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">shapely.geometry</span> <span class="kn">as</span> <span class="nn">shg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points1</span> <span class="o">=</span> <span class="n">shg</span><span class="o">.</span><span class="n">MultiPoint</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span> <span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points2</span> <span class="o">=</span> <span class="n">shg</span><span class="o">.</span><span class="n">MultiPoint</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span> <span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">poly1</span>   <span class="o">=</span> <span class="n">shg</span><span class="o">.</span><span class="n">Polygon</span><span class="p">(</span><span class="n">points1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">poly2</span>   <span class="o">=</span> <span class="n">shg</span><span class="o">.</span><span class="n">Polygon</span><span class="p">(</span><span class="n">points2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lring1</span>  <span class="o">=</span> <span class="n">poly1</span><span class="o">.</span><span class="n">exterior</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lring2</span>  <span class="o">=</span> <span class="n">poly2</span><span class="o">.</span><span class="n">exterior</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span><span class="p">,</span><span class="n">y1</span>    <span class="o">=</span> <span class="n">lring1</span><span class="o">.</span><span class="n">xy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span><span class="p">,</span><span class="n">y2</span>    <span class="o">=</span> <span class="n">lring2</span><span class="o">.</span><span class="n">xy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">x1</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">y1</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">x2</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">y2</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n1</span> <span class="o">=</span> <span class="n">Lr2n</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n2</span> <span class="o">=</span> <span class="n">Lr2n</span><span class="p">(</span><span class="n">p2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.MEulerAngle">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">MEulerAngle</tt><big>(</big><em>alpha</em>, <em>beta</em>, <em>gamma</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#MEulerAngle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.MEulerAngle" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate a rotation matrix from 3 Euler angles</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>alpha</strong> : float</p>
<blockquote>
<div><p>rotation along axis z</p>
</div></blockquote>
<p><strong>beta</strong> : float</p>
<blockquote>
<div><p>rotation along axis x</p>
</div></blockquote>
<p><strong>gamma</strong> : float</p>
<blockquote>
<div><p>rotation along axis y</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>T</strong> : np.array (3x3)</p>
<blockquote class="last">
<div><p>rotation matrix</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Bizarre I was expected</p>
<table class="last docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-1</span></kbd></td>
<td>0  0
0  0  1
0  1  0</td></tr>
</tbody>
</table>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span><span class="o">=</span><span class="n">MEulerAngle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.MRot3">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">MRot3</tt><big>(</big><em>a</em>, <em>axe</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#MRot3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.MRot3" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a 3D rotation matrix along axe 0|1|2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> :  angle (radians)</p>
<p class="last"><strong>axe</strong> :  0:x 1:y 2:z</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pylayers.util.geomutil.Plot_shapely">
<em class="property">class </em><tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">Plot_shapely</tt><big>(</big><em>obj</em>, <em>ax</em>, <em>coul=None</em>, <em>alph=1</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Plot_shapely"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Plot_shapely" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>draw Shapely with matplotlib - pylab
Plot_shapely.py
Author : Martin Laloux 2010</p>
<dl class="attribute">
<dt id="pylayers.util.geomutil.Plot_shapely.plot">
<tt class="descname">plot</tt><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Plot_shapely.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Plot_shapely.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>dessine en fonction du type geometrique</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Plot_shapely.plot_coords">
<tt class="descname">plot_coords</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Plot_shapely.plot_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Plot_shapely.plot_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>points</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Plot_shapely.plot_ligne">
<tt class="descname">plot_ligne</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Plot_shapely.plot_ligne"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Plot_shapely.plot_ligne" title="Permalink to this definition">¶</a></dt>
<dd><p>lines</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Plot_shapely.plot_multi">
<tt class="descname">plot_multi</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Plot_shapely.plot_multi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Plot_shapely.plot_multi" title="Permalink to this definition">¶</a></dt>
<dd><p>multipoints, multilignes,multipolygones + GeometryCollection</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Plot_shapely.plot_polygon">
<tt class="descname">plot_polygon</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Plot_shapely.plot_polygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Plot_shapely.plot_polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>polygons</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pylayers.util.geomutil.Polygon">
<em class="property">class </em><tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">Polygon</tt><big>(</big><em>p=[[3, 4, 4, 3], [1, 1, 2, 2]], vnodes=[]</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">shapely.geometry.polygon.Polygon</span></tt></p>
<p>Overloaded shapely Polygon class</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Methods:</th><td class="field-body"><p class="first"><strong>plot</strong> :</p>
<p><strong>ptconvex</strong> :</p>
<p><strong>buildGv</strong> :</p>
<p><strong>ndarray :</strong> :</p>
<blockquote>
<div><p>get a ndarray from a Polygon</p>
</div></blockquote>
<p><strong>signedarea :</strong> :</p>
<blockquote class="last">
<div><p>get the signed area of the polygon</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.buildGv">
<tt class="descname">buildGv</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.buildGv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.buildGv" title="Permalink to this definition">¶</a></dt>
<dd><p>Create  visibility graph for a polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>display</strong> : boolean</p>
<blockquote>
<div><p>default : False</p>
</div></blockquote>
<p><strong>fig</strong> : matplotlib.figure.pyplot</p>
<p><strong>ax</strong> : axes</p>
<p><strong>udeg1</strong> : np.array indexes of points of degree 1</p>
<blockquote>
<div><p>default = []</p>
</div></blockquote>
<p><strong>udeg2</strong> : np.array indexes of points of degree 2</p>
<blockquote class="last">
<div><p>default = []</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="pylayers.gis.layout.html#module-pylayers.gis.layout" title="pylayers.gis.layout"><tt class="xref py py-obj docutils literal"><span class="pre">pylayers.gis.layout</span></tt></a></p>
</div>
<p class="rubric">Notes</p>
<p>Segment k and (k+1)%N share segment (k+1)%N
The degree of a point is dependent from other polygons around</p>
<p>Topological error can be raised if the point coordinates accuracy
is not limited.</p>
<p>Nodes of polygon are numbered in the global graph in vnodes member.</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.geomutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">shapely.geometry</span> <span class="kn">as</span> <span class="nn">shg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span>  <span class="o">=</span> <span class="n">shg</span><span class="o">.</span><span class="n">MultiPoint</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mf">2.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>                                           <span class="p">(</span><span class="mf">2.8</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mf">2.8</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">),</span> <span class="p">(</span><span class="mf">3.2</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">),</span>                                           <span class="p">(</span><span class="mf">3.2</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">polyg</span>   <span class="o">=</span> <span class="n">Polygon</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Gv</span>      <span class="o">=</span> <span class="n">polyg</span><span class="o">.</span><span class="n">buildGv</span><span class="p">(</span><span class="n">show</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s">&#39;off&#39;</span><span class="p">)</span>
<span class="go">(-0.5, 4.0, -0.5, 2.5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;Testing buildGv&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-2.py">Source code</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-2.png">png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-2.hires.png">hires.png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-2.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/pylayers-util-geomutil-2.png" src="../_images/pylayers-util-geomutil-2.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.ndarray">
<tt class="descname">ndarray</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.ndarray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.ndarray" title="Permalink to this definition">¶</a></dt>
<dd><p>get a ndarray from a Polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>p</strong> : ndarray (2xNp)</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.geomutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P1</span> <span class="o">=</span> <span class="n">Polygon</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.plot">
<tt class="descname">plot</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>color</strong> :  string</p>
<blockquote>
<div><p>default #abcdef&#8221;</p>
</div></blockquote>
<p><strong>alpha</strong> :  float</p>
<blockquote class="last">
<div><p>transparency   (default 0.8)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.geomutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P1</span> <span class="o">=</span> <span class="n">Polygon</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P2</span> <span class="o">=</span> <span class="n">Polygon</span><span class="p">(</span><span class="n">p2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p3</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">]),</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">11</span><span class="p">,</span><span class="mi">10</span><span class="p">]),</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">]),</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P3</span> <span class="o">=</span> <span class="n">Polygon</span><span class="p">(</span><span class="n">p3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">P1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;red&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">P2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;blue&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">P3</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;green&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">title</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;test plotting polygons&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-3.py">Source code</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-3.png">png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-3.hires.png">hires.png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-3.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/pylayers-util-geomutil-3.png" src="../_images/pylayers-util-geomutil-3.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.ptconvex">
<tt class="descname">ptconvex</tt><big>(</big><em>display=False</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.ptconvex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.ptconvex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of booleans indicating points convexity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>display</strong> : boolean</p>
<blockquote>
<div><p>default False</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>tcc</strong> : np.array (1x Nseg)</p>
<blockquote>
<div><p>1 if convex , -1 if concav , 0 if plane</p>
</div></blockquote>
<p><strong>n</strong> :  array(2xNseg)</p>
<blockquote class="last">
<div><p>segments normals</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><tt class="xref py py-obj docutils literal"><span class="pre">Lr2n</span></tt></p>
</div>
<p class="rubric">Notes</p>
<p>This function determines the convex and concav points of a polygon.
As there is no orientation convention for the polygon the sign of the cross
product can&#8217;t be directly interpreted. So we exploit the following
property :</p>
<p>Let N be the number of points of the Polygon. N  = Nx + Nc where
Nx is the number of convex points and Nc the number of concav points</p>
<p>We have Nx &gt;= Nc</p>
<p>If a point is common to two parallel segments, the cross product is = 0</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.geomutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">shapely.geometry</span> <span class="kn">as</span> <span class="nn">shg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span>  <span class="o">=</span> <span class="n">shg</span><span class="o">.</span><span class="n">MultiPoint</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mf">3.2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mf">3.2</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">polyg</span>   <span class="o">=</span> <span class="n">Polygon</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tcc</span><span class="p">,</span><span class="n">n</span>   <span class="o">=</span> <span class="n">polyg</span><span class="o">.</span><span class="n">ptconvex</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#k = 0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#for p in points:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#  if tcc[k] == 1 :</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#      plt.plot(p.x, p.y, &#39;o&#39;, color=&#39;red&#39;,alpha=1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#  else:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#      plt.plot(p.x, p.y, &#39;o&#39;, color=&#39;blue&#39;,alpha=0.3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#  k = k+1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#polyg.plot()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#plt.figure()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#points  = shg.MultiPoint([(0, 0), (1, 1), (2, 0), (1, 0)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#poly    = Polygon(points)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#tcc,n   = polyg.ptconvex()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#poly.plot()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-4.py">Source code</a>)</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.showGv">
<tt class="descname">showGv</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.showGv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.showGv" title="Permalink to this definition">¶</a></dt>
<dd><p>show graph Gv</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>display</strong> :</p>
<p><strong>fig</strong> :</p>
<p><strong>ax</strong> :</p>
<p><strong>ndnd</strong> : boolean</p>
<blockquote>
<div><p>display node/node</p>
</div></blockquote>
<p><strong>nded</strong> : boolean</p>
<blockquote>
<div><p>display node/edge</p>
</div></blockquote>
<p><strong>eded</strong> : boolean</p>
<blockquote>
<div><p>display edge/edge</p>
</div></blockquote>
<p><strong>linewidth: float</strong> :</p>
<blockquote class="last">
<div><p>default 2</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.signedarea">
<tt class="descname">signedarea</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.signedarea"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.signedarea" title="Permalink to this definition">¶</a></dt>
<dd><p>get the signed area of the polygon</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.simplify">
<tt class="descname">simplify</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.simplify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplify polygon - suppress adjacent colinear segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>poly2</strong> : simplified polygon</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Before</p>
<p>After</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt>
<tt class="descname">SignedArea(p=array([[ 0, 10, 10,  0],</tt></dt>
<dt>
<tt class="descname">[ 0,  0, -2, -2]]))</tt></dt>
<dd><p>Calculate the signed area of a sequence of points in a  plane</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>p</strong> : array 2 x Np</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.geomutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">SignedArea</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span><span class="p">(</span><span class="n">A</span><span class="o">+</span><span class="mi">20</span><span class="o">&lt;</span><span class="mf">1e-15</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.SphericalBasis">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">SphericalBasis</tt><big>(</big><em>a</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#SphericalBasis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.SphericalBasis" title="Permalink to this definition">¶</a></dt>
<dd><p>SphericalBasis(a):</p>
<p>a[:,0] : N x theta   theta angle
a[:,1] : N x phi     phi angle</p>
<p>M = N x [th,ph,s]  : 3 x 3 x N</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.affine">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">affine</tt><big>(</big><em>X</em>, <em>Y</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#affine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.affine" title="Permalink to this definition">¶</a></dt>
<dd><p>find affine transformation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>X</strong> : np.array</p>
<blockquote>
<div><p>3xN</p>
</div></blockquote>
<p><strong>Y</strong> :</p>
<blockquote>
<div><p>3xN</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>A</strong> : np.array</p>
<blockquote>
<div><p>3x3</p>
</div></blockquote>
<p><strong>B</strong> : np.array</p>
<blockquote class="last">
<div><p>3x1</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Given X and Y find the affine transformation</p>
<p>Y = A X + B</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.angledir">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">angledir</tt><big>(</big><em>s</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#angledir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.angledir" title="Permalink to this definition">¶</a></dt>
<dd><p>evaluate (theta,phi) from direction vector</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>s</strong> : ndarray N x 3</p>
<blockquote>
<div><p>N direction vector</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>a</strong> : ndarray 2xN</p>
<blockquote class="last">
<div><p>N angle (theta,phi)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><tt class="xref py py-obj docutils literal"><span class="pre">BTB_Rx</span></tt>, <tt class="xref py py-obj docutils literal"><span class="pre">BTB_Tx</span></tt></p>
</div>
<p class="rubric">Notes</p>
<div class="math">
<p><img src="../_images/math/06d8749feda57bc9a2e940c97050678e83667b76.png" alt="\theta = \arccos{(\frac{\mathbf{s}}{\hat{\mathbf{z}})}}"/></p>
</div></dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.angular">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">angular</tt><big>(</big><em>p1</em>, <em>p2</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#angular"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.angular" title="Permalink to this definition">¶</a></dt>
<dd><p>determine angle between p1 and p2 in [0 2pi]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p1</strong> :</p>
<blockquote>
<div><p>point p1</p>
</div></blockquote>
<p><strong>p2</strong> :</p>
<blockquote class="last">
<div><p>point p2</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>weird the origin is p2</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p21</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p22</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p23</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p24</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p25</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p26</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p27</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p28</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a1</span>  <span class="o">=</span> <span class="n">angular</span><span class="p">(</span><span class="n">p21</span><span class="p">,</span><span class="n">p1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a2</span>  <span class="o">=</span> <span class="n">angular</span><span class="p">(</span><span class="n">p22</span><span class="p">,</span><span class="n">p1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a3</span>  <span class="o">=</span> <span class="n">angular</span><span class="p">(</span><span class="n">p23</span><span class="p">,</span><span class="n">p1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a4</span>  <span class="o">=</span> <span class="n">angular</span><span class="p">(</span><span class="n">p24</span><span class="p">,</span><span class="n">p1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a5</span>  <span class="o">=</span> <span class="n">angular</span><span class="p">(</span><span class="n">p25</span><span class="p">,</span><span class="n">p1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a6</span>  <span class="o">=</span> <span class="n">angular</span><span class="p">(</span><span class="n">p26</span><span class="p">,</span><span class="n">p1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a7</span>  <span class="o">=</span> <span class="n">angular</span><span class="p">(</span><span class="n">p27</span><span class="p">,</span><span class="n">p1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a8</span>  <span class="o">=</span> <span class="n">angular</span><span class="p">(</span><span class="n">p28</span><span class="p">,</span><span class="n">p1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.ccw">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">ccw</tt><big>(</big><em>a</em>, <em>b</em>, <em>c</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#ccw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.ccw" title="Permalink to this definition">¶</a></dt>
<dd><p>counter clock wise order</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : ndarray (2,N)</p>
<p><strong>b</strong> : ndarray (2,N)</p>
<p><strong>c</strong> : ndarray (2,N)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>array of booleans</strong> :</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.bryceboe.com/2006/10/23/line-segment-intersection-algorithm/">Line Segment Intersection</a></p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span> <span class="kn">as</span> <span class="nn">sp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">ccw</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.cylmap">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">cylmap</tt><big>(</big><em>Y</em>, <em>r=0.0625</em>, <em>l=0.5</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#cylmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.cylmap" title="Permalink to this definition">¶</a></dt>
<dd><p>find affine transformation for a specific cylinder</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>Y</strong> :</p>
<blockquote>
<div><p>3xN</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>A</strong> : np.array</p>
<blockquote>
<div><p>3x3</p>
</div></blockquote>
<p><strong>B</strong> : np.array</p>
<blockquote class="last">
<div><p>3x1</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Y = A X + B</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.dist">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">dist</tt><big>(</big><em>x</em>, <em>y</em>, <em>ax</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#dist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.dist" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates distance between two arrays along a given axis
Parameters
&#8212;&#8212;&#8212;-</p>
<blockquote>
<div>x : numpy.ndarray
y : numpy.ndarray
ax : integer (0,1)</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>d</strong> : numpy.ndarray</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">],[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">5.</span><span class="p">],[</span><span class="mf">5.</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">dist</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-5.py">Source code</a>)</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.distseg">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">distseg</tt><big>(</big><em>a</em>, <em>b</em>, <em>c</em>, <em>d</em>, <em>alpha</em>, <em>beta</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#distseg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.distseg" title="Permalink to this definition">¶</a></dt>
<dd><p>distance to segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : (3xN) initial point segment 1</p>
<p><strong>b</strong> : (3xN) end point segment 1</p>
<p><strong>c</strong> : (3xN) starting point segment 2</p>
<p><strong>d</strong> : (3xN) end point segment 2</p>
<p><strong>alpha :</strong> :</p>
<p><strong>beta  :</strong> :</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>f</strong> : square of the distance to the segment</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha</span><span class="p">,</span><span class="n">beta</span><span class="p">,</span><span class="n">dmin</span> <span class="o">=</span> <span class="n">dmin3d</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha</span><span class="p">[</span><span class="n">alpha</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha</span><span class="p">[</span><span class="n">alpha</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beta</span><span class="p">[</span><span class="n">beta</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">beta</span><span class="p">[</span><span class="n">beta</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
<span class="go">    &gt;&gt;&gt; f = distseg(a,b,c,d,alpha,beta)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">a</span> <span class="o">-</span> <span class="n">alpha</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">c</span> <span class="o">+</span> <span class="n">beta</span><span class="o">*</span><span class="p">(</span><span class="n">d</span><span class="o">-</span><span class="n">c</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">p1</span><span class="o">-</span><span class="n">p2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">v</span><span class="o">*</span><span class="n">v</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">diff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">f</span><span class="o">-</span><span class="n">g</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">diff</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.dmin3d">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">dmin3d</tt><big>(</big><em>a</em>, <em>b</em>, <em>c</em>, <em>d</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#dmin3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.dmin3d" title="Permalink to this definition">¶</a></dt>
<dd><p>evaluate the minimal distance between 2 set of segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : (3xN) initial point segment 1</p>
<p><strong>b</strong> : (3xN) end point segment 1</p>
<p><strong>c</strong> : (3xN) starting point segment 2</p>
<p><strong>d</strong> : (3xN) end point segment 2</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>alpha</strong> : segment parameterization</p>
<p><strong>beta</strong> : segment parameterization</p>
<p class="last"><strong>dmin</strong> : minimal distance between 2 segments</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.dptseg">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">dptseg</tt><big>(</big><em>p</em>, <em>pt</em>, <em>ph</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#dptseg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.dptseg" title="Permalink to this definition">¶</a></dt>
<dd><p>distance between a set of points and a segment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ps</strong> : ndim x Np</p>
<blockquote>
<div><p>array of Np points</p>
</div></blockquote>
<p><strong>pt</strong> : ndim x 1</p>
<blockquote>
<div><p>tail coordinates of segment</p>
</div></blockquote>
<p><strong>ph</strong> : ndim x 1</p>
<blockquote>
<div><p>head coordinates of segment</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>d1</strong> : 1 x Np</p>
<blockquote>
<div><p>distance between pt and ortho projection of ps</p>
</div></blockquote>
<p><strong>d2</strong> : 1 x Np</p>
<blockquote>
<div><p>distance between ph and ortho projection of ps</p>
</div></blockquote>
<p class="last"><strong>h</strong> : distance between ps and ortho projection of ps</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.ellipse">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">ellipse</tt><big>(</big><em>fd</em>, <em>p</em>, <em>vth</em>, <em>vph</em>, <em>Eth</em>, <em>Eph</em>, <em>N</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#ellipse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.ellipse" title="Permalink to this definition">¶</a></dt>
<dd><p>build a geomview file of an ellipse</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fd</strong> : file descriptor</p>
<p><strong>p</strong> : ellipse center</p>
<p><strong>vth</strong> : unitary vector along theta</p>
<p><strong>vph</strong> : unitary vector along phi</p>
<p><strong>Eth</strong> : complex</p>
<p><strong>Eph</strong> : complex</p>
<p class="last"><strong>N</strong> : descretization step</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.intersect">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">intersect</tt><big>(</big><em>a</em>, <em>b</em>, <em>c</em>, <em>d</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#intersect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.intersect" title="Permalink to this definition">¶</a></dt>
<dd><p>check if segment AB intersects segment CD</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : np.array (2xN)</p>
<p><strong>b</strong> : np.array (2xN)</p>
<p><strong>c</strong> : np.array (2xN)</p>
<p class="last"><strong>d</strong> : np.array (2xN)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#pylayers.util.geomutil.ccw" title="pylayers.util.geomutil.ccw"><tt class="xref py py-obj docutils literal"><span class="pre">ccw</span></tt></a></dt>
<dd>counter clock wise detection</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span> <span class="kn">as</span> <span class="nn">sp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.geomutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.plotutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b1</span> <span class="o">=</span> <span class="n">intersect</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">D</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt1</span> <span class="o">=</span> <span class="n">A</span><span class="p">[:,</span><span class="n">b1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ph1</span> <span class="o">=</span> <span class="n">B</span><span class="p">[:,</span><span class="n">b1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt2</span> <span class="o">=</span> <span class="n">C</span><span class="p">[:,</span><span class="n">b1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ph2</span> <span class="o">=</span> <span class="n">D</span><span class="p">[:,</span><span class="n">b1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span><span class="p">,</span><span class="n">a1</span> <span class="o">=</span> <span class="n">displot</span><span class="p">(</span><span class="n">pt1</span><span class="p">,</span><span class="n">ph1</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span><span class="p">,</span><span class="n">a2</span> <span class="o">=</span> <span class="n">displot</span><span class="p">(</span><span class="n">pt2</span><span class="p">,</span><span class="n">ph2</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ti</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;test intersect&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">intersect</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">D</span><span class="p">)</span>
<span class="go">array([ True], dtype=bool)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">intersect</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">D</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-6.py">Source code</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-6.png">png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-6.hires.png">hires.png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-6.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/pylayers-util-geomutil-6.png" src="../_images/pylayers-util-geomutil-6.png" />
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.isBetween">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">isBetween</tt><big>(</big><em>p1</em>, <em>p2</em>, <em>p</em>, <em>epsilon=1e-05</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#isBetween"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.isBetween" title="Permalink to this definition">¶</a></dt>
<dd><p>test if p is between p1 and p2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p1</strong> : np.array</p>
<p><strong>p2</strong> : np.array</p>
<p><strong>p</strong> : np.array</p>
<p><strong>epsilon</strong> : float</p>
<blockquote>
<div><p>tolerance default 1e-5</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>boolean</strong> :</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span><span class="p">(</span><span class="n">isBetween</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="n">p</span><span class="p">)),</span><span class="s">&#39;error&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.isaligned">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">isaligned</tt><big>(</big><em>a</em>, <em>b</em>, <em>c</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#isaligned"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.isaligned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.isleft">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">isleft</tt><big>(</big><em>a</em>, <em>b</em>, <em>c</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#isleft"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.isleft" title="Permalink to this definition">¶</a></dt>
<dd><p>Test point c is at left of the vector a&#8211;&gt;b</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : np.array (2xN)</p>
<p><strong>b</strong> : np.array (2xN)</p>
<p><strong>c</strong> : np.array (2xN)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>boolean array (1xN)</strong> :</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="pylayers.antprop.signature.html#module-pylayers.antprop.signature" title="pylayers.antprop.signature"><tt class="xref py py-obj docutils literal"><span class="pre">pylayers.antprop.signature</span></tt></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.plotutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span> <span class="kn">as</span> <span class="nn">sp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.geomutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.plotutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="kn">as</span> <span class="nn">plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="mi">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(([</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">]))</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">left</span><span class="o">=</span><span class="n">isleft</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">il</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">left</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="o">~</span><span class="n">left</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;b&#39;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">displot</span><span class="p">(</span><span class="n">A</span><span class="p">[:,</span><span class="n">il</span><span class="p">],</span><span class="n">B</span><span class="p">[:,</span><span class="n">il</span><span class="p">],</span><span class="n">arrow</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;g&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">displot</span><span class="p">(</span><span class="n">A</span><span class="p">[:,</span><span class="n">inl</span><span class="p">],</span><span class="n">B</span><span class="p">[:,</span><span class="n">inl</span><span class="p">],</span><span class="n">arrow</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-7.py">Source code</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-7.png">png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-7.hires.png">hires.png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-7.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/pylayers-util-geomutil-7.png" src="../_images/pylayers-util-geomutil-7.png" />
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.isleftorequal">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">isleftorequal</tt><big>(</big><em>a</em>, <em>b</em>, <em>c</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#isleftorequal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.isleftorequal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.line_intersection">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">line_intersection</tt><big>(</big><em>l1</em>, <em>l2</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#line_intersection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.line_intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>intersection between two 2D lines using shapely</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>l1: numpy.ndarray</strong> :</p>
<blockquote>
<div><blockquote>
<div><p>coordinates of l1 points</p>
</div></blockquote>
<dl class="docutils">
<dt>l2: numpy.ndarray</dt>
<dd><p class="first last">coordinates of l2 points</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Returns</strong> :</p>
<p><strong>&#8212;&#8212;-</strong> :</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>p: numpy.ndarray</dt>
<dd><p class="first last">coordinates of intersection point</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.linepoly_intersection">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">linepoly_intersection</tt><big>(</big><em>l</em>, <em>poly</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#linepoly_intersection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.linepoly_intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>intersection between a 2D line and a 2D polygon using shapely
Parameters
&#8212;&#8212;&#8212;-</p>
<blockquote>
<div><dl class="docutils">
<dt>l: numpy.ndarray</dt>
<dd>coordinates of l points</dd>
<dt>poly: numpy.ndarray</dt>
<dd>coordinates of poly points</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="docutils">
<dt>p: numpy.ndarray</dt>
<dd>coordinates of intersection point</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.linet">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">linet</tt><big>(</big><em>ax</em>, <em>p1</em>, <em>p2</em>, <em>al=0.9</em>, <em>color='blue'</em>, <em>linewidth=1</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#linet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.linet" title="Permalink to this definition">¶</a></dt>
<dd><p>draw a short line segment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : axes</p>
<p><strong>p1</strong> : np.array</p>
<blockquote>
<div><p>start point</p>
</div></blockquote>
<p><strong>p2</strong> : np.array</p>
<blockquote>
<div><p>end point</p>
</div></blockquote>
<p><strong>al</strong> : float</p>
<blockquote>
<div><p>0 &lt; al &lt; 1   percentage of drawing  default 0.9</p>
</div></blockquote>
<p><strong>color</strong> :  string</p>
<blockquote>
<div><p>color default &#8216;blue&#8217;</p>
</div></blockquote>
<p><strong>linewidth</strong> : float</p>
<blockquote>
<div><p>line width default 1</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ax</strong> : Axes instance</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.geomutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span>  <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">linet</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="n">al</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;red&#39;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">linet</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="n">p3</span><span class="p">,</span><span class="n">al</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;blue&#39;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">linet</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">p3</span><span class="p">,</span><span class="n">p4</span><span class="p">,</span><span class="n">al</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;green&#39;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">linet</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">p4</span><span class="p">,</span><span class="n">p1</span><span class="p">,</span><span class="n">al</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;cyan&#39;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-8.py">Source code</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-8.png">png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-8.hires.png">hires.png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-8.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/pylayers-util-geomutil-8.png" src="../_images/pylayers-util-geomutil-8.png" />
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.mirror">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">mirror</tt><big>(</big><em>p</em>, <em>pa</em>, <em>pb</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#mirror"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.mirror" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the image of p wrt the segment pa pb</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p</strong> : numpy.ndarray</p>
<blockquote>
<div><p>point to image</p>
</div></blockquote>
<p><strong>pa</strong> : numpy.ndarray</p>
<blockquote>
<div><p>segment tail</p>
</div></blockquote>
<p><strong>pb</strong> : numpy.ndarray</p>
<blockquote>
<div><p>segment head</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>M</strong> : numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.geomutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.plotutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pa</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pb</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">mirror</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">pa</span><span class="p">,</span><span class="n">pb</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">,:],</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">,:],</span><span class="s">&#39;or&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">,:],</span><span class="n">M</span><span class="p">[</span><span class="mi">1</span><span class="p">,:],</span><span class="s">&#39;ob&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-9.py">Source code</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-9.png">png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-9.hires.png">hires.png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-9.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/pylayers-util-geomutil-9.png" src="../_images/pylayers-util-geomutil-9.png" />
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.mul3">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">mul3</tt><big>(</big><em>A</em>, <em>B</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#mul3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.mul3" title="Permalink to this definition">¶</a></dt>
<dd><p>matrix multiplication</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>A :</strong> :</p>
<p><strong>B :</strong> :</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>C</strong> :  A*B</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.normalize">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">normalize</tt><big>(</big><em>vec</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#normalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>normalize an array of N ndim  vectors</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vec</strong> : ndarray (N x ndim)</p>
<blockquote>
<div><p>N ndim vectors</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vecn</strong> : ndarray (N x ndim)</p>
<blockquote class="last">
<div><p>N normalized ndim vectors</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.onb">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">onb</tt><big>(</big><em>A</em>, <em>B</em>, <em>v</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#onb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.onb" title="Permalink to this definition">¶</a></dt>
<dd><p>orthonormal basis from 2 points defining an axe and a vector</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>A</strong> : np.array</p>
<blockquote>
<div><p>3 x n</p>
</div></blockquote>
<p><strong>B</strong> : np.array</p>
<blockquote>
<div><p>3 x n</p>
</div></blockquote>
<p><strong>v</strong> : np.array</p>
<blockquote>
<div><p>3 x n</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>T basis (un,vn,wn)</strong> :</p>
<blockquote>
<div><p>3 x n x 3</p>
</div></blockquote>
<p><strong>(un,vn) is a basis in the plane transverse to the axis vn</strong> :</p>
<p class="last"><strong>wn is the unitary vector along vector AB</strong> :</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><tt class="xref py py-obj docutils literal"><span class="pre">pylayers.util.geomutil.Geomvect.geomBase</span></tt>, <tt class="xref py py-obj docutils literal"><span class="pre">pylayers.util.mobility.body</span></tt></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">onb</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>
<span class="go">array([[[ 1.,  0.,  0.],</span>
<span class="go">        [ 0.,  1.,  0.],</span>
<span class="go">        [ 0.,  0.,  1.]]</span>

<span class="go">       [[ 1.,  0.,  0.],</span>
<span class="go">        [ 0.,  1.,  0.],</span>
<span class="go">        [ 0.,  0.,  1.]],</span>

<span class="go">       [[ 1.,  0.,  0.],</span>
<span class="go">        [ 0.,  1.,  0.],</span>
<span class="go">        [ 0.,  0.,  1.]],</span>

<span class="go">       [[ 1.,  0.,  0.],</span>
<span class="go">        [ 0.,  1.,  0.],</span>
<span class="go">        [ 0.,  0.,  1.]]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plotPolygon">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">plotPolygon</tt><big>(</big><em>poly</em>, <em>color='#abcdef'</em>, <em>alpha=0.8</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plotPolygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plotPolygon" title="Permalink to this definition">¶</a></dt>
<dd><p>plot a shapely Polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>poly</strong> : shapely poligon</p>
<p><strong>color</strong> : defauld #abcdef&#8221;</p>
<p><strong>alpha</strong> : float</p>
<blockquote class="last">
<div><p>transparency   (default 0.8)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_bounds">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">plot_bounds</tt><big>(</big><em>ax</em>, <em>ob</em>, <em>color='#000000'</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_bounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_bounds" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axes</p>
<p><strong>ob</strong> : shapely object</p>
<p><strong>color</strong> : string</p>
<blockquote class="last">
<div><p>default &#8216;#999999&#8217;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_bounds2">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">plot_bounds2</tt><big>(</big><em>ax</em>, <em>ob</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_bounds2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_bounds2" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">http://pypi.python.org/pypi/Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_bounds3">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">plot_bounds3</tt><big>(</big><em>ax</em>, <em>ob</em>, <em>color</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_bounds3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_bounds3" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">http://pypi.python.org/pypi/Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_coords">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">plot_coords</tt><big>(</big><em>ax</em>, <em>ob</em>, <em>color='#999999'</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>plotting coord of a <cite>shapely</cite> object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axes</p>
<p><strong>ob</strong> : shapely object</p>
<p><strong>color</strong> : string</p>
<blockquote class="last">
<div><p>default &#8216;#999999&#8217;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_coords2">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">plot_coords2</tt><big>(</big><em>ax</em>, <em>ob</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_coords2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_coords2" title="Permalink to this definition">¶</a></dt>
<dd><p>plot point from coordinates
References
&#8212;&#8212;&#8212;-
<a class="reference external" href="http://pypi.python.org/pypi/Shapely">http://pypi.python.org/pypi/Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_coords3">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">plot_coords3</tt><big>(</big><em>ax</em>, <em>ob</em>, <em>color</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_coords3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_coords3" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">http://pypi.python.org/pypi/Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_line">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">plot_line</tt><big>(</big><em>ax</em>, <em>ob</em>, <em>color='#999999'</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_line" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axes</p>
<p><strong>ob</strong> : shapely object</p>
<p><strong>color</strong> : string</p>
<blockquote class="last">
<div><p>default &#8216;#999999&#8217;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>color = v_color(ob)</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">Shapely</a></p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.util.geomutil</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seg</span> <span class="o">=</span> <span class="n">shg</span><span class="o">.</span><span class="n">LineString</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span>  <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_line</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">seg</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_line2">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">plot_line2</tt><big>(</big><em>ax</em>, <em>ob</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_line2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_line2" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">http://pypi.python.org/pypi/Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_line3">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">plot_line3</tt><big>(</big><em>ax</em>, <em>ob</em>, <em>color</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_line3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_line3" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">http://pypi.python.org/pypi/Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.ptonseg">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">ptonseg</tt><big>(</big><em>pta</em>, <em>phe</em>, <em>pt</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#ptonseg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.ptonseg" title="Permalink to this definition">¶</a></dt>
<dd><p>return a point on the segment (pta,pte)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pta</strong> : ndarray</p>
<p><strong>phe</strong> : ndarray</p>
<p><strong>pt</strong> : ndarray</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>p</strong> : ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.pvec">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">pvec</tt><big>(</big><em>v1</em>, <em>v2</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#pvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.pvec" title="Permalink to this definition">¶</a></dt>
<dd><p>cross product between v1 and v2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>v1</strong> : numpy array</p>
<p><strong>v2</strong> : numpy array</p>
<p><strong>Returns</strong> :</p>
<p><strong>&#8212;&#8212;-</strong> :</p>
<p class="last"><strong>v3 = v1 x v2</strong> :</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><tt class="xref py py-obj docutils literal"><span class="pre">np.cross</span></tt></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v3</span> <span class="o">=</span> <span class="n">pvec</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.pvecn">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">pvecn</tt><big>(</big><em>v1</em>, <em>v2</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#pvecn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.pvecn" title="Permalink to this definition">¶</a></dt>
<dd><p>cross product and normalization</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>v1</strong> : numpy array</p>
<blockquote>
<div><p>v2 : numpy array</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>v3 = v1 x v2 / | v1 x v2 |</strong> :</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v3</span> <span class="o">=</span> <span class="n">pvecn</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.sector">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">sector</tt><big>(</big><em>p1</em>, <em>p2</em>, <em>pt</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#sector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.sector" title="Permalink to this definition">¶</a></dt>
<dd><p>angular sector  p1 pt p2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p1</strong> : np.array</p>
<blockquote>
<div><p>point</p>
</div></blockquote>
<p><strong>p2</strong> : np.array</p>
<blockquote>
<div><p>point</p>
</div></blockquote>
<p><strong>pt</strong> : np.array</p>
<blockquote class="last">
<div><p>point</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Useful for AAS calculation</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.shrinkPolygon">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">shrinkPolygon</tt><big>(</big><em>poly</em>, <em>d=0.1</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#shrinkPolygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.shrinkPolygon" title="Permalink to this definition">¶</a></dt>
<dd><p>shrink polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>poly</strong> : shapely polygon</p>
<p><strong>d</strong> : float</p>
<blockquote>
<div><p>0.1</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>poly</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.shrinkPolygon2">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">shrinkPolygon2</tt><big>(</big><em>poly1</em>, <em>d=0.1</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#shrinkPolygon2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.shrinkPolygon2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.simplifyPolygon">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">simplifyPolygon</tt><big>(</big><em>poly1</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#simplifyPolygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.simplifyPolygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplify polygon : suppress adjacent colinear segments
Parameters
&#8212;&#8212;&#8212;-
poly1</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.v_color">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">v_color</tt><big>(</big><em>ob</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#v_color"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.v_color" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">http://pypi.python.org/pypi/Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.valid_wedge">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">valid_wedge</tt><big>(</big><em>ps</em>, <em>pw</em>, <em>p1</em>, <em>p2</em>, <em>grazing</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#valid_wedge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.valid_wedge" title="Permalink to this definition">¶</a></dt>
<dd><p>check set of N wedge sector validity for point ps</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ps</strong> : source point</p>
<blockquote>
<div><p>pw       : np.array (Nx2) wedge apex point
p1       : np.array (Nx2) point 1 of wedge
p2       : np.array (Nx2) point 2 of wedge
grazing  : 0 (without grazing)</p>
<blockquote>
<div><blockquote>
<div><blockquote>
<div><p>1 (authorize grazing)</p>
<blockquote>
<div><p>xps</p>
</div></blockquote>
</div></blockquote>
<p>x pw</p>
</div></blockquote>
<p>/           /            /             x p1    x p2</p>
</div></blockquote>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>valid</strong> : np.array (Nx1)</p>
<blockquote class="last">
<div><p>valid = 1 if ps is in the convex sector
valid = 0 if ps is in the concav sector</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">valid_wedge</span><span class="p">(</span><span class="n">ps1</span><span class="p">,</span><span class="n">pw</span><span class="p">,</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">valid_wedge</span><span class="p">(</span><span class="n">ps2</span><span class="p">,</span><span class="n">pw</span><span class="p">,</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="go">1.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.vec_sph">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">vec_sph</tt><big>(</big><em>th</em>, <em>ph</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#vec_sph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.vec_sph" title="Permalink to this definition">¶</a></dt>
<dd><p>return Spherical orthonormal frame</p>
<dl class="docutils">
<dt>[ [ eth]</dt>
<dd>[ eph]    (theta,phi)
[ er ] ]</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.wall_delta">
<tt class="descclassname">pylayers.util.geomutil.</tt><tt class="descname">wall_delta</tt><big>(</big><em>x1</em>, <em>y1</em>, <em>x2</em>, <em>y2</em>, <em>delta=0.0001</em><big>)</big><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#wall_delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.wall_delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Identification of new points</p>
<p>After defining a tolerance length those points which are situated in
the extremities of the walls at a distance equivalent to the
tolerance length are identified.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x1</strong> :  float</p>
<blockquote>
<div><p>The x component of the point of the first extremity</p>
</div></blockquote>
<p><strong>y1</strong> :  float</p>
<blockquote>
<div><p>The x component of the point of the first extremity</p>
</div></blockquote>
<p><strong>x2</strong> :  float</p>
<blockquote>
<div><p>The x component of the point of the second extremity</p>
</div></blockquote>
<p><strong>y2</strong> :  float</p>
<blockquote>
<div><p>The x component of the point of the second extremity.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>bx</strong> :  float</p>
<blockquote>
<div><p>The x component of the new point of the first extremity</p>
</div></blockquote>
<p><strong>by</strong> :  float</p>
<blockquote>
<div><p>The y component of the new point of the first extremity</p>
</div></blockquote>
<p><strong>cx</strong> :  float</p>
<blockquote>
<div><p>The x component of the new point of the second extremity</p>
</div></blockquote>
<p><strong>cy</strong> :  float</p>
<blockquote class="last">
<div><p>The y component of the new point of the second extremity.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<div class="math">
<p><img src="../_images/math/ccf15db5b11206874ea452e775e02c552e374a5a.png" alt="bx=x1+(x2-x1) \frac{\delta}{mod(a)}."/></p>
</div><p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span><span class="o">=-</span><span class="mf">2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y1</span><span class="o">=</span><span class="mf">2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x2</span><span class="o">=-</span><span class="mf">1.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y2</span><span class="o">=</span><span class="mf">1.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bx</span><span class="p">,</span><span class="n">by</span><span class="p">,</span><span class="n">cx</span><span class="p">,</span><span class="n">cy</span> <span class="o">=</span> <span class="n">wall_delta</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span><span class="n">x2</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">delta</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">bx</span><span class="o">==-</span><span class="mf">1.9999292893218814</span><span class="p">,</span><span class="s">&#39;Mistake&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">by</span><span class="o">==</span><span class="mf">1.9999292893218814</span><span class="p">,</span><span class="s">&#39;Mistake&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">cx</span><span class="o">==-</span><span class="mf">1.0000707106781186</span><span class="p">,</span><span class="s">&#39;Mistake&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">cy</span><span class="o">==</span><span class="mf">1.0000707106781186</span><span class="p">,</span><span class="s">&#39;Mistake&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pylayers.util.graphutil.html" title="pylayers.util.graphutil module"
             >next</a> |</li>
        <li class="right" >
          <a href="pylayers.util.easygui.html" title="pylayers.util.easygui module"
             >previous</a> |</li>
        <li><a href="../index.html">PyLayers Home </a> |&nbsp;</li>
        <li><a href="../notebook/index.html">Documentation </a> |&nbsp;</li>
        <li><a href="../download.html">Download </a> |&nbsp; </li>
        <li><a href="https://github.com/pylayers/">Developer (Github)</a> </li>

          <li><a href="pylayers.html" >pylayers package</a> &raquo;</li>
          <li><a href="pylayers.util.html" >pylayers.util package</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2014, PyLayers developer team.
      Last updated on mars 02, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34943220-1']);
  _gaq.push(['_setDomainName', 'pylayers.github.io']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })(); 
</script> 
 
  </body>
</html>