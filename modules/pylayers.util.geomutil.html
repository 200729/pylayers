
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pylayers.util.geomutil &mdash; Python 1 documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="Python 1 documentation" href="../index.html" />
    <link rel="up" title="PyLayers Modules Reference" href="pylayers.html" />
    <link rel="next" title="pylayers.util.geomutil.Geomlist.__init__" href="generated/pylayers.util.geomutil.Geomlist.__init__.html" />
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34943220-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>
  <body role="document">

    <div class="header-wrapper">
      <div class="header">
          <p class="logo"><a href="../index.html">
            <img src="../_static/pylayers.png" alt="Logo"/>
          </a>
          </p><div class="navbar">
          <ul>
            <li><a href="../download.html">Download</a></li>
            <li><a href="../notebook/TOC.html">User Guide</a></li>
            <li><a href="pylayers.html">Reference</a></li>
       </ul>

<div class="search_form">

<div id="cse" style="width: 100%;"></div>
<script>
  (function() {
       var cx = '004820205189002234612:sa15qzuf2ca';
           var gcse = document.createElement('script');
               gcse.type = 'text/javascript';
                   gcse.async = true;
                       gcse.src = (document.location.protocol == 'https:' ?
                           'https:' : 'http:') +
                               '//cse.google.com/cse.js?cx=' + cx;
                                   var s =
                                   document.getElementsByTagName('script')[0];
                                       s.parentNode.insertBefore(gcse, s);
                                         })();
</script>
<gcse:search></gcse:search>
</div>
</div> <!-- end navbar --></div>
    </div>

    <div class="content-wrapper">

      <div class="sphinxsidebar">
	<div class="sphinxsidebarwrapper">
	  <div class="rel">
	   
	<!-- rellinks[1:] is an ugly hack to avoid link to module
	    index  -->
	<div class="rellink">
	<a href="generated/pylayers.util.geomutil.Geomlist.__init__.html" title="pylayers.util.geomutil.Geomlist.__init__"
	    accesskey="N">Next
	    <br>
	    <span class="smallrellink">
	    pylayers.util...
	    </span>
	    <span class="hiddenrellink">
	    pylayers.util.geomutil.Geomlist.__init__
	    </span>
	    
	    </a>
	</div>
	    <div class="spacer">
	    &nbsp;
	    </div>
	
	<div class="rellink">
	<a href="../py-modindex.html" title="Python Module Index"
	    >Modules
	    <br>
	    <span class="smallrellink">
	    Python Module Index
	    </span>
	    <span class="hiddenrellink">
	    Python Module Index
	    </span>
	    
	    </a>
	</div>
	<!-- Ad a link to the 'up' page -->
	<div class="spacer">
	&nbsp;
	</div>
	<div class="rellink">
	<a href="pylayers.html" title="PyLayers Modules Reference" >
	Up
	<br>
	<span class="smallrellink">
	PyLayers Modu...
	</span>
	<span class="hiddenrellink">
	PyLayers Modules Reference
	</span>
	
	</a>
	</div>
    </div>
    <p style="text-align: center; background-color: #BFFFFF">This documentation is

    for Python <strong>version 1</strong>
    &mdash; <a href="https://github.com/pylayers/pylayers/archive/master.zip">Other versions</a></p>
    
    <h3>Citing</h3>
    <p>If you use the software, please consider
    <a href="../about.html#citing-pylayers">citing pylayers</a>.</p>
    <h3>This page</h3>
	<ul>
<li><a class="reference internal" href="#">pylayers.util.geomutil</a><ul>
<li><a class="reference internal" href="#geomview-class">Geomview Class</a></li>
<li><a class="reference internal" href="#geomlist-class">Geomlist Class</a></li>
<li><a class="reference internal" href="#geomvect-class">GeomVect Class</a></li>
<li><a class="reference internal" href="#geomoff-class">Geomoff Class</a></li>
<li><a class="reference internal" href="#plot-shapely-class">Plot_Shapely Class</a></li>
<li><a class="reference internal" href="#linestring-class">LineString Class</a></li>
<li><a class="reference internal" href="#polygon-class">PolyGon Class</a></li>
<li><a class="reference internal" href="#utility-functions">Utility Functions</a><ul>
</ul>
</li>
</ul>
</li>
</ul>

    
    </div>
	  </div>


      <div class="content">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-pylayers.util.geomutil">
<span id="pylayers-util-geomutil"></span><h1>pylayers.util.geomutil<a class="headerlink" href="#module-pylayers.util.geomutil" title="Permalink to this headline">¶</a></h1>
<div class="section" id="geomview-class">
<h2>Geomview Class<a class="headerlink" href="#geomview-class" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
</tbody>
</table>
<p>Geomview.__init__
Geomview.show3</p>
</div>
<div class="section" id="geomlist-class">
<h2>Geomlist Class<a class="headerlink" href="#geomlist-class" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="generated/pylayers.util.geomutil.Geomlist.__init__.html#pylayers.util.geomutil.Geomlist.__init__" title="pylayers.util.geomutil.Geomlist.__init__"><code class="xref py py-obj docutils literal"><span class="pre">Geomlist.__init__</span></code></a>(_filename[,&nbsp;clear])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomlist.append" title="pylayers.util.geomutil.Geomlist.append"><code class="xref py py-obj docutils literal"><span class="pre">Geomlist.append</span></code></a>(strg)</td>
<td>append a line in .list file</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="geomvect-class">
<h2>GeomVect Class<a class="headerlink" href="#geomvect-class" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="generated/pylayers.util.geomutil.GeomVect.__init__.html#pylayers.util.geomutil.GeomVect.__init__" title="pylayers.util.geomutil.GeomVect.__init__"><code class="xref py py-obj docutils literal"><span class="pre">GeomVect.__init__</span></code></a>([_filename,&nbsp;clear])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.GeomVect.segments" title="pylayers.util.geomutil.GeomVect.segments"><code class="xref py py-obj docutils literal"><span class="pre">GeomVect.segments</span></code></a>(ds[,&nbsp;i2d,&nbsp;linewidth])</td>
<td>display segments</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.GeomVect.geomBase" title="pylayers.util.geomutil.GeomVect.geomBase"><code class="xref py py-obj docutils literal"><span class="pre">GeomVect.geomBase</span></code></a>(M[,&nbsp;pt,&nbsp;col,&nbsp;linewidth,&nbsp;scale])</td>
<td>Construct a geomview vect file for vizualisation of a frame</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.GeomVect.points" title="pylayers.util.geomutil.GeomVect.points"><code class="xref py py-obj docutils literal"><span class="pre">GeomVect.points</span></code></a>(pt[,&nbsp;colorname])</td>
<td>Geomview display a set of points with color</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="geomoff-class">
<h2>Geomoff Class<a class="headerlink" href="#geomoff-class" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="generated/pylayers.util.geomutil.Geomoff.__init__.html#pylayers.util.geomutil.Geomoff.__init__" title="pylayers.util.geomutil.Geomoff.__init__"><code class="xref py py-obj docutils literal"><span class="pre">Geomoff.__init__</span></code></a>([_filename])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomoff.loadpt" title="pylayers.util.geomutil.Geomoff.loadpt"><code class="xref py py-obj docutils literal"><span class="pre">Geomoff.loadpt</span></code></a>()</td>
<td>load points</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomoff.savept" title="pylayers.util.geomutil.Geomoff.savept"><code class="xref py py-obj docutils literal"><span class="pre">Geomoff.savept</span></code></a>(ptnew,&nbsp;_fileoff)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomoff.polygon" title="pylayers.util.geomutil.Geomoff.polygon"><code class="xref py py-obj docutils literal"><span class="pre">Geomoff.polygon</span></code></a>(p,&nbsp;poly)</td>
<td>create geomview off for polygon</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomoff.polygons" title="pylayers.util.geomutil.Geomoff.polygons"><code class="xref py py-obj docutils literal"><span class="pre">Geomoff.polygons</span></code></a>(p,&nbsp;polys)</td>
<td>create a gemoff file for a list of polygons</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomoff.cylinder" title="pylayers.util.geomutil.Geomoff.cylinder"><code class="xref py py-obj docutils literal"><span class="pre">Geomoff.cylinder</span></code></a>(r,&nbsp;l[,&nbsp;nphi,&nbsp;nl,&nbsp;col,&nbsp;alpha])</td>
<td>create a cylinder</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomoff.box" title="pylayers.util.geomutil.Geomoff.box"><code class="xref py py-obj docutils literal"><span class="pre">Geomoff.box</span></code></a>([extrem])</td>
<td>create a box</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomoff.pattern" title="pylayers.util.geomutil.Geomoff.pattern"><code class="xref py py-obj docutils literal"><span class="pre">Geomoff.pattern</span></code></a>(theta,&nbsp;phi,&nbsp;E,&nbsp;**kwargs)</td>
<td>export antenna pattern in a geomview format</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="plot-shapely-class">
<h2>Plot_Shapely Class<a class="headerlink" href="#plot-shapely-class" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="generated/pylayers.util.geomutil.Plot_shapely.__init__.html#pylayers.util.geomutil.Plot_shapely.__init__" title="pylayers.util.geomutil.Plot_shapely.__init__"><code class="xref py py-obj docutils literal"><span class="pre">Plot_shapely.__init__</span></code></a>(obj,&nbsp;ax[,&nbsp;coul,&nbsp;alph])</td>
<td>object constructor</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Plot_shapely.plot_coords" title="pylayers.util.geomutil.Plot_shapely.plot_coords"><code class="xref py py-obj docutils literal"><span class="pre">Plot_shapely.plot_coords</span></code></a>()</td>
<td>points</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Plot_shapely.plot_ligne" title="pylayers.util.geomutil.Plot_shapely.plot_ligne"><code class="xref py py-obj docutils literal"><span class="pre">Plot_shapely.plot_ligne</span></code></a>()</td>
<td>lines</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Plot_shapely.plot_polygon" title="pylayers.util.geomutil.Plot_shapely.plot_polygon"><code class="xref py py-obj docutils literal"><span class="pre">Plot_shapely.plot_polygon</span></code></a>()</td>
<td>polygons</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Plot_shapely.plot_multi" title="pylayers.util.geomutil.Plot_shapely.plot_multi"><code class="xref py py-obj docutils literal"><span class="pre">Plot_shapely.plot_multi</span></code></a>()</td>
<td>multipoints, multilignes,multipolygones + GeometryCollection</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="linestring-class">
<h2>LineString Class<a class="headerlink" href="#linestring-class" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="generated/pylayers.util.geomutil.LineString.__init__.html#pylayers.util.geomutil.LineString.__init__" title="pylayers.util.geomutil.LineString.__init__"><code class="xref py py-obj docutils literal"><span class="pre">LineString.__init__</span></code></a>(p)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.LineString.plot" title="pylayers.util.geomutil.LineString.plot"><code class="xref py py-obj docutils literal"><span class="pre">LineString.plot</span></code></a>(**kwargs)</td>
<td>plot LineString</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="polygon-class">
<h2>PolyGon Class<a class="headerlink" href="#polygon-class" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="generated/pylayers.util.geomutil.Polygon.__init__.html#pylayers.util.geomutil.Polygon.__init__" title="pylayers.util.geomutil.Polygon.__init__"><code class="xref py py-obj docutils literal"><span class="pre">Polygon.__init__</span></code></a>([p,&nbsp;vnodes,&nbsp;delta])</td>
<td>object constructor</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Polygon.plot" title="pylayers.util.geomutil.Polygon.plot"><code class="xref py py-obj docutils literal"><span class="pre">Polygon.plot</span></code></a>(**kwargs)</td>
<td>plot function</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="generated/pylayers.util.geomutil.Polygon.__init__.html#pylayers.util.geomutil.Polygon.__init__" title="pylayers.util.geomutil.Polygon.__init__"><code class="xref py py-obj docutils literal"><span class="pre">Polygon.__init__</span></code></a>([p,&nbsp;vnodes,&nbsp;delta])</td>
<td>object constructor</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="generated/pylayers.util.geomutil.Polygon.__add__.html#pylayers.util.geomutil.Polygon.__add__" title="pylayers.util.geomutil.Polygon.__add__"><code class="xref py py-obj docutils literal"><span class="pre">Polygon.__add__</span></code></a>(p)</td>
<td>add 2 polygons</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="generated/pylayers.util.geomutil.Polygon.__repr__.html#pylayers.util.geomutil.Polygon.__repr__" title="pylayers.util.geomutil.Polygon.__repr__"><code class="xref py py-obj docutils literal"><span class="pre">Polygon.__repr__</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Polygon.ndarray" title="pylayers.util.geomutil.Polygon.ndarray"><code class="xref py py-obj docutils literal"><span class="pre">Polygon.ndarray</span></code></a>()</td>
<td>get a ndarray from a Polygon</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Polygon.signedarea" title="pylayers.util.geomutil.Polygon.signedarea"><code class="xref py py-obj docutils literal"><span class="pre">Polygon.signedarea</span></code></a>()</td>
<td>get the signed area of the polygon</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Polygon.plot" title="pylayers.util.geomutil.Polygon.plot"><code class="xref py py-obj docutils literal"><span class="pre">Polygon.plot</span></code></a>(**kwargs)</td>
<td>plot function</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Polygon.simplify" title="pylayers.util.geomutil.Polygon.simplify"><code class="xref py py-obj docutils literal"><span class="pre">Polygon.simplify</span></code></a>()</td>
<td>simplify polygon - suppress adjacent colinear segments</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Polygon.buildGv" title="pylayers.util.geomutil.Polygon.buildGv"><code class="xref py py-obj docutils literal"><span class="pre">Polygon.buildGv</span></code></a>(**kwargs)</td>
<td>Create  visibility graph for a polygon</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Polygon.showGv" title="pylayers.util.geomutil.Polygon.showGv"><code class="xref py py-obj docutils literal"><span class="pre">Polygon.showGv</span></code></a>(**kwargs)</td>
<td>show graph Gv</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Polygon.ptconvex" title="pylayers.util.geomutil.Polygon.ptconvex"><code class="xref py py-obj docutils literal"><span class="pre">Polygon.ptconvex</span></code></a>([display])</td>
<td>Return a list of booleans indicating points convexity</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="utility-functions">
<h2>Utility Functions<a class="headerlink" href="#utility-functions" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.angular" title="pylayers.util.geomutil.angular"><code class="xref py py-obj docutils literal"><span class="pre">angular</span></code></a>(p1,&nbsp;p2)</td>
<td>determine angle between p1 and p2 in inerval [0 2pi]</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.vecang" title="pylayers.util.geomutil.vecang"><code class="xref py py-obj docutils literal"><span class="pre">vecang</span></code></a>(v1,&nbsp;v2)</td>
<td>angle between v1 and v2 , result in [0,2*pi]</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.SignedArea" title="pylayers.util.geomutil.SignedArea"><code class="xref py py-obj docutils literal"><span class="pre">SignedArea</span></code></a>([p])</td>
<td>Calculate the signed area of a sequence of points in a  plane</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Centroid" title="pylayers.util.geomutil.Centroid"><code class="xref py py-obj docutils literal"><span class="pre">Centroid</span></code></a>([p])</td>
<td>Determine the centroid of the polygon defined by a sequence of points in a plane</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Lr2n" title="pylayers.util.geomutil.Lr2n"><code class="xref py py-obj docutils literal"><span class="pre">Lr2n</span></code></a>([p,&nbsp;closed])</td>
<td>Linear ring to normal</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.isBetween" title="pylayers.util.geomutil.isBetween"><code class="xref py py-obj docutils literal"><span class="pre">isBetween</span></code></a>(p1,&nbsp;p2,&nbsp;p[,&nbsp;epsilon])</td>
<td>test if p is between p1 and p2</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.pvec" title="pylayers.util.geomutil.pvec"><code class="xref py py-obj docutils literal"><span class="pre">pvec</span></code></a>(v1,&nbsp;v2)</td>
<td>cross product between v1 and v2</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.pvecn" title="pylayers.util.geomutil.pvecn"><code class="xref py py-obj docutils literal"><span class="pre">pvecn</span></code></a>(v1,&nbsp;v2)</td>
<td>cross product and normalization</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.onb" title="pylayers.util.geomutil.onb"><code class="xref py py-obj docutils literal"><span class="pre">onb</span></code></a>(A,&nbsp;B,&nbsp;v)</td>
<td>orthonormal basis from 2 points defining an axe and a vector</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.vec_sph" title="pylayers.util.geomutil.vec_sph"><code class="xref py py-obj docutils literal"><span class="pre">vec_sph</span></code></a>(th,ph)</td>
<td>return Spherical orthonormal frame</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.ellipse" title="pylayers.util.geomutil.ellipse"><code class="xref py py-obj docutils literal"><span class="pre">ellipse</span></code></a>(fd,&nbsp;p,&nbsp;vth,&nbsp;vph,&nbsp;Eth,&nbsp;Eph,&nbsp;N)</td>
<td>build a geomview file of an ellipse</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.normalize" title="pylayers.util.geomutil.normalize"><code class="xref py py-obj docutils literal"><span class="pre">normalize</span></code></a>(vec)</td>
<td>normalize an array of N ndim vectors</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.ptonseg" title="pylayers.util.geomutil.ptonseg"><code class="xref py py-obj docutils literal"><span class="pre">ptonseg</span></code></a>(pta,&nbsp;phe,&nbsp;pt)</td>
<td>return a point on the segment (pta,pte)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.dptseg" title="pylayers.util.geomutil.dptseg"><code class="xref py py-obj docutils literal"><span class="pre">dptseg</span></code></a>(p,&nbsp;pt,&nbsp;ph)</td>
<td>distance between a set of points and a segment</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.linet" title="pylayers.util.geomutil.linet"><code class="xref py py-obj docutils literal"><span class="pre">linet</span></code></a>(ax,&nbsp;p1,&nbsp;p2[,&nbsp;al,&nbsp;color,&nbsp;linewidth])</td>
<td>draw a short line segment</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.ccw" title="pylayers.util.geomutil.ccw"><code class="xref py py-obj docutils literal"><span class="pre">ccw</span></code></a>(a,&nbsp;b,&nbsp;c)</td>
<td>counter clock wise order</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.are_points_inside_cone" title="pylayers.util.geomutil.are_points_inside_cone"><code class="xref py py-obj docutils literal"><span class="pre">are_points_inside_cone</span></code></a>(points,&nbsp;apex,&nbsp;v[,&nbsp;radius])</td>
<td>determine if a set of points are inside a cone</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.intersect_cone_seg" title="pylayers.util.geomutil.intersect_cone_seg"><code class="xref py py-obj docutils literal"><span class="pre">intersect_cone_seg</span></code></a>(line0,&nbsp;line1,&nbsp;seg[,&nbsp;...])</td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.intersect_halfline_seg" title="pylayers.util.geomutil.intersect_halfline_seg"><code class="xref py py-obj docutils literal"><span class="pre">intersect_halfline_seg</span></code></a>(line,&nbsp;seg)</td>
<td>intersect a half line and a segment</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.intersect3" title="pylayers.util.geomutil.intersect3"><code class="xref py py-obj docutils literal"><span class="pre">intersect3</span></code></a>(a,&nbsp;b,&nbsp;pg,&nbsp;u1,&nbsp;u2,&nbsp;l1,&nbsp;l2[,&nbsp;binter])</td>
<td>Intersection of a line and a 3D rectangle screen</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.intersect" title="pylayers.util.geomutil.intersect"><code class="xref py py-obj docutils literal"><span class="pre">intersect</span></code></a>(a,&nbsp;b,&nbsp;c,&nbsp;d)</td>
<td>check if segment AB intersects segment CD in 2D</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.is_aligned3" title="pylayers.util.geomutil.is_aligned3"><code class="xref py py-obj docutils literal"><span class="pre">is_aligned3</span></code></a>(a,&nbsp;b,&nbsp;c[,&nbsp;tol])</td>
<td>test aligment of 3 points</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.is_aligned4" title="pylayers.util.geomutil.is_aligned4"><code class="xref py py-obj docutils literal"><span class="pre">is_aligned4</span></code></a>(a,&nbsp;b,&nbsp;c,&nbsp;d[,&nbsp;tol])</td>
<td>test aligment of 4 points</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.isleft" title="pylayers.util.geomutil.isleft"><code class="xref py py-obj docutils literal"><span class="pre">isleft</span></code></a>(a,&nbsp;b,&nbsp;c[,&nbsp;tol])</td>
<td>Test point c is at left of the vector a&#8211;&gt;b</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.isleftorequal" title="pylayers.util.geomutil.isleftorequal"><code class="xref py py-obj docutils literal"><span class="pre">isleftorequal</span></code></a>(a,&nbsp;b,&nbsp;c)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.affine" title="pylayers.util.geomutil.affine"><code class="xref py py-obj docutils literal"><span class="pre">affine</span></code></a>(X,&nbsp;Y)</td>
<td>find affine transformation</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.cylmap" title="pylayers.util.geomutil.cylmap"><code class="xref py py-obj docutils literal"><span class="pre">cylmap</span></code></a>(Y[,&nbsp;r,&nbsp;l])</td>
<td>find affine transformation for a specific cylinder</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.MRot3" title="pylayers.util.geomutil.MRot3"><code class="xref py py-obj docutils literal"><span class="pre">MRot3</span></code></a>(a,&nbsp;axe)</td>
<td>Return a 3D rotation matrix along axe 0|1|2</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.MATP" title="pylayers.util.geomutil.MATP"><code class="xref py py-obj docutils literal"><span class="pre">MATP</span></code></a>(sl,&nbsp;el,&nbsp;phi,&nbsp;tilt,&nbsp;pol)</td>
<td>Calculate a rotation matrix for antenna pointing and orientation control</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.MEulerAngle" title="pylayers.util.geomutil.MEulerAngle"><code class="xref py py-obj docutils literal"><span class="pre">MEulerAngle</span></code></a>(alpha,&nbsp;beta,&nbsp;gamma)</td>
<td>Calculate a rotation matrix from 3 Euler angles</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.SphericalBasis" title="pylayers.util.geomutil.SphericalBasis"><code class="xref py py-obj docutils literal"><span class="pre">SphericalBasis</span></code></a>(a)</td>
<td>construct a spherical basis from a direction theta,phi</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.angledir" title="pylayers.util.geomutil.angledir"><code class="xref py py-obj docutils literal"><span class="pre">angledir</span></code></a>(s)</td>
<td>evaluate (theta,phi) from direction vector</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Bthph" title="pylayers.util.geomutil.Bthph"><code class="xref py py-obj docutils literal"><span class="pre">Bthph</span></code></a>(th,&nbsp;ph,&nbsp;M)</td>
<td>Return theta and phi tranformed from a rotation matrix M</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.BTB" title="pylayers.util.geomutil.BTB"><code class="xref py py-obj docutils literal"><span class="pre">BTB</span></code></a>(a_g,&nbsp;T)</td>
<td>Produce a set of rotation matrices for passage between global and local frame</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.plot_coords" title="pylayers.util.geomutil.plot_coords"><code class="xref py py-obj docutils literal"><span class="pre">plot_coords</span></code></a>(ax,&nbsp;ob[,&nbsp;color])</td>
<td>plotting coord of a <cite>shapely</cite> object</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.plot_bounds" title="pylayers.util.geomutil.plot_bounds"><code class="xref py py-obj docutils literal"><span class="pre">plot_bounds</span></code></a>(ax,&nbsp;ob[,&nbsp;color])</td>
<td>plot bounds</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.plot_line" title="pylayers.util.geomutil.plot_line"><code class="xref py py-obj docutils literal"><span class="pre">plot_line</span></code></a>(ax,&nbsp;ob[,&nbsp;color])</td>
<td>plot line</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.v_color" title="pylayers.util.geomutil.v_color"><code class="xref py py-obj docutils literal"><span class="pre">v_color</span></code></a>(ob)</td>
<td>return color</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.plotPolygon" title="pylayers.util.geomutil.plotPolygon"><code class="xref py py-obj docutils literal"><span class="pre">plotPolygon</span></code></a>(poly[,&nbsp;color,&nbsp;alpha])</td>
<td>plot a shapely Polygon</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.shrinkPolygon" title="pylayers.util.geomutil.shrinkPolygon"><code class="xref py py-obj docutils literal"><span class="pre">shrinkPolygon</span></code></a>(poly[,&nbsp;d])</td>
<td>shrink polygon</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.shrinkPolygon2" title="pylayers.util.geomutil.shrinkPolygon2"><code class="xref py py-obj docutils literal"><span class="pre">shrinkPolygon2</span></code></a>(poly1[,&nbsp;d])</td>
<td>shrink Polygon</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.simplifyPolygon" title="pylayers.util.geomutil.simplifyPolygon"><code class="xref py py-obj docutils literal"><span class="pre">simplifyPolygon</span></code></a>(poly1)</td>
<td>Simplify polygon : suppress adjacent colinear segments</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.wall_delta" title="pylayers.util.geomutil.wall_delta"><code class="xref py py-obj docutils literal"><span class="pre">wall_delta</span></code></a>(x1,&nbsp;y1,&nbsp;x2,&nbsp;y2[,&nbsp;delta])</td>
<td>Identification of new points</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.plot_coords2" title="pylayers.util.geomutil.plot_coords2"><code class="xref py py-obj docutils literal"><span class="pre">plot_coords2</span></code></a>(ax,&nbsp;ob)</td>
<td>plot point from coordinates</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.plot_bounds2" title="pylayers.util.geomutil.plot_bounds2"><code class="xref py py-obj docutils literal"><span class="pre">plot_bounds2</span></code></a>(ax,&nbsp;ob)</td>
<td>plot bounds v2</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.plot_line2" title="pylayers.util.geomutil.plot_line2"><code class="xref py py-obj docutils literal"><span class="pre">plot_line2</span></code></a>(ax,&nbsp;ob)</td>
<td>plot line v2</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.plot_coords3" title="pylayers.util.geomutil.plot_coords3"><code class="xref py py-obj docutils literal"><span class="pre">plot_coords3</span></code></a>(ax,&nbsp;ob,&nbsp;color)</td>
<td>plot coors v3</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.plot_bounds3" title="pylayers.util.geomutil.plot_bounds3"><code class="xref py py-obj docutils literal"><span class="pre">plot_bounds3</span></code></a>(ax,&nbsp;ob,&nbsp;color)</td>
<td>plot bounds v3</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.plot_line3" title="pylayers.util.geomutil.plot_line3"><code class="xref py py-obj docutils literal"><span class="pre">plot_line3</span></code></a>(ax,&nbsp;ob,&nbsp;color)</td>
<td>plot lines v3</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.valid_wedge" title="pylayers.util.geomutil.valid_wedge"><code class="xref py py-obj docutils literal"><span class="pre">valid_wedge</span></code></a>(ps,&nbsp;pw,&nbsp;p1,&nbsp;p2,&nbsp;grazing)</td>
<td>check set of N wedge sector validity for point ps</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.sector" title="pylayers.util.geomutil.sector"><code class="xref py py-obj docutils literal"><span class="pre">sector</span></code></a>(p1,&nbsp;p2,&nbsp;pt)</td>
<td>non signed angular sector  between</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.dist" title="pylayers.util.geomutil.dist"><code class="xref py py-obj docutils literal"><span class="pre">dist</span></code></a>(x,&nbsp;y,&nbsp;ax)</td>
<td>calculates distance between two arrays along a given axis</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.line_intersection" title="pylayers.util.geomutil.line_intersection"><code class="xref py py-obj docutils literal"><span class="pre">line_intersection</span></code></a>(l1,&nbsp;l2)</td>
<td>intersection between two 2D lines using shapely</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.linepoly_intersection" title="pylayers.util.geomutil.linepoly_intersection"><code class="xref py py-obj docutils literal"><span class="pre">linepoly_intersection</span></code></a>(l,&nbsp;poly)</td>
<td>intersection between a 2D line and a 2D polygon using shapely</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.mirror" title="pylayers.util.geomutil.mirror"><code class="xref py py-obj docutils literal"><span class="pre">mirror</span></code></a>(p,&nbsp;pa,&nbsp;pb)</td>
<td>compute the image of p wrt the segment (pa,pb)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.distseg" title="pylayers.util.geomutil.distseg"><code class="xref py py-obj docutils literal"><span class="pre">distseg</span></code></a>(a,&nbsp;b,&nbsp;c,&nbsp;d,&nbsp;alpha,&nbsp;beta)</td>
<td>distance to segments</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.dmin3d" title="pylayers.util.geomutil.dmin3d"><code class="xref py py-obj docutils literal"><span class="pre">dmin3d</span></code></a>(a,&nbsp;b,&nbsp;c,&nbsp;d)</td>
<td>evaluate the minimal distance between 2 set of segments</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="pylayers.util.geomutil.BTB">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">BTB</code><span class="sig-paren">(</span><em>a_g</em>, <em>T</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#BTB"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.BTB" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a set of rotation matrices for passage between global and local frame</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a_g</strong> : angle in global reference frame  Nx2</p>
<p><strong>T</strong> : Tx rotation matrix     3 x 3</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>R</strong> : np.array (2x2xN)</p>
<blockquote>
<div><p>Rotation matrix in the wave plane</p>
</div></blockquote>
<p><strong>a_l</strong> : np.array (Nx2)</p>
<blockquote class="last">
<div><p>angle in local frame</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.util.geomutil.SphericalBasis" title="pylayers.util.geomutil.SphericalBasis"><code class="xref py py-obj docutils literal"><span class="pre">SphericalBasis</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.Bthph">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">Bthph</code><span class="sig-paren">(</span><em>th</em>, <em>ph</em>, <em>M</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Bthph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Bthph" title="Permalink to this definition">¶</a></dt>
<dd><p>Return theta and phi tranformed from a rotation matrix M</p>
<p>th (N)
ph (N)
M (3,3)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">theta,phi</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This function is convenient for Antennas in addition of 
MATP.
MATP returns a rotation matrix M which allow the
transformation  from a local basis to a global basis.</p>
<p>Using Bthph with MATP allows to evaluate the Antenna
for given theta phi in a global basis and determine 
associated gain values in the Antenna local basis</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.Centroid">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">Centroid</code><span class="sig-paren">(</span><em>p=array([[ 0, 10, 10,  0],        [ 0,  0, -2, -2]])</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Centroid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Centroid" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the centroid of the polygon defined by a sequence of points in a plane</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p</strong> : np array</p>
<blockquote>
<div><p>polygon (2xNp)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">pc = Centroid()</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Centroid">http://en.wikipedia.org/wiki/Centroid</a></p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; p  = np.array([[0,10,10,0],[0,0,-2,-2]])
&gt;&gt;&gt; pc = Centroid(p)
&gt;&gt;&gt; d  = pc-np.array([5.,-1])
&gt;&gt;&gt; md = np.dot(d,d)
&gt;&gt;&gt; assert(md&lt;1e-15)
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="pylayers.util.geomutil.GeomVect">
<em class="property">class </em><code class="descclassname">pylayers.util.geomutil.</code><code class="descname">GeomVect</code><span class="sig-paren">(</span><em>_filename='geomdef'</em>, <em>clear=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#GeomVect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.GeomVect" title="Permalink to this definition">¶</a></dt>
<dd><p>Geomview VECT file class</p>
<blockquote>
<div><ul class="simple">
<li>NPolylines  NVertices  NColors</li>
<li>Nv[0] ... Nv[NPolylines-1]     # number of vertices in each polyline</li>
<li>Nc[0] ... Nc[NPolylines-1]     # number of colors supplied in each polyline</li>
<li>Vert[0] ... Vert[NVertices-1]  # All the vertices (3*NVertices floats)</li>
<li>Color[0] ... Color[NColors-1]  # All the colors   (4*NColors floats, RGBA)</li>
</ul>
<blockquote>
<div>VECT objects represent lists of polylines (strings of connected line segments, possibly closed).</div></blockquote>
<p>A degenerate polyline can be used to represent a point:
A VECT file begins with the key word VECT or 4VECT and three integers:</p>
<dl class="docutils">
<dt>NLines, NVertices, and NColors.</dt>
<dd>Here NLines is the number of polylines in the file,
NVertices the total number of vertices, and NColors the number of
colors as explained below.
Next come NLines 16-bit integers</dd>
<dt>Nv[0] Nv[1] Nv[2] ... Nv[NLines-1]</dt>
<dd><p class="first">giving the number of vertices in each polyline.
A negative number indicates a closed polyline; 1 denotes a single-pixel point.
The sum (of absolute values) of the Nv[i] must equal NVertices.
Next come NLines more 16-bit integers
Nc[i]: the number of colors in each polyline.
Normally one of three values:</p>
<blockquote class="last">
<div><blockquote>
<div><dl class="docutils">
<dt>0</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">No color is specified for this polyline.</span><dd>It&#8217;s drawn in the same color as the previous polyline.</dd>
<dt>1</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">A single color is specified.</span><dd>The entire polyline is drawn in that color.</dd>
<dt>abs(Nv[i])</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">Each vertex has a color.</span><dd>Either each segment is drawn in the corresponding color,
or the colors are smoothly interpolated along the line segments,
depending on the implementation.</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>Next come NVertices groups of 3 or 4 floating-point numbers:</dt>
<dd>the coordinates of all the vertices.</dd>
</dl>
<p>If the keyword is 4VECT then there are 4 values per vertex.
The first abs(Nv[0]) of them form the first polyline,</p>
<blockquote>
<div>the next abs(Nv[1]) form the second and so on.</div></blockquote>
<dl class="docutils">
<dt>Finally NColors groups of 4 floating-point numbers give red,</dt>
<dd>green, blue and alpha (opacity) values.</dd>
</dl>
<p>The first Nc[0] of them apply to the first polyline, and so on.</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.GeomVect.geomBase" title="pylayers.util.geomutil.GeomVect.geomBase"><code class="xref py py-obj docutils literal"><span class="pre">geomBase</span></code></a>(M[,&nbsp;pt,&nbsp;col,&nbsp;linewidth,&nbsp;scale])</td>
<td>Construct a geomview vect file for vizualisation of a frame</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.GeomVect.points" title="pylayers.util.geomutil.GeomVect.points"><code class="xref py py-obj docutils literal"><span class="pre">points</span></code></a>(pt[,&nbsp;colorname])</td>
<td>Geomview display a set of points with color</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ellipse</td>
<td>display an ellipse</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pylayers.util.geomutil.GeomVect.geomBase">
<code class="descname">geomBase</code><span class="sig-paren">(</span><em>M, pt=array([ 0.,  0.,  0.]), col=array([[0, 0, 1],        [0, 1, 0],        [1, 0, 0]]), linewidth=3, scale=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#GeomVect.geomBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.GeomVect.geomBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a geomview vect file for vizualisation of a frame</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>M</strong> : ndarray (3 x 3 )</p>
<blockquote>
<div><p>[ v1, v2, v3 ]</p>
</div></blockquote>
<p><strong>pt</strong> : np.array</p>
<blockquote>
<div><p>origin point  (default (0,0,0))</p>
</div></blockquote>
<p><strong>col   :</strong></p>
<blockquote>
<div><p>color (3x3)</p>
</div></blockquote>
<p><strong>linewidth :</strong></p>
<blockquote class="last">
<div><p>linewidth (default 3)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>by default the geomview filename is base0.vect</p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; v1 = np.array([1,0,0])
&gt;&gt;&gt; v2 = np.array([0,1,0])
&gt;&gt;&gt; v3 = np.array([0,0,1])
&gt;&gt;&gt; M  = np.vstack((v1,v2,v3))
&gt;&gt;&gt; #gv = GeomVect(&#39;test&#39;)
&gt;&gt;&gt; #gv.geomBase(M)
&gt;&gt;&gt; #gv.show3()
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.GeomVect.points">
<code class="descname">points</code><span class="sig-paren">(</span><em>pt</em>, <em>colorname='blue'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#GeomVect.points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.GeomVect.points" title="Permalink to this definition">¶</a></dt>
<dd><p>Geomview display a set of points with color</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pt</strong></p>
<blockquote>
<div><p>sequence of points np.ndarray or dictionnary whose value is a tuple (x,y,z)</p>
</div></blockquote>
<p><strong>colorname</strong></p>
<blockquote class="last">
<div><p>a colorname from coldict keys</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; import scipy as sp
&gt;&gt;&gt; pt1 = sp.rand(3,10)
&gt;&gt;&gt; pt2 = { 1:(0,0,0),2:(10,10,10),3:(0,10,0),4:(10,0,0)}
&gt;&gt;&gt; gv1 = GeomVect(&#39;test1&#39;)
&gt;&gt;&gt; gv1.points(pt1)
&gt;&gt;&gt; #gv1.show3()
&gt;&gt;&gt; gv2 = GeomVect(&#39;test2&#39;)
&gt;&gt;&gt; gv2.points(pt2)
&gt;&gt;&gt; #gv2.show3()
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.GeomVect.segments">
<code class="descname">segments</code><span class="sig-paren">(</span><em>ds</em>, <em>i2d=True</em>, <em>linewidth=2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#GeomVect.segments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.GeomVect.segments" title="Permalink to this definition">¶</a></dt>
<dd><p>display segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ds</strong> : dictionnary</p>
<blockquote>
<div><p>len ds</p>
</div></blockquote>
<p><strong>i2d</strong> : boolean (defaut True)</p>
<blockquote>
<div><p>2d indicator</p>
</div></blockquote>
<p><strong>linewidth</strong> : float</p>
<blockquote class="last">
<div><p>default 2</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pylayers.util.geomutil.Geomlist">
<em class="property">class </em><code class="descclassname">pylayers.util.geomutil.</code><code class="descname">Geomlist</code><span class="sig-paren">(</span><em>_filename</em>, <em>clear=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomlist" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomlist.append" title="pylayers.util.geomutil.Geomlist.append"><code class="xref py py-obj docutils literal"><span class="pre">append</span></code></a>(strg)</td>
<td>append a line in .list file</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">help</span></code>([letter,&nbsp;typ])</td>
<td>generic help</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">show3</span></code>()</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pylayers.util.geomutil.Geomlist.append">
<code class="descname">append</code><span class="sig-paren">(</span><em>strg</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomlist.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomlist.append" title="Permalink to this definition">¶</a></dt>
<dd><p>append a line in .list file</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pylayers.util.geomutil.Geomoff">
<em class="property">class </em><code class="descclassname">pylayers.util.geomutil.</code><code class="descname">Geomoff</code><span class="sig-paren">(</span><em>_filename='geomoff'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomoff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomoff" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Notes</p>
<p>Class Geomview OFF File (Object File Format)
[ST][C][N][4][n]OFF  #header keyword
[Ndim] # spac dimension of vertices, present only if nOFF
NVertices NFaces NEdges</p>
<p>x[0],y[0] z[0]</p>
<p># Vertices,possibly with normals
#colors, and/or texture coordinates, in that order, if the
# prefixes N , C , ST are present
# If 4OFF , each vertex has 4 components
# including a final homogeneous component
# If nOFF, each vertex has Ndim components
# If 4nOFF , each vertex has Ndim+1 components
....
x[NVertices-1],y[NVertices-1],z[NVertices-1]</p>
<p># Faces
# Nv = # vertices on this face
# v[0] ... v[Nv-1] : vertex indices
# in range 0... NVertices -1</p>
<p>Nv v[0] v[1] ....v[Nv-1] colorspec</p>
<p># colorspec continues past v[Nv-1]
# to end-of-line may be 0 to 4 numbers
# nothing default
# integer : colormap index (read from the file cmap.fmap)
# 3 or 4 integers RGB[A] values 0..255
#</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomoff.box" title="pylayers.util.geomutil.Geomoff.box"><code class="xref py py-obj docutils literal"><span class="pre">box</span></code></a>([extrem])</td>
<td>create a box</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomoff.cylinder" title="pylayers.util.geomutil.Geomoff.cylinder"><code class="xref py py-obj docutils literal"><span class="pre">cylinder</span></code></a>(r,&nbsp;l[,&nbsp;nphi,&nbsp;nl,&nbsp;col,&nbsp;alpha])</td>
<td>create a cylinder</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">help</span></code>([letter,&nbsp;typ])</td>
<td>generic help</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomoff.loadpt" title="pylayers.util.geomutil.Geomoff.loadpt"><code class="xref py py-obj docutils literal"><span class="pre">loadpt</span></code></a>()</td>
<td>load points</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomoff.pattern" title="pylayers.util.geomutil.Geomoff.pattern"><code class="xref py py-obj docutils literal"><span class="pre">pattern</span></code></a>(theta,&nbsp;phi,&nbsp;E,&nbsp;**kwargs)</td>
<td>export antenna pattern in a geomview format</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomoff.polygon" title="pylayers.util.geomutil.Geomoff.polygon"><code class="xref py py-obj docutils literal"><span class="pre">polygon</span></code></a>(p,&nbsp;poly)</td>
<td>create geomview off for polygon</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomoff.polygons" title="pylayers.util.geomutil.Geomoff.polygons"><code class="xref py py-obj docutils literal"><span class="pre">polygons</span></code></a>(p,&nbsp;polys)</td>
<td>create a gemoff file for a list of polygons</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomoff.savept" title="pylayers.util.geomutil.Geomoff.savept"><code class="xref py py-obj docutils literal"><span class="pre">savept</span></code></a>(ptnew,&nbsp;_fileoff)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">show3</span></code>()</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pylayers.util.geomutil.Geomoff.box">
<code class="descname">box</code><span class="sig-paren">(</span><em>extrem=array([-1</em>, <em>1</em>, <em>-1</em>, <em>1</em>, <em>-3</em>, <em>3])</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomoff.box"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomoff.box" title="Permalink to this definition">¶</a></dt>
<dd><p>create a box</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>extrem</strong> : ndarray</p>
<blockquote class="last">
<div><p>(1x6) [xmin,xmax,ymin,ymax,zmin,zmax]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; geo = Geomoff(&#39;test&#39;)
&gt;&gt;&gt; geo.box()
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Geomoff.cylinder">
<code class="descname">cylinder</code><span class="sig-paren">(</span><em>r, l, nphi=20, nl=3, col=[1.0, 0.0, 1.0], alpha=0.1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomoff.cylinder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomoff.cylinder" title="Permalink to this definition">¶</a></dt>
<dd><p>create a cylinder</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>r</strong> : radius</p>
<p><strong>l</strong> : length</p>
<p><strong>nphi</strong> : number of phi</p>
<p><strong>nl</strong> : number of l</p>
<p><strong>col</strong> : list [r,g,b]</p>
<p class="last"><strong>alpha</strong> : transparency</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Geomoff.loadpt">
<code class="descname">loadpt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomoff.loadpt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomoff.loadpt" title="Permalink to this definition">¶</a></dt>
<dd><p>load points</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Geomoff.pattern">
<code class="descname">pattern</code><span class="sig-paren">(</span><em>theta</em>, <em>phi</em>, <em>E</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomoff.pattern"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomoff.pattern" title="Permalink to this definition">¶</a></dt>
<dd><p>export antenna pattern in a geomview format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>theta</strong> : np.array (,Nt)</p>
<p><strong>phi</strong> : np.array (,Np)</p>
<p><strong>E</strong> : np.array complex  (Nt,Np)</p>
<p><strong>po</strong> : origin (1x3)</p>
<p><strong>T</strong> : rotation matrix (3x3)</p>
<p><strong>minr</strong> : radius of minimum</p>
<p><strong>maxr</strong> : radius of maximum</p>
<p class="last"><strong>ilog</strong> : True (log) False (linear)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; th = np.arange(0,np.pi,0.05)
&gt;&gt;&gt; ph = np.arange(0,2*np.pi,0.05)
&gt;&gt;&gt; E = 1.5*np.sin(th[:,np.newaxis])*np.cos(0*ph[np.newaxis,:])
&gt;&gt;&gt; g = Geomoff(&#39;dipole&#39;)
&gt;&gt;&gt; g.pattern(th,ph,E)
&gt;&gt;&gt; g.show3()
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Geomoff.polygon">
<code class="descname">polygon</code><span class="sig-paren">(</span><em>p</em>, <em>poly</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomoff.polygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomoff.polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>create geomview off for polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p</strong> : nparray</p>
<blockquote>
<div><p>sequence of points</p>
</div></blockquote>
<p><strong>poly</strong> : list</p>
<blockquote class="last">
<div><p>point numbers (index starting in 0)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Geomoff.polygons">
<code class="descname">polygons</code><span class="sig-paren">(</span><em>p</em>, <em>polys</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomoff.polygons"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomoff.polygons" title="Permalink to this definition">¶</a></dt>
<dd><p>create a gemoff file for a list of polygons</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p</strong> : nparray</p>
<blockquote>
<div><p>sequence of points</p>
</div></blockquote>
<p><strong>poly</strong> : list</p>
<blockquote class="last">
<div><p>point numbers (index starting in 0)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Geomoff.savept">
<code class="descname">savept</code><span class="sig-paren">(</span><em>ptnew</em>, <em>_fileoff</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomoff.savept"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomoff.savept" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pylayers.util.geomutil.Geomview">
<em class="property">class </em><code class="descclassname">pylayers.util.geomutil.</code><code class="descname">Geomview</code><span class="sig-paren">(</span><em>_filename</em>, <em>clear=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomview"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomview" title="Permalink to this definition">¶</a></dt>
<dd><p>Geomview file class</p>
<p>This class is parent of  GeomVect Geomlist Geomoff</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Geomview.show3" title="pylayers.util.geomutil.Geomview.show3"><code class="xref py py-obj docutils literal"><span class="pre">show3</span></code></a>()</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pylayers.util.geomutil.Geomview.show3">
<code class="descname">show3</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Geomview.show3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Geomview.show3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pylayers.util.geomutil.LineString">
<em class="property">class </em><code class="descclassname">pylayers.util.geomutil.</code><code class="descname">LineString</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#LineString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.LineString" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded shapely LineString class</p>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">area</span></code></td>
<td>Unitless area of the geometry (float)</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">array_interface_base</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">boundary</span></code></td>
<td>Returns a lower dimension geometry that bounds the object</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">bounds</span></code></td>
<td>Returns minimum bounding region (minx, miny, maxx, maxy)</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">centroid</span></code></td>
<td>Returns the geometric center of the object</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">convex_hull</span></code></td>
<td>Imagine an elastic band stretched around the geometry: that&#8217;s a</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">coords</span></code></td>
<td>Access to geometry&#8217;s coordinates (CoordinateSequence)</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">ctypes</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">envelope</span></code></td>
<td>A figure that envelopes the geometry</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">geom_type</span></code></td>
<td>Name of the geometry&#8217;s type, such as &#8216;Point&#8217;</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">has_z</span></code></td>
<td>True if the geometry&#8217;s coordinate sequence(s) have z values (are</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">is_closed</span></code></td>
<td>True if the geometry is closed, else False</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">is_empty</span></code></td>
<td>True if the set of points in this geometry is empty, else False</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">is_ring</span></code></td>
<td>True if the geometry is a closed ring, else False</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">is_simple</span></code></td>
<td>True if the geometry is simple, meaning that any self-intersections</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">is_valid</span></code></td>
<td>True if the geometry is valid (definition depends on sub-class),</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">length</span></code></td>
<td>Unitless length of the geometry (float)</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">type</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">wkb</span></code></td>
<td>WKB representation of the geometry</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">wkb_hex</span></code></td>
<td>WKB hex representation of the geometry</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">wkt</span></code></td>
<td>WKT representation of the geometry</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">xy</span></code></td>
<td>Separate arrays of X and Y coordinate values</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">almost_equals</span></code>(other[,&nbsp;decimal])</td>
<td>Returns True if geometries are equal at all coordinates to a</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">array_interface</span></code>()</td>
<td>Provide the Numpy array protocol.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">buffer</span></code>(distance[,&nbsp;resolution,&nbsp;quadsegs,&nbsp;...])</td>
<td>Returns a geometry with an envelope at a distance from the object&#8217;s</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">contains</span></code>(other)</td>
<td>Returns True if the geometry contains the other, else False</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">covers</span></code>(other)</td>
<td>Returns True if the geometry covers the other, else False</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">crosses</span></code>(other)</td>
<td>Returns True if the geometries cross, else False</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">difference</span></code>(other)</td>
<td>Returns the difference of the geometries</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">disjoint</span></code>(other)</td>
<td>Returns True if geometries are disjoint, else False</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">distance</span></code>(other)</td>
<td>Unitless distance to other geometry (float)</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">empty</span></code>([val])</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">equals</span></code>(other)</td>
<td>Returns True if geometries are equal, else False</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">equals_exact</span></code>(other,&nbsp;tolerance)</td>
<td>Returns True if geometries are equal to within a specified</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">geometryType</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">help</span></code>([letter,&nbsp;typ])</td>
<td>generic help</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">interpolate</span></code>(*args,&nbsp;**kwargs)</td>
<td>Return a point at the specified distance along a linear geometry</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">intersection</span></code>(other)</td>
<td>Returns the intersection of the geometries</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">intersects</span></code>(other)</td>
<td>Returns True if geometries intersect, else False</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">overlaps</span></code>(other)</td>
<td>Returns True if geometries overlap, else False</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">parallel_offset</span></code>(distance[,&nbsp;side,&nbsp;...])</td>
<td>Returns a LineString or MultiLineString geometry at a distance from the object on its right or its left side.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.LineString.plot" title="pylayers.util.geomutil.LineString.plot"><code class="xref py py-obj docutils literal"><span class="pre">plot</span></code></a>(**kwargs)</td>
<td>plot LineString</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">project</span></code>(*args,&nbsp;**kwargs)</td>
<td>Returns the distance along this geometry to a point nearest the</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">relate</span></code>(other)</td>
<td>Returns the DE-9IM intersection matrix for the two geometries</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">relate_pattern</span></code>(other,&nbsp;pattern)</td>
<td>Returns True if the DE-9IM string code for the relationship between</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">representative_point</span></code>(*args,&nbsp;**kwargs)</td>
<td>Returns a point guaranteed to be within the object, cheaply.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">simplify</span></code>(*args,&nbsp;**kwargs)</td>
<td>Returns a simplified geometry produced by the Douglas-Peucker</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">svg</span></code>([scale_factor,&nbsp;stroke_color])</td>
<td>Returns SVG polyline element for the LineString geometry.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">symmetric_difference</span></code>(other)</td>
<td>Returns the symmetric difference of the geometries</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">to_wkb</span></code>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">to_wkt</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">touches</span></code>(other)</td>
<td>Returns True if geometries touch, else False</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">union</span></code>(other)</td>
<td>Returns the union of the geometries (Shapely geometry)</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">within</span></code>(other)</td>
<td>Returns True if geometry is within the other, else False</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pylayers.util.geomutil.LineString.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#LineString.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.LineString.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot LineString</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>show</strong> : boolean</p>
<p><strong>fig</strong> : figure object</p>
<p><strong>ax</strong> : axes object</p>
<p><strong>linewidth</strong> : int</p>
<p><strong>color</strong> :  string</p>
<blockquote>
<div><p>default #abcdef&#8221;</p>
</div></blockquote>
<p><strong>alpha</strong> :  float</p>
<blockquote>
<div><p>transparency   (default 0.8)</p>
</div></blockquote>
<p class="last"><strong>figsize</strong> : tuple</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; l1 = np.array([[0,1,1,0],[0,0,1,1]])
&gt;&gt;&gt; L1 = LineString(l1)
&gt;&gt;&gt; l2 = [[3,4,4,3],[1,1,2,2]]
&gt;&gt;&gt; L2 = LineString(l2)
&gt;&gt;&gt; fig,ax = L1.plot(color=&#39;red&#39;,alpha=0.3,linewidth=3)
&gt;&gt;&gt; fig,ax = L2.plot(fig=fig,ax=ax,color=&#39;blue&#39;,alpha=0.7,linewidth=2)
&gt;&gt;&gt; title = plt.title(&#39;test plotting LineString&#39;)
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-1.py">Source code</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-1.png">png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-1.hires.png">hires.png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-1.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/pylayers-util-geomutil-1.png" src="../_images/pylayers-util-geomutil-1.png" />
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.Lr2n">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">Lr2n</code><span class="sig-paren">(</span><em>p=array([[ 0, 10, 10,  0],        [ 0,  0, -2, -2]]), closed=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Lr2n"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Lr2n" title="Permalink to this definition">¶</a></dt>
<dd><p>Linear ring to normal</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p</strong> : np.array (2xN)</p>
<blockquote>
<div><dl class="docutils">
<dt>closed</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span><dd><p class="first last">default True</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>n</strong> : np.array (2xN)</p>
<blockquote class="last">
<div><p>normal</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p>p3 x&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;x p2</p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; import shapely.geometry as shg
&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; points1 = shg.MultiPoint([(0, 0), (0, 1), (1, 1), (1,0 )])
&gt;&gt;&gt; points2 = shg.MultiPoint([(0, 0), (1, 0), (1, 1), (0,1 )])
&gt;&gt;&gt; poly1   = shg.Polygon(points1)
&gt;&gt;&gt; poly2   = shg.Polygon(points2)
&gt;&gt;&gt; lring1  = poly1.exterior
&gt;&gt;&gt; lring2  = poly2.exterior
&gt;&gt;&gt; x1,y1    = lring1.xy
&gt;&gt;&gt; x2,y2    = lring2.xy
&gt;&gt;&gt; p1 = np.array([x1[0:-1],y1[0:-1]])
&gt;&gt;&gt; p2 = np.array([x2[0:-1],y2[0:-1]])
&gt;&gt;&gt; n1 = Lr2n(p1)
&gt;&gt;&gt; n2 = Lr2n(p2)
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.MATP">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">MATP</code><span class="sig-paren">(</span><em>sl</em>, <em>el</em>, <em>phi</em>, <em>tilt</em>, <em>pol</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#MATP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.MATP" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate a rotation matrix for antenna pointing and orientation control</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sl</strong> : np.array (,3) unitary</p>
<blockquote>
<div><p>main radiation direction in antenna local frame</p>
</div></blockquote>
<p><strong>el</strong> : np.array(,3) unitary</p>
<blockquote>
<div><p>main direction in the E field plane</p>
</div></blockquote>
<p><strong>phi</strong> : float 0&lt;phi&lt;2*pi</p>
<p><strong>tilt</strong> : float -pi/2&lt;tilt&lt;pi/2</p>
<p class="last"><strong>pol</strong> : string &#8216;H&#8217; (Horizontal) or &#8216;V&#8217; (Vertical)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.MEulerAngle">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">MEulerAngle</code><span class="sig-paren">(</span><em>alpha</em>, <em>beta</em>, <em>gamma</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#MEulerAngle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.MEulerAngle" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate a rotation matrix from 3 Euler angles</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>alpha</strong> : float</p>
<blockquote>
<div><p>rotation along axis z</p>
</div></blockquote>
<p><strong>beta</strong> : float</p>
<blockquote>
<div><p>rotation along axis x</p>
</div></blockquote>
<p><strong>gamma</strong> : float</p>
<blockquote>
<div><p>rotation along axis y</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>T</strong> : np.array (3x3)</p>
<blockquote class="last">
<div><p>rotation matrix</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Bizarre I was expected</p>
<table class="last docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-1</span></kbd></td>
<td>0  0
0  0  1
0  1  0</td></tr>
</tbody>
</table>
</div>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; T=MEulerAngle(np.pi/2,np.pi/2,np.pi/2)
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.MRot3">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">MRot3</code><span class="sig-paren">(</span><em>a</em>, <em>axe</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#MRot3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.MRot3" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a 3D rotation matrix along axe 0|1|2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> :  angle (radians)</p>
<p class="last"><strong>axe</strong> :  0:x 1:y 2:z</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pylayers.util.geomutil.Plot_shapely">
<em class="property">class </em><code class="descclassname">pylayers.util.geomutil.</code><code class="descname">Plot_shapely</code><span class="sig-paren">(</span><em>obj</em>, <em>ax</em>, <em>coul=None</em>, <em>alph=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Plot_shapely"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Plot_shapely" title="Permalink to this definition">¶</a></dt>
<dd><p>draw Shapely with matplotlib - pylab
Plot_shapely.py
Author : Martin Laloux 2010</p>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Plot_shapely.plot" title="pylayers.util.geomutil.Plot_shapely.plot"><code class="xref py py-obj docutils literal"><span class="pre">plot</span></code></a></td>
<td>draw w.r.t geometrical type</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">help</span></code>([letter,&nbsp;typ])</td>
<td>generic help</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Plot_shapely.plot_coords" title="pylayers.util.geomutil.Plot_shapely.plot_coords"><code class="xref py py-obj docutils literal"><span class="pre">plot_coords</span></code></a>()</td>
<td>points</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Plot_shapely.plot_ligne" title="pylayers.util.geomutil.Plot_shapely.plot_ligne"><code class="xref py py-obj docutils literal"><span class="pre">plot_ligne</span></code></a>()</td>
<td>lines</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Plot_shapely.plot_multi" title="pylayers.util.geomutil.Plot_shapely.plot_multi"><code class="xref py py-obj docutils literal"><span class="pre">plot_multi</span></code></a>()</td>
<td>multipoints, multilignes,multipolygones + GeometryCollection</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Plot_shapely.plot_polygon" title="pylayers.util.geomutil.Plot_shapely.plot_polygon"><code class="xref py py-obj docutils literal"><span class="pre">plot_polygon</span></code></a>()</td>
<td>polygons</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pylayers.util.geomutil.Plot_shapely.plot">
<code class="descname">plot</code><a class="headerlink" href="#pylayers.util.geomutil.Plot_shapely.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>draw w.r.t geometrical type</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Plot_shapely.plot_coords">
<code class="descname">plot_coords</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Plot_shapely.plot_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Plot_shapely.plot_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>points</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Plot_shapely.plot_ligne">
<code class="descname">plot_ligne</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Plot_shapely.plot_ligne"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Plot_shapely.plot_ligne" title="Permalink to this definition">¶</a></dt>
<dd><p>lines</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Plot_shapely.plot_multi">
<code class="descname">plot_multi</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Plot_shapely.plot_multi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Plot_shapely.plot_multi" title="Permalink to this definition">¶</a></dt>
<dd><p>multipoints, multilignes,multipolygones + GeometryCollection</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Plot_shapely.plot_polygon">
<code class="descname">plot_polygon</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Plot_shapely.plot_polygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Plot_shapely.plot_polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>polygons</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pylayers.util.geomutil.Polygon">
<em class="property">class </em><code class="descclassname">pylayers.util.geomutil.</code><code class="descname">Polygon</code><span class="sig-paren">(</span><em>p=[[3, 4, 4, 3], [1, 1, 2, 2]], vnodes=[], delta=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloaded shapely Polygon class</p>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">area</span></code></td>
<td>Unitless area of the geometry (float)</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">array_interface_base</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">boundary</span></code></td>
<td>Returns a lower dimension geometry that bounds the object</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">bounds</span></code></td>
<td>Returns minimum bounding region (minx, miny, maxx, maxy)</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">centroid</span></code></td>
<td>Returns the geometric center of the object</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">convex_hull</span></code></td>
<td>Imagine an elastic band stretched around the geometry: that&#8217;s a</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">coords</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">ctypes</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">envelope</span></code></td>
<td>A figure that envelopes the geometry</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">exterior</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">geom_type</span></code></td>
<td>Name of the geometry&#8217;s type, such as &#8216;Point&#8217;</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">has_z</span></code></td>
<td>True if the geometry&#8217;s coordinate sequence(s) have z values (are</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">interiors</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">is_closed</span></code></td>
<td>True if the geometry is closed, else False</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">is_empty</span></code></td>
<td>True if the set of points in this geometry is empty, else False</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">is_ring</span></code></td>
<td>True if the geometry is a closed ring, else False</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">is_simple</span></code></td>
<td>True if the geometry is simple, meaning that any self-intersections</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">is_valid</span></code></td>
<td>True if the geometry is valid (definition depends on sub-class),</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">length</span></code></td>
<td>Unitless length of the geometry (float)</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">type</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">wkb</span></code></td>
<td>WKB representation of the geometry</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">wkb_hex</span></code></td>
<td>WKB hex representation of the geometry</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">wkt</span></code></td>
<td>WKT representation of the geometry</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Polygon.xy" title="pylayers.util.geomutil.Polygon.xy"><code class="xref py py-obj docutils literal"><span class="pre">xy</span></code></a></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Polygon.plot" title="pylayers.util.geomutil.Polygon.plot"><code class="xref py py-obj docutils literal"><span class="pre">plot</span></code></a>(**kwargs)</td>
<td>plot function</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.util.geomutil.Polygon.ptconvex" title="pylayers.util.geomutil.Polygon.ptconvex"><code class="xref py py-obj docutils literal"><span class="pre">ptconvex</span></code></a>([display])</td>
<td>Return a list of booleans indicating points convexity</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.util.geomutil.Polygon.buildGv" title="pylayers.util.geomutil.Polygon.buildGv"><code class="xref py py-obj docutils literal"><span class="pre">buildGv</span></code></a>(**kwargs)</td>
<td>Create  visibility graph for a polygon</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>ndarray :</td>
<td>get a ndarray from a Polygon</td>
</tr>
<tr class="row-even"><td>signedarea :</td>
<td>get the signed area of the polygon</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.buildGv">
<code class="descname">buildGv</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.buildGv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.buildGv" title="Permalink to this definition">¶</a></dt>
<dd><p>Create  visibility graph for a polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>display</strong> : boolean</p>
<blockquote>
<div><p>default : False</p>
</div></blockquote>
<p><strong>fig</strong> : matplotlib.figure.pyplot</p>
<p><strong>ax</strong> : axes</p>
<p><strong>udeg2</strong> : np.array indexes of points of degree 2</p>
<blockquote>
<div><p>default = []</p>
</div></blockquote>
<p><strong>eded</strong> : boolean</p>
<blockquote>
<div><p>default True</p>
</div></blockquote>
<p><strong>indoor</strong> : boolean</p>
<blockquote class="last">
<div><p>default True</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="pylayers.gis.layout.html#pylayers.gis.layout.Layout.buildGv" title="pylayers.gis.layout.Layout.buildGv"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.gis.layout.Layout.buildGv</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<p>Segment k and (k+1)%N share segment (k+1)%N
The degree of a point is dependent from other polygons around</p>
<p>Topological error can be raised if the point coordinates accuracy
is not limited.</p>
<p>Nodes of polygon are numbered in the global graph in vnodes member.</p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; import shapely.geometry as shg
&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; points  = shg.MultiPoint([(0, 0), (0, 1), (2.5,1), (2.5, 2),                                           (2.8,2), (2.8, 1.1), (3.2, 1.1),                                           (3.2, 0.7), (0.4, 0.7), (0.4, 0)])
&gt;&gt;&gt; polyg   = Polygon(points)
&gt;&gt;&gt; Gv      = polyg.buildGv(show=True)
&gt;&gt;&gt; plt.axis(&#39;off&#39;)
(-0.5, 4.0, -0.5, 2.5)
&gt;&gt;&gt; title = plt.title(&#39;Testing buildGv&#39;)
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-2.py">Source code</a>)</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.buildGvc">
<code class="descname">buildGvc</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.buildGvc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.buildGvc" title="Permalink to this definition">¶</a></dt>
<dd><p>Create visibility graph for a convex polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>display</strong> : boolean</p>
<blockquote>
<div><p>default : False</p>
</div></blockquote>
<p><strong>fig</strong> : matplotlib.figure.pyplot</p>
<p><strong>ax</strong> : axes</p>
<p><strong>udeg2</strong> : np.array indexes of points of degree 2</p>
<blockquote>
<div><p>default = []</p>
</div></blockquote>
<p><strong>eded</strong> : boolean</p>
<blockquote>
<div><p>default True</p>
</div></blockquote>
<p><strong>indoor</strong> : boolean</p>
<blockquote class="last">
<div><p>default True</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="pylayers.gis.layout.html#pylayers.gis.layout.Layout.buildGv" title="pylayers.gis.layout.Layout.buildGv"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.gis.layout.Layout.buildGv</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<p>Segment k and (k+1)%N share segment (k+1)%N
The degree of a point is dependent from other polygons around</p>
<p>Topological error can be raised if the point coordinates accuracy
is not limited.</p>
<p>Nodes of polygon are numbered in the global graph in vnodes member.</p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; import shapely.geometry as shg
&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; points  = shg.MultiPoint([(0, 0), (0, 1), (2.5,1), (2.5, 2),                                           (2.8,2), (2.8, 1.1), (3.2, 1.1),                                           (3.2, 0.7), (0.4, 0.7), (0.4, 0)])
&gt;&gt;&gt; polyg   = Polygon(points)
&gt;&gt;&gt; Gv      = polyg.buildGv(show=True)
&gt;&gt;&gt; plt.axis(&#39;off&#39;)
(-0.5, 4.0, -0.5, 2.5)
&gt;&gt;&gt; title = plt.title(&#39;Testing buildGv&#39;)
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-3.py">Source code</a>)</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.coorddeter">
<code class="descname">coorddeter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.coorddeter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.coorddeter" title="Permalink to this definition">¶</a></dt>
<dd><p>determine polygon coordinates</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.isconvex">
<code class="descname">isconvex</code><span class="sig-paren">(</span><em>tol=0.01</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.isconvex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.isconvex" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if a polygon is convex</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tol</strong> : tolerance on aligned point</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>boolean</strong> : True if convex</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>the algorithm tests all triplet of points and determines 
if the third point is at the left to the 2 first.
a tolerance can be introduce in cases the polygon is 
<em>almost</em> convex.</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.ndarray">
<code class="descname">ndarray</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.ndarray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.ndarray" title="Permalink to this definition">¶</a></dt>
<dd><p>get a ndarray from a Polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>p</strong> : ndarray (2xNp)</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; p1 = np.array([[0,1,1,0],[0,0,1,1]])
&gt;&gt;&gt; P1 = Polygon(p1)
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>color</strong> :  string</p>
<blockquote>
<div><p>default #abcdef&#8221;</p>
</div></blockquote>
<p><strong>alpha</strong> :  float</p>
<blockquote>
<div><p>transparency   (default 0.8)</p>
</div></blockquote>
<p><strong>vnodes</strong> : bool</p>
<blockquote class="last">
<div><p>display vnodes</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; p1 = np.array([[0,1,1,0],[0,0,1,1]])
&gt;&gt;&gt; P1 = Polygon(p1)
&gt;&gt;&gt; p2 = [[3,4,4,3],[1,1,2,2]]
&gt;&gt;&gt; P2 = Polygon(p2)
&gt;&gt;&gt; p3 = [np.array([10,10]),np.array([11,10]),np.array([11,11]),np.array([10,11])]
&gt;&gt;&gt; P3 = Polygon(p3)
&gt;&gt;&gt; fig,ax = P1.plot(color=&#39;red&#39;,alpha=0.3)
&gt;&gt;&gt; fig,ax = P2.plot(fig=fig,ax=ax,color=&#39;blue&#39;,alpha=0.7)
&gt;&gt;&gt; fig,ax = P3.plot(fig=fig,ax=ax,color=&#39;green&#39;,alpha=1)
&gt;&gt;&gt; title = plt.title(&#39;test plotting polygons&#39;)
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-4.py">Source code</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-4.png">png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-4.hires.png">hires.png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-4.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/pylayers-util-geomutil-4.png" src="../_images/pylayers-util-geomutil-4.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.ptconvex">
<code class="descname">ptconvex</code><span class="sig-paren">(</span><em>display=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.ptconvex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.ptconvex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of booleans indicating points convexity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>display</strong> : boolean</p>
<blockquote>
<div><p>default False</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>tcc</strong> : np.array (1x Nseg)</p>
<blockquote>
<div><p>1 if convex , -1 if concav , 0 if plane</p>
</div></blockquote>
<p><strong>n</strong> :  array(2xNseg)</p>
<blockquote class="last">
<div><p>segments normals</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.util.geomutil.Lr2n" title="pylayers.util.geomutil.Lr2n"><code class="xref py py-obj docutils literal"><span class="pre">Lr2n</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<p>This function determines the convex and concav points of a polygon.
As there is no orientation convention for the polygon the sign of the cross
product can&#8217;t be directly interpreted. So we exploit the following
property :</p>
<p>Let N be the number of points of the Polygon. N  = Nx + Nc where
Nx is the number of convex points and Nc the number of concav points</p>
<p>We have Nx &gt;= Nc</p>
<p>If a point is common to two parallel segments, the cross product is = 0</p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; import shapely.geometry as shg
&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; points  = shg.MultiPoint([(0, 0), (0, 1), (3.2, 1), (3.2, 0.7), (0.4, 0.7), (0.4, 0)])
&gt;&gt;&gt; N = len(points)
&gt;&gt;&gt; polyg   = Polygon(points)
&gt;&gt;&gt; tcc,n   = polyg.ptconvex()
&gt;&gt;&gt; #k = 0
&gt;&gt;&gt; #for p in points:
&gt;&gt;&gt; #  if tcc[k] == 1 :
&gt;&gt;&gt; #      plt.plot(p.x, p.y, &#39;o&#39;, color=&#39;red&#39;,alpha=1)
&gt;&gt;&gt; #  else:
&gt;&gt;&gt; #      plt.plot(p.x, p.y, &#39;o&#39;, color=&#39;blue&#39;,alpha=0.3)
&gt;&gt;&gt; #  k = k+1
&gt;&gt;&gt; #polyg.plot()
&gt;&gt;&gt; #plt.figure()
&gt;&gt;&gt; #points  = shg.MultiPoint([(0, 0), (1, 1), (2, 0), (1, 0)])
&gt;&gt;&gt; #poly    = Polygon(points)
&gt;&gt;&gt; #tcc,n   = polyg.ptconvex()
&gt;&gt;&gt; #poly.plot()
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-5.py">Source code</a>)</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.ptconvex2">
<code class="descname">ptconvex2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.ptconvex2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.ptconvex2" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine convex / concave points in the Polygon</p>
<blockquote>
<div>!!! Warning !!! cvex and ccve can be switched
depends on the Polygon direction of travel</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cvex</strong> : list of convex points</p>
<p class="last"><strong>ccve</strong> : list of concave points</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; import shapely.geometry as shg
&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; points  = shg.MultiPoint([(0, 0), (0, 1), (3.2, 1), (3.2, 0.7), (0.4, 0.7), (0.4, 0)])
&gt;&gt;&gt; polyg1   = Polygon(points)
&gt;&gt;&gt; cvex,ccave   = polyg.ptconvex2()
&gt;&gt;&gt; points  = shg.MultiPoint([(0, 0), (0, 1), (-3.2, 1), (-3.2, 0.7), (-0.4, 0.7), (-0.4, 0)])
&gt;&gt;&gt; polyg1   = Polygon(points)
&gt;&gt;&gt; cvex,ccave   = polyg.ptconvex2()
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-6.py">Source code</a>)</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.reverberation">
<code class="descname">reverberation</code><span class="sig-paren">(</span><em>fGHz</em>, <em>L</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.reverberation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.reverberation" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate reverberation time of the polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fGHz</strong> : frequency GHz</p>
<blockquote>
<div><p>L : Layout</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>V</strong> : float</p>
<blockquote>
<div><blockquote>
<div><p>Volume</p>
</div></blockquote>
<dl class="docutils">
<dt>A</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float </span><dd><p class="first last">Area</p>
</dd>
<dt>eta</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float </span><dd><p class="first last">absorption coefficient</p>
</dd>
<dt>tau_sab</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float </span><dd><p class="first last">Sabine delay</p>
</dd>
<dt>tau_eyr</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float</span><dd><p class="first last">Eyring delay</p>
</dd>
</dl>
<p>:math:` au_g =</p>
</div></blockquote>
<p>rac{4V}{ceta A}`</p>
<blockquote class="last">
<div><p>Sabine&#8217;s Model
where <span class="math">\(\eta\)</span> is the absorbtion coefficient</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.setvnodes">
<code class="descname">setvnodes</code><span class="sig-paren">(</span><em>L</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.setvnodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.setvnodes" title="Permalink to this definition">¶</a></dt>
<dd><p>update vnodes member from Layout</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>L</strong> : pylayers.layout.Layout</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.layout.Layout.ispoint</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">vnodes</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">If</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">L.numseg</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">or</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.setvnodes_new">
<code class="descname">setvnodes_new</code><span class="sig-paren">(</span><em>tpts</em>, <em>L</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.setvnodes_new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.setvnodes_new" title="Permalink to this definition">¶</a></dt>
<dd><p>update vnodes member from Layout</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tpts</strong> : list of points</p>
<p class="last"><strong>L</strong> : pylayers.layout.Layout</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.layout.Layout.ispoint</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">vnodes</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">If</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">is</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">L.numseg</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">or</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.showGv">
<code class="descname">showGv</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.showGv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.showGv" title="Permalink to this definition">¶</a></dt>
<dd><p>show graph Gv</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>display</strong></p>
<p><strong>fig</strong></p>
<p><strong>ax</strong></p>
<p><strong>ndnd</strong> : boolean</p>
<blockquote>
<div><p>display node/node</p>
</div></blockquote>
<p><strong>nded</strong> : boolean</p>
<blockquote>
<div><p>display node/edge</p>
</div></blockquote>
<p><strong>eded</strong> : boolean</p>
<blockquote>
<div><p>display edge/edge</p>
</div></blockquote>
<p><strong>linewidth: float</strong></p>
<blockquote class="last">
<div><p>default 2</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.signedarea">
<code class="descname">signedarea</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.signedarea"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.signedarea" title="Permalink to this definition">¶</a></dt>
<dd><p>get the signed area of the polygon</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.util.geomutil.Polygon.simplify">
<code class="descname">simplify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#Polygon.simplify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.Polygon.simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>simplify polygon - suppress adjacent colinear segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>poly2</strong> : simplified polygon</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Before</p>
<p>After</p>
</dd></dl>

<dl class="attribute">
<dt id="pylayers.util.geomutil.Polygon.xy">
<code class="descname">xy</code><a class="headerlink" href="#pylayers.util.geomutil.Polygon.xy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.SignedArea">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">SignedArea</code><span class="sig-paren">(</span><em>p=array([[ 0, 10, 10,  0],        [ 0,  0, -2, -2]])</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#SignedArea"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.SignedArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the signed area of a sequence of points in a  plane</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p</strong> : array 2 x Np</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>A</strong> : float</p>
<blockquote class="last">
<div><p>signed area of the sequence of points</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; p = np.array([[0,10,10,0],[0,0,-2,-2]])
&gt;&gt;&gt; A = SignedArea(p)
&gt;&gt;&gt; assert(A+20&lt;1e-15)
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.SphericalBasis">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">SphericalBasis</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#SphericalBasis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.SphericalBasis" title="Permalink to this definition">¶</a></dt>
<dd><p>construct a spherical basis from a direction theta,phi</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : N x 2</p>
<blockquote>
<div><p>a[:,0] : N theta angle
a[:,1] : N phi angle</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>M</strong> : np.array</p>
<blockquote class="last">
<div><p>N x [th,ph,s]  : 3 x 3 x N</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.util.geomutil.angledir" title="pylayers.util.geomutil.angledir"><code class="xref py py-obj docutils literal"><span class="pre">angledir</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<p>The unit vector uth,uph,us are places along the lines of the 
3 x 3 matrices</p>
<p>uth
uph
us</p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; a = np.array([[0,0]])
&gt;&gt;&gt; SphericalBasis(a)
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.affine">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">affine</code><span class="sig-paren">(</span><em>X</em>, <em>Y</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#affine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.affine" title="Permalink to this definition">¶</a></dt>
<dd><p>find affine transformation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>X</strong> : np.array</p>
<blockquote>
<div><p>3xN</p>
</div></blockquote>
<p><strong>Y</strong></p>
<blockquote>
<div><p>3xN</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>A</strong> : np.array</p>
<blockquote>
<div><p>3x3</p>
</div></blockquote>
<p><strong>B</strong> : np.array</p>
<blockquote class="last">
<div><p>3x1</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Given X and Y find the affine transformation</p>
<p>Y = A X + B</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.agwed">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">agwed</code><span class="sig-paren">(</span><em>v</em>, <em>lwe</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#agwed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.agwed" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">np.array([[N*pi,phi0,phi],...xNp])</p>
<blockquote class="last">
<div><p>(3xNp)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.agwed_old">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">agwed_old</code><span class="sig-paren">(</span><em>v</em>, <em>lwe</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#agwed_old"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.agwed_old" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">np.array([N*pi,phi0,phi])</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.angle_intersection">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">angle_intersection</code><span class="sig-paren">(</span><em>a1</em>, <em>a2</em>, <em>b1</em>, <em>b2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#angle_intersection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.angle_intersection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.angle_intersection2">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">angle_intersection2</code><span class="sig-paren">(</span><em>a1</em>, <em>a2</em>, <em>b1</em>, <em>b2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#angle_intersection2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.angle_intersection2" title="Permalink to this definition">¶</a></dt>
<dd><p>angle intersection2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a1</strong> : angle in [0,2*pi] first angular sector</p>
<p><strong>a2</strong> : angle in [0,2*pi] first angular sector</p>
<p><strong>b1</strong> : angle in [0,2*pi] first angular sector</p>
<p><strong>b2</strong> : angle in [0,2*pi] first angular sector</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>intersect_angle</strong> : float</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">Signature.run</span></code></p>
</div>
<p class="rubric">Notes</p>
<p>Given 2 angular sectors (a1,a2) and (b1,b2), this function returns the intersection of the 2 
sector if it exists</p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; a1 = 0. 
&gt;&gt;&gt; a2 = np.pi/4.
&gt;&gt;&gt; b1 = np.pi/3.
&gt;&gt;&gt; b2 = np.pi/2.
&gt;&gt;&gt; angle_intersection2(a1,a2,b1,b2)
0 
&gt;&gt;&gt; a1 = 0. 
&gt;&gt;&gt; a2 = np.pi/3.
&gt;&gt;&gt; b1 = np.pi/4.
&gt;&gt;&gt; b2 = np.pi/2.
&gt;&gt;&gt; angle_intersection2(a1,a2,b1,b2)
0.26179938779914935
&gt;&gt;&gt; a1 = 0. 
&gt;&gt;&gt; a2 = np.pi-np.pi/3.
&gt;&gt;&gt; b1 = np.pi/2.
&gt;&gt;&gt; b2 = 3*np.pi/2.
&gt;&gt;&gt; angle_intersection2(a1,a2,b1,b2)
0.5235987755982991
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.angledir">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">angledir</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#angledir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.angledir" title="Permalink to this definition">¶</a></dt>
<dd><p>evaluate (theta,phi) from direction vector</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>s</strong> : ndarray N x 3</p>
<blockquote>
<div><p>N direction vector</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>a</strong> : ndarray 2xN</p>
<blockquote class="last">
<div><p>N angle (theta,phi)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.util.geomutil.BTB" title="pylayers.util.geomutil.BTB"><code class="xref py py-obj docutils literal"><span class="pre">BTB</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<div class="math">
\[\theta = \arccos{(\frac{\mathbf{s}}{\hat{\mathbf{z}})}}\]</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.angular">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">angular</code><span class="sig-paren">(</span><em>p1</em>, <em>p2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#angular"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.angular" title="Permalink to this definition">¶</a></dt>
<dd><p>determine angle between p1 and p2 in inerval [0 2pi]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p1</strong></p>
<blockquote>
<div><p>point p1</p>
</div></blockquote>
<p><strong>p2</strong></p>
<blockquote class="last">
<div><p>point p2 origin</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.util.geomutil.vecang" title="pylayers.util.geomutil.vecang"><code class="xref py py-obj docutils literal"><span class="pre">vecang</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<p>weird the origin is p2</p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; p1 = np.array([0,0])
&gt;&gt;&gt; p21 = np.array([1,0])
&gt;&gt;&gt; p22 = np.array([1,1])
&gt;&gt;&gt; p23 = np.array([0,1])
&gt;&gt;&gt; p24 = np.array([-1,1])
&gt;&gt;&gt; p25 = np.array([-1,0])
&gt;&gt;&gt; p26 = np.array([-1,-1])
&gt;&gt;&gt; p27 = np.array([0,-1])
&gt;&gt;&gt; p28 = np.array([1,-1])
&gt;&gt;&gt; a1  = angular(p21,p1)
&gt;&gt;&gt; a2  = angular(p22,p1)
&gt;&gt;&gt; a3  = angular(p23,p1)
&gt;&gt;&gt; a4  = angular(p24,p1)
&gt;&gt;&gt; a5  = angular(p25,p1)
&gt;&gt;&gt; a6  = angular(p26,p1)
&gt;&gt;&gt; a7  = angular(p27,p1)
&gt;&gt;&gt; a8  = angular(p28,p1)
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.are_points_inside_cone">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">are_points_inside_cone</code><span class="sig-paren">(</span><em>points</em>, <em>apex</em>, <em>v</em>, <em>radius=inf</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#are_points_inside_cone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.are_points_inside_cone" title="Permalink to this definition">¶</a></dt>
<dd><p>determine if a set of points are inside a cone</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>points</strong> : np.array (Noints x Ndim )</p>
<p><strong>apex</strong> : (Ndim x 1)</p>
<p><strong>v</strong> : (Ndim x Nvec)</p>
<p class="last"><strong>radius</strong> : float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.are_points_inside_cone1">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">are_points_inside_cone1</code><span class="sig-paren">(</span><em>points</em>, <em>apex</em>, <em>v</em>, <em>radius=inf</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#are_points_inside_cone1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.are_points_inside_cone1" title="Permalink to this definition">¶</a></dt>
<dd><p>determine if a set of points are inside a cone</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>points</strong> : np.array (Noints x Ndim )</p>
<p><strong>apex</strong> : (Ndim x 1)</p>
<p><strong>v</strong> : (Ndim x Nvec)</p>
<p class="last"><strong>radius</strong> : float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.are_points_inside_cone_old">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">are_points_inside_cone_old</code><span class="sig-paren">(</span><em>points</em>, <em>apex</em>, <em>v</em>, <em>radius=inf</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#are_points_inside_cone_old"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.are_points_inside_cone_old" title="Permalink to this definition">¶</a></dt>
<dd><p>determine if a set of points are inside a cone</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>points</strong> : np.array (Noints x Ndim )</p>
<p><strong>apex</strong> : (Ndim x 1)</p>
<p><strong>v</strong> : (Ndim x Nvec)</p>
<p class="last"><strong>radius</strong> : float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.axmat">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">axmat</code><span class="sig-paren">(</span><em>pa</em>, <em>pb</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#axmat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.axmat" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the image of p wrt the segment pa pb</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pa</strong> : numpy.ndarray</p>
<blockquote>
<div><p>segment tail</p>
</div></blockquote>
<p><strong>pb</strong> : numpy.ndarray</p>
<blockquote>
<div><p>segment head</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>S</strong> : numpy.ndarray</p>
<blockquote>
<div><p>symmetry matrix</p>
</div></blockquote>
<p><strong>v</strong> : numpy.ndarray</p>
<blockquote class="last">
<div><p>translatrion vector</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>fir x is corrdiante of the point to mirror, 
the mirrored point x&#8217; from pa and pb  can be obtain with :</p>
<p>x&#8217; = np.dot(x,S) + v</p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; from pylayers.util.plotutil import *
&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; p = np.random.randn(2,10)
&gt;&gt;&gt; pa  = np.array([-0.5,1])
&gt;&gt;&gt; pb  = np.array([0,0])
&gt;&gt;&gt; S,v = axmat(pa,pb)
&gt;&gt;&gt; M = np.dot(p,S) + v
&gt;&gt;&gt; plt.plot(p[0,:],p[1,:],&#39;or&#39;,alpha=0.2)
&gt;&gt;&gt; plt.plot(M[0,:],M[1,:],&#39;ob&#39;,alpha=0.2)
&gt;&gt;&gt; displot(p,M,alpha=0.2)
&gt;&gt;&gt; axis = np.vstack((pa,pb))
&gt;&gt;&gt; plt.plot(axis[:,0],axis[:,1])
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.ccw">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">ccw</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>c</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#ccw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.ccw" title="Permalink to this definition">¶</a></dt>
<dd><p>counter clock wise order</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : ndarray (2,N)</p>
<p><strong>b</strong> : ndarray (2,N)</p>
<p><strong>c</strong> : ndarray (2,N)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">array of booleans</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://www.bryceboe.com/2006/10/23/line-segment-intersection-algorithm/">Line Segment Intersection</a></p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; import scipy as sp
&gt;&gt;&gt; a = sp.rand(2,100)
&gt;&gt;&gt; b = sp.rand(2,100)
&gt;&gt;&gt; c = sp.rand(2,100)
&gt;&gt;&gt; u = ccw(a,b,c)
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.check_point_unicity">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">check_point_unicity</code><span class="sig-paren">(</span><em>A</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#check_point_unicity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.check_point_unicity" title="Permalink to this definition">¶</a></dt>
<dd><p>check if all rows of an array are unique</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> : np.ndarray (Npt, 2|3)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.cylmap">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">cylmap</code><span class="sig-paren">(</span><em>Y</em>, <em>r=0.0625</em>, <em>l=0.5</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#cylmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.cylmap" title="Permalink to this definition">¶</a></dt>
<dd><p>find affine transformation for a specific cylinder</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>Y</strong></p>
<blockquote>
<div><p>3xN</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>A</strong> : np.array</p>
<blockquote>
<div><p>3x3</p>
</div></blockquote>
<p><strong>B</strong> : np.array</p>
<blockquote class="last">
<div><p>3x1</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Y = A X + B</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.dist">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">dist</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>ax</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#dist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.dist" title="Permalink to this definition">¶</a></dt>
<dd><p>calculates distance between two arrays along a given axis</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x</strong> : numpy.ndarray</p>
<blockquote>
<div><p>y : numpy.ndarray
ax : integer (0,1)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>d</strong> : numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; x = np.array([[0., 0., 10., 10.],[0., 10., 10., 0.]])
&gt;&gt;&gt; y = np.array([[5.],[5.]])
&gt;&gt;&gt; ax = 0
&gt;&gt;&gt; d = dist(x,y,ax)
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-8.py">Source code</a>)</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.distseg">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">distseg</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>c</em>, <em>d</em>, <em>alpha</em>, <em>beta</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#distseg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.distseg" title="Permalink to this definition">¶</a></dt>
<dd><p>distance to segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : (3xN) initial point segment 1</p>
<p><strong>b</strong> : (3xN) end point segment 1</p>
<p><strong>c</strong> : (3xN) starting point segment 2</p>
<p><strong>d</strong> : (3xN) end point segment 2</p>
<p><strong>alpha :</strong></p>
<p><strong>beta  :</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>f</strong> : square of the distance to the segment</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; np.random.seed(0)
&gt;&gt;&gt; a = np.random.rand(3,10)
&gt;&gt;&gt; b = np.random.rand(3,10)
&gt;&gt;&gt; c = np.random.rand(3,10)
&gt;&gt;&gt; d = np.random.rand(3,10)
&gt;&gt;&gt; alpha,beta,dmin = dmin3d(a,b,c,d)
&gt;&gt;&gt; alpha[alpha&lt;0]=0
&gt;&gt;&gt; alpha[alpha&gt;1]=1
&gt;&gt;&gt; beta[beta&lt;0]=0
&gt;&gt;&gt; beta[beta&gt;1]=1
&gt;&gt;&gt; f = distseg(a,b,c,d,alpha,beta)
&gt;&gt;&gt; p1 = a - alpha*(a-b)
&gt;&gt;&gt; p2 = c + beta*(d-c)
&gt;&gt;&gt; v = p1-p2
&gt;&gt;&gt; g = np.sum(v*v,axis=0)
&gt;&gt;&gt; diff = np.sum(f-g,axis=0)
&gt;&gt;&gt; np.testing.assert_almost_equal(diff,0)
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.dmin3d">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">dmin3d</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>c</em>, <em>d</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#dmin3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.dmin3d" title="Permalink to this definition">¶</a></dt>
<dd><p>evaluate the minimal distance between 2 set of segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : (3xN) initial point segment 1</p>
<p><strong>b</strong> : (3xN) end point segment 1</p>
<p><strong>c</strong> : (3xN) starting point segment 2</p>
<p><strong>d</strong> : (3xN) end point segment 2</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>alpha</strong> : segment parameterization</p>
<p><strong>beta</strong> : segment parameterization</p>
<p class="last"><strong>dmin</strong> : minimal distance between 2 segments</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.dptseg">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">dptseg</code><span class="sig-paren">(</span><em>p</em>, <em>pt</em>, <em>ph</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#dptseg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.dptseg" title="Permalink to this definition">¶</a></dt>
<dd><p>distance between a set of points and a segment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ps</strong> : ndim x Np</p>
<blockquote>
<div><p>array of Np points</p>
</div></blockquote>
<p><strong>pt</strong> : ndim x 1</p>
<blockquote>
<div><p>tail coordinates of segment</p>
</div></blockquote>
<p><strong>ph</strong> : ndim x 1</p>
<blockquote>
<div><p>head coordinates of segment</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>d1</strong> : 1 x Np</p>
<blockquote>
<div><p>distance between pt and ortho projection of ps</p>
</div></blockquote>
<p><strong>d2</strong> : 1 x Np</p>
<blockquote>
<div><p>distance between ph and ortho projection of ps</p>
</div></blockquote>
<p class="last"><strong>h</strong> : distance between ps and ortho projection of ps</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.ellipse">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">ellipse</code><span class="sig-paren">(</span><em>fd</em>, <em>p</em>, <em>vth</em>, <em>vph</em>, <em>Eth</em>, <em>Eph</em>, <em>N</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#ellipse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.ellipse" title="Permalink to this definition">¶</a></dt>
<dd><p>build a geomview file of an ellipse</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fd</strong> : file descriptor</p>
<p><strong>p</strong> : ellipse center</p>
<p><strong>vth</strong> : unitary vector along theta</p>
<p><strong>vph</strong> : unitary vector along phi</p>
<p><strong>Eth</strong> : complex</p>
<p><strong>Eph</strong> : complex</p>
<p class="last"><strong>N</strong> : descretization step</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.get_pol_angles">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">get_pol_angles</code><span class="sig-paren">(</span><em>poly</em>, <em>unit='rad'</em>, <em>inside=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#get_pol_angles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.get_pol_angles" title="Permalink to this definition">¶</a></dt>
<dd><p>find angles of a single Gt cycle of the layout.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>poly</strong> : polygon</p>
<p><strong>unit</strong> : str</p>
<blockquote>
<div><p>&#8216;deg&#8217; : degree values
&#8216;rad&#8217; : radian values</p>
</div></blockquote>
<p><strong>inside</strong> : bollean</p>
<blockquote>
<div><dl class="docutils">
<dt>True</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">compute the inside angles of the cycle.</span><dd><p class="first last">(a.k.a. in regard of the interior of the polygon)</p>
</dd>
<dt>False</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">compute the outside angles of the cycle.</span><dd><p class="first last">(a.k.a.  in regard of the exterior of the polygon)</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(u,a)</p>
<p><strong>u</strong> : int (Np)</p>
<blockquote>
<div><p>point number</p>
</div></blockquote>
<p><strong>a</strong> : float (Np)</p>
<blockquote class="last">
<div><p>associated angle to the point</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p><a class="reference external" href="http://www.mathopenref.com/polygonexteriorangles.html">http://www.mathopenref.com/polygonexteriorangles.html</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.gram_schmidt">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">gram_schmidt</code><span class="sig-paren">(</span><em>Vini</em>, <em>force_direct=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#gram_schmidt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.gram_schmidt" title="Permalink to this definition">¶</a></dt>
<dd><p>Gram-Schmidt orthonormalization of a set of <cite>M</cite> vectors, in-place.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>Vini</strong> : array,</p>
<blockquote>
<div><p>shape (3,Nv,nf)  where number of vectors Nv = 3 and nf is an integer</p>
</div></blockquote>
<p><strong>force_direct</strong> : boolean</p>
<blockquote class="last">
<div><p>force basis to be direct (det&gt;0)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.intersect">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">intersect</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>c</em>, <em>d</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#intersect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.intersect" title="Permalink to this definition">¶</a></dt>
<dd><p>check if segment AB intersects segment CD in 2D</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : np.array (2xN)</p>
<p><strong>b</strong> : np.array (2xN)</p>
<p><strong>c</strong> : np.array (2xN)</p>
<p class="last"><strong>d</strong> : np.array (2xN)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#pylayers.util.geomutil.ccw" title="pylayers.util.geomutil.ccw"><code class="xref py py-obj docutils literal"><span class="pre">ccw</span></code></a></dt>
<dd>counter clock wise detection</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; import scipy as sp
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; from pylayers.util.plotutil import *
&gt;&gt;&gt; import matplotlib.pylab as plt
&gt;&gt;&gt; N = 10
&gt;&gt;&gt; A = sp.rand(2,N)
&gt;&gt;&gt; B = sp.rand(2,N)
&gt;&gt;&gt; C = sp.rand(2,N)
&gt;&gt;&gt; D = sp.rand(2,N)
&gt;&gt;&gt; b1 = intersect(A,B,C,D)
&gt;&gt;&gt; pt1 = A[:,b1]
&gt;&gt;&gt; ph1 = B[:,b1]
&gt;&gt;&gt; pt2 = C[:,b1]
&gt;&gt;&gt; ph2 = D[:,b1]
&gt;&gt;&gt; f1,a1 = displot(pt1,ph1,&#39;r&#39;)
&gt;&gt;&gt; f2,a2 = displot(pt2,ph2,&#39;b&#39;)
&gt;&gt;&gt; ti = plt.title(&#39;test intersect&#39;)
&gt;&gt;&gt; A = np.array([[0],[0]])
&gt;&gt;&gt; B = np.array([[1],[1]])
&gt;&gt;&gt; C = np.array([[1],[0]])
&gt;&gt;&gt; D = np.array([[0],[1]])
&gt;&gt;&gt; intersect(A,B,C,D)
array([ True], dtype=bool)
&gt;&gt;&gt; intersect(A,B,C,D)[0]
True
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-9.py">Source code</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-9.png">png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-9.hires.png">hires.png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-9.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/pylayers-util-geomutil-9.png" src="../_images/pylayers-util-geomutil-9.png" />
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.intersect3">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">intersect3</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>pg</em>, <em>u1</em>, <em>u2</em>, <em>l1</em>, <em>l2</em>, <em>binter=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#intersect3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.intersect3" title="Permalink to this definition">¶</a></dt>
<dd><p>Intersection of a line and a 3D rectangle screen</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : np.array (3,Nseg) of floats</p>
<blockquote>
<div><p>transmiter coordinates</p>
</div></blockquote>
<p><strong>b</strong> : np.array (3,Nseg) of floats</p>
<blockquote>
<div><p>receiver coordinates</p>
</div></blockquote>
<p><strong>pg</strong> : np.array (3,Nscreen) of floats</p>
<blockquote>
<div><p>center of gravity of the screen</p>
</div></blockquote>
<p><strong>u1</strong> : np.array (3,Nscreen) of floats</p>
<blockquote>
<div><p>unitary vector along first dimension</p>
</div></blockquote>
<p><strong>u2</strong> : np.array (3,Nscreen) of floats</p>
<blockquote>
<div><p>unitary vector along second dimension</p>
</div></blockquote>
<p><strong>l1</strong> : np.array (,Nscreen)</p>
<blockquote>
<div><p>length along first dimension in meters</p>
</div></blockquote>
<p><strong>l2</strong> : np.array (,Nscreen)</p>
<blockquote>
<div><p>length along second dimension in meters</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>bool</strong> : True   =&gt; intersection (occultation)</p>
<blockquote class="last">
<div><p>False</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="pylayers.gis.layout.html#pylayers.gis.layout.Layout.angleonlink3" title="pylayers.gis.layout.Layout.angleonlink3"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.gis.layout.Layout.angleonlink3</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; a = np.array([[1,0,1]]).T
&gt;&gt;&gt; b = np.array([[10,0,1]]).T
&gt;&gt;&gt; pg = np.array([[5,0,0]]).T
&gt;&gt;&gt; u1 = np.array([[0,1,0]]).T
&gt;&gt;&gt; u2 = np.array([[0,0,1]]).T
&gt;&gt;&gt; l1 = np.array([3]).T
&gt;&gt;&gt; l2 = np.array([3]).T
&gt;&gt;&gt; bo = intersect3(a,b,pg,u1,u2,l1,l2)
&gt;&gt;&gt; assert bo 
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.intersect3c">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">intersect3c</code><span class="sig-paren">(</span><em>tp</em>, <em>ti</em>, <em>aplane</em>, <em>pplane</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#intersect3c"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.intersect3c" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.intersect_cone_seg">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">intersect_cone_seg</code><span class="sig-paren">(</span><em>line0</em>, <em>line1</em>, <em>seg</em>, <em>bvis=False</em>, <em>bbool=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#intersect_cone_seg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.intersect_cone_seg" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>line0</strong></p>
<p><strong>line1</strong></p>
<p><strong>seg</strong></p>
<p class="last"><strong>bvis</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.intersect_cone_seg_old">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">intersect_cone_seg_old</code><span class="sig-paren">(</span><em>line0</em>, <em>line1</em>, <em>seg</em>, <em>bvis=False</em>, <em>bbool=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#intersect_cone_seg_old"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.intersect_cone_seg_old" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>line0</strong></p>
<p><strong>line1</strong></p>
<p><strong>seg</strong></p>
<p class="last"><strong>bvis</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.intersect_halfline_seg">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">intersect_halfline_seg</code><span class="sig-paren">(</span><em>line</em>, <em>seg</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#intersect_halfline_seg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.intersect_halfline_seg" title="Permalink to this definition">¶</a></dt>
<dd><p>intersect a half line and a segment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>line</strong> : (point,vec)</p>
<p><strong>seg</strong> :  (pta,phe)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>k</strong> : intersection parameter (0&lt;k&lt;1 if intersection)</p>
<p class="last"><strong>P</strong> : intersection point P = pta + k vseg</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.isBetween">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">isBetween</code><span class="sig-paren">(</span><em>p1</em>, <em>p2</em>, <em>p</em>, <em>epsilon=1e-05</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#isBetween"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.isBetween" title="Permalink to this definition">¶</a></dt>
<dd><p>test if p is between p1 and p2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p1</strong> : np.array</p>
<p><strong>p2</strong> : np.array</p>
<p><strong>p</strong> : np.array</p>
<p><strong>epsilon</strong> : float</p>
<blockquote>
<div><p>tolerance default 1e-5</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">boolean</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; p1 = np.array([0,0])
&gt;&gt;&gt; p2 = np.array([2,0])
&gt;&gt;&gt; p  = np.array([1,0])
&gt;&gt;&gt; assert(isBetween(p1,p2,p)),&#39;error&#39;
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.is_aligned3">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">is_aligned3</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>c</em>, <em>tol=0.01</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#is_aligned3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.is_aligned3" title="Permalink to this definition">¶</a></dt>
<dd><p>test aligment of 3 points</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : np.array</p>
<p><strong>b</strong> : np.array</p>
<p><strong>c</strong> : np.array</p>
<p><strong>tol</strong> : float</p>
<blockquote class="last">
<div><p>default 1e-2</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.is_aligned4">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">is_aligned4</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>c</em>, <em>d</em>, <em>tol=0.01</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#is_aligned4"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.is_aligned4" title="Permalink to this definition">¶</a></dt>
<dd><p>test aligment of 4 points 
Parameters
&#8212;&#8212;&#8212;-</p>
<p>a : np.array
b : np.array 
c : np.array 
d : np.array 
tol : float</p>
<blockquote>
<div>default 1e-2</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.isconvex">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">isconvex</code><span class="sig-paren">(</span><em>poly</em>, <em>tol=0.01</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#isconvex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.isconvex" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if a polygon is convex</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tol</strong> : tolerence on aligned point</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if convex</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>the algorithm tests all triplet of point and L.determine
if the third point is left to the 2 first.
a tolerance can be introduce in cases where the polygon is
almost convex.</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.isleft">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">isleft</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>c</em>, <em>tol=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#isleft"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.isleft" title="Permalink to this definition">¶</a></dt>
<dd><p>Test point c is at left of the vector a&#8211;&gt;b</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : np.array (2xN)</p>
<p><strong>b</strong> : np.array (2xN)</p>
<p><strong>c</strong> : np.array (2xN)</p>
<p><strong>tol</strong> : tolerance</p>
<p><strong>Returns</strong></p>
<p><strong>&#8212;&#8212;-</strong></p>
<p class="last"><strong>boolean array (1xN)</strong></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="pylayers.antprop.signature.html#module-pylayers.antprop.signature" title="pylayers.antprop.signature"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.antprop.signature</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.plotutil import *
&gt;&gt;&gt; import scipy as sp
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; from pylayers.util.plotutil import *
&gt;&gt;&gt; import matplotlib.pylab as plot
&gt;&gt;&gt; N = 20
&gt;&gt;&gt; A = sp.rand(2,N)
&gt;&gt;&gt; B = sp.rand(2,N)
&gt;&gt;&gt; C = np.array(([0.5,0.5])).reshape(2,1)
&gt;&gt;&gt; left=isleft(A,B,C)
&gt;&gt;&gt; il = np.where(left)[0]
&gt;&gt;&gt; inl = np.where(~left)[0]
&gt;&gt;&gt; plt.scatter(C[0],C[1],color=&#39;b&#39;,s=10)
&gt;&gt;&gt; displot(A[:,il],B[:,il],arrow=True,color=&#39;g&#39;)
&gt;&gt;&gt; displot(A[:,inl],B[:,inl],arrow=True,color=&#39;r&#39;)
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-10.py">Source code</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-10.png">png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-10.hires.png">hires.png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-10.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/pylayers-util-geomutil-10.png" src="../_images/pylayers-util-geomutil-10.png" />
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.isleftorequal">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">isleftorequal</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>c</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#isleftorequal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.isleftorequal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.ispoint">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">ispoint</code><span class="sig-paren">(</span><em>tpts</em>, <em>pt</em>, <em>tol=0.05</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#ispoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.ispoint" title="Permalink to this definition">¶</a></dt>
<dd><p>check if pt is a point in a tuple of points</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tpts</strong> : tuple (points (2xN) , index (1xN))</p>
<p><strong>pt</strong> : point (2,1)</p>
<p><strong>tol</strong> : float</p>
<blockquote>
<div><p>default (0.05 meters)</p>
</div></blockquote>
<p><strong>if True the point number (&lt;0) is returned</strong></p>
<p><strong>else 0 is return</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>k</strong> : point index if point exists, 0 otherwise</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.util.geomutil.Polygon.setvnodes" title="pylayers.util.geomutil.Polygon.setvnodes"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.util.geomutil.Polygon.setvnodes</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.line_intersection">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">line_intersection</code><span class="sig-paren">(</span><em>l1</em>, <em>l2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#line_intersection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.line_intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>intersection between two 2D lines using shapely</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>l1: numpy.ndarray</strong></p>
<blockquote>
<div><p>coordinates of l1 points</p>
</div></blockquote>
<p><strong>l2: numpy.ndarray</strong></p>
<blockquote>
<div><p>coordinates of l2 points</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">p: numpy.ndarray</p>
<blockquote class="last">
<div><p>coordinates of intersection point</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.linepoly_intersection">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">linepoly_intersection</code><span class="sig-paren">(</span><em>l</em>, <em>poly</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#linepoly_intersection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.linepoly_intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>intersection between a 2D line and a 2D polygon using shapely</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>l: numpy.ndarray</strong></p>
<blockquote>
<div><p>coordinates of l points</p>
</div></blockquote>
<p><strong>poly: numpy.ndarray</strong></p>
<blockquote>
<div><p>coordinates of poly points</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">p: numpy.ndarray</p>
<blockquote class="last">
<div><p>coordinates of intersection point</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.linet">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">linet</code><span class="sig-paren">(</span><em>ax</em>, <em>p1</em>, <em>p2</em>, <em>al=0.9</em>, <em>color='blue'</em>, <em>linewidth=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#linet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.linet" title="Permalink to this definition">¶</a></dt>
<dd><p>draw a short line segment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : axes</p>
<p><strong>p1</strong> : np.array</p>
<blockquote>
<div><p>start point</p>
</div></blockquote>
<p><strong>p2</strong> : np.array</p>
<blockquote>
<div><p>end point</p>
</div></blockquote>
<p><strong>al</strong> : float</p>
<blockquote>
<div><p>0 &lt; al &lt; 1   percentage of drawing  default 0.9</p>
</div></blockquote>
<p><strong>color</strong> :  string</p>
<blockquote>
<div><p>color default &#8216;blue&#8217;</p>
</div></blockquote>
<p><strong>linewidth</strong> : float</p>
<blockquote>
<div><p>line width default 1</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>ax</strong> : Axes instance</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; fig = plt.figure()
&gt;&gt;&gt; ax  = fig.gca()
&gt;&gt;&gt; p1 = np.array([0,0])
&gt;&gt;&gt; p2 = np.array([1,0])
&gt;&gt;&gt; p3 = np.array([0,1])
&gt;&gt;&gt; p4 = np.array([1,1])
&gt;&gt;&gt; ax = linet(ax,p1,p2,al=0.7,color=&#39;red&#39;,linewidth=3)
&gt;&gt;&gt; ax = linet(ax,p2,p3,al=0.8,color=&#39;blue&#39;,linewidth=2)
&gt;&gt;&gt; ax = linet(ax,p3,p4,al=0.9,color=&#39;green&#39;,linewidth=1)
&gt;&gt;&gt; ax = linet(ax,p4,p1,al=1,color=&#39;cyan&#39;,linewidth=0.2)
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/pylayers-util-geomutil-11.py">Source code</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-11.png">png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-11.hires.png">hires.png</a>, <a class="reference external" href="../modules/pylayers-util-geomutil-11.pdf">pdf</a>)</p>
<div class="figure">
<img alt="../_images/pylayers-util-geomutil-11.png" src="../_images/pylayers-util-geomutil-11.png" />
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.mirror">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">mirror</code><span class="sig-paren">(</span><em>p</em>, <em>pa</em>, <em>pb</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#mirror"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.mirror" title="Permalink to this definition">¶</a></dt>
<dd><p>compute the image of p wrt the segment (pa,pb)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p</strong> : numpy.ndarray</p>
<blockquote>
<div><p>point to image</p>
</div></blockquote>
<p><strong>pa</strong> : numpy.ndarray</p>
<blockquote>
<div><p>segment tail</p>
</div></blockquote>
<p><strong>pb</strong> : numpy.ndarray</p>
<blockquote>
<div><p>segment head</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>M</strong> : numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; from pylayers.util.plotutil import *
&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; np.random.seed(0)
&gt;&gt;&gt; p = np.random.randint(-2,2,(2,3))
&gt;&gt;&gt; pa  = np.array([-0.5,1])
&gt;&gt;&gt; pb  = np.array([0,0])
&gt;&gt;&gt; M = mirror(p,pa,pb)
&gt;&gt;&gt; print(M)
[[ 2.8 -1.4 -0.2]
 [ 0.4 -0.2  1.4]]
&gt;&gt;&gt; plt.plot(p[0,:],p[1,:],&#39;or&#39;,alpha=0.2)
&gt;&gt;&gt; plt.plot(M[0,:],M[1,:],&#39;ob&#39;,alpha=0.2)
&gt;&gt;&gt; displot(p,M,alpha=0.2)
&gt;&gt;&gt; axis = np.vstack((pa,pb))
&gt;&gt;&gt; plt.plot(axis[:,0],axis[:,1])
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.mirror3">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">mirror3</code><span class="sig-paren">(</span><em>tp</em>, <em>aplane</em>, <em>pplane</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#mirror3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.mirror3" title="Permalink to this definition">¶</a></dt>
<dd><p>compute recursively the image of p wrt the list of facet</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tp</strong> : numpy.ndarray (3 x Ns )</p>
<blockquote>
<div><p>Ns : number of screen 
Npt : number of points</p>
</div></blockquote>
<p><strong>aplane</strong> : numpy.ndarray</p>
<blockquote>
<div><p>array of planes (3xNplanex2))</p>
</div></blockquote>
<p><strong>pplane</strong> : numpy.ndarray</p>
<blockquote>
<div><p>array of points (3xNplane)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>tp</strong> : np.array</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>sequence of images </dt>
<dd><p class="first last">tp[:,-1] is the final image
tp[:,0] is the original point</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; tp = np.array([[1,1,1]]).T
&gt;&gt;&gt; p1 = np.array([[0,0] ,[1,0],[0,1]])  #yz
&gt;&gt;&gt; p2 = np.array([[1,0] ,[0,0],[0,1]])  #yz
&gt;&gt;&gt; p3 = np.array([[1,0] ,[0,1],[0,0]])  #xy
&gt;&gt;&gt; aplane = np.hstack((p1,p2,p3))
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.mirror3b">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">mirror3b</code><span class="sig-paren">(</span><em>tp</em>, <em>aplane</em>, <em>pplane</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#mirror3b"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.mirror3b" title="Permalink to this definition">¶</a></dt>
<dd><p>compute recursively the image of p wrt the list of facet</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tp</strong> : numpy.ndarray (3 x Ns x Npt)</p>
<blockquote>
<div><p>Ns : number of screen 
Npt : number of points</p>
</div></blockquote>
<p><strong>aplane</strong> : numpy.ndarray</p>
<blockquote>
<div><p>array of planes (3xNplanex2))</p>
</div></blockquote>
<p><strong>pplane</strong> : numpy.ndarray</p>
<blockquote>
<div><p>array of points (3xNplane)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>tp</strong> : np.array</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>sequence of images </dt>
<dd><p class="first last">tp[:,-1] is the final image
tp[:,0] is the original point</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; tp = np.array([[1,1,1]]).T
&gt;&gt;&gt; p1 = np.array([[0,0] ,[1,0],[0,1]])  #yz
&gt;&gt;&gt; p2 = np.array([[1,0] ,[0,0],[0,1]])  #yz
&gt;&gt;&gt; p3 = np.array([[1,0] ,[0,1],[0,0]])  #xy
&gt;&gt;&gt; aplane = np.hstack((p1,p2,p3))
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.mirror3c">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">mirror3c</code><span class="sig-paren">(</span><em>tp</em>, <em>aplane</em>, <em>pplane</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#mirror3c"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.mirror3c" title="Permalink to this definition">¶</a></dt>
<dd><p>compute recursively the image of p wrt the list of facet</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tp</strong> : MDA</p>
<blockquote>
<div><p>Collection of images points from screen in 3D space from set of points  
(3 x Nf x Npt x Nc)
Ns : number of screen 
Npt : number of points
(s x f x p x c )</p>
</div></blockquote>
<p><strong>aplane</strong> : numpy.ndarray</p>
<blockquote>
<div><p>MDarray of (c)ollection of ()vector (f)aces n 3D ((s)pace 
(3xNfacesx2xNc)
(sxfxvxc)</p>
</div></blockquote>
<p><strong>pplane</strong> : numpy.ndarray</p>
<blockquote>
<div><p>array of points (3xNplanexNsig)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>tp</strong> : np.array</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>sequence of images </dt>
<dd><p class="first last">tp[:,-1] is the final image
tp[:,0] is the original point</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.ndarray">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">ndarray</code><span class="sig-paren">(</span><em>poly</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#ndarray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.ndarray" title="Permalink to this definition">¶</a></dt>
<dd><p>get a ndarray from a Polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>p</strong> : ndarray (2xNp)</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; p1 = np.array([[0,1,1,0],[0,0,1,1]])
&gt;&gt;&gt; P1 = Polygon(p1)
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.normalize">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">normalize</code><span class="sig-paren">(</span><em>vec</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#normalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>normalize an array of N ndim vectors</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vec</strong> : ndarray (N x ndim)</p>
<blockquote>
<div><p>N ndim vectors</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vecn</strong> : ndarray (N x ndim)</p>
<blockquote class="last">
<div><p>N normalized ndim vectors</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.onb">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">onb</code><span class="sig-paren">(</span><em>A</em>, <em>B</em>, <em>v</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#onb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.onb" title="Permalink to this definition">¶</a></dt>
<dd><p>orthonormal basis from 2 points defining an axe and a vector</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>A</strong> : np.array</p>
<blockquote>
<div><p>3 x n</p>
</div></blockquote>
<p><strong>B</strong> : np.array</p>
<blockquote>
<div><p>3 x n</p>
</div></blockquote>
<p><strong>v</strong> : np.array</p>
<blockquote>
<div><p>3 x n</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">T basis (un,vn,wn)</p>
<blockquote>
<div><p>3 x n x 3</p>
</div></blockquote>
<p>(un,vn) is a basis in the plane transverse to the axis vn</p>
<p class="last">wn is the unitary vector along vector AB</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.util.geomutil.Geomvect.geomBase</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">pylayers.util.mobility.body</span></code></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; A = np.array([[0,0,0,0],[1,2,3,4],[0,0,0,0]])
&gt;&gt;&gt; B = np.array([[0,0,0,0],[1,2,3,4],[10,10,10,10]])
&gt;&gt;&gt; v = np.array([[1,1,1,1],[0,0,0,0],[0,0,0,0]])
&gt;&gt;&gt; onb(A,B,v)
array([[[ 1.,  0.,  0.],
        [ 0.,  1.,  0.],
        [ 0.,  0.,  1.]]
&lt;BLANKLINE&gt;
       [[ 1.,  0.,  0.],
        [ 0.,  1.,  0.],
        [ 0.,  0.,  1.]],
&lt;BLANKLINE&gt;
       [[ 1.,  0.,  0.],
        [ 0.,  1.,  0.],
        [ 0.,  0.,  1.]],
&lt;BLANKLINE&gt;
       [[ 1.,  0.,  0.],
        [ 0.,  1.,  0.],
        [ 0.,  0.,  1.]]])
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plotPolygon">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">plotPolygon</code><span class="sig-paren">(</span><em>poly</em>, <em>color='#abcdef'</em>, <em>alpha=0.8</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plotPolygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plotPolygon" title="Permalink to this definition">¶</a></dt>
<dd><p>plot a shapely Polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>poly</strong> : shapely polygon</p>
<p><strong>color</strong> : default &#8220;#abcdef&#8221;</p>
<p><strong>alpha</strong> : float</p>
<blockquote class="last">
<div><p>transparency   (default 0.8)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_bounds">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">plot_bounds</code><span class="sig-paren">(</span><em>ax</em>, <em>ob</em>, <em>color='#000000'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_bounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>plot bounds</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axes</p>
<p><strong>ob</strong> : shapely object</p>
<p><strong>color</strong> : string</p>
<blockquote class="last">
<div><p>default &#8216;#999999&#8217;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_bounds2">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">plot_bounds2</code><span class="sig-paren">(</span><em>ax</em>, <em>ob</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_bounds2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_bounds2" title="Permalink to this definition">¶</a></dt>
<dd><p>plot bounds v2</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">http://pypi.python.org/pypi/Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_bounds3">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">plot_bounds3</code><span class="sig-paren">(</span><em>ax</em>, <em>ob</em>, <em>color</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_bounds3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_bounds3" title="Permalink to this definition">¶</a></dt>
<dd><p>plot bounds v3</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">http://pypi.python.org/pypi/Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_coords">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">plot_coords</code><span class="sig-paren">(</span><em>ax</em>, <em>ob</em>, <em>color='#999999'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>plotting coord of a <cite>shapely</cite> object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axes</p>
<p><strong>ob</strong> : shapely object</p>
<p><strong>color</strong> : string</p>
<blockquote class="last">
<div><p>default &#8216;#999999&#8217;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_coords2">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">plot_coords2</code><span class="sig-paren">(</span><em>ax</em>, <em>ob</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_coords2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_coords2" title="Permalink to this definition">¶</a></dt>
<dd><p>plot point from coordinates</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">http://pypi.python.org/pypi/Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_coords3">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">plot_coords3</code><span class="sig-paren">(</span><em>ax</em>, <em>ob</em>, <em>color</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_coords3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_coords3" title="Permalink to this definition">¶</a></dt>
<dd><p>plot coors v3</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">http://pypi.python.org/pypi/Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_line">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">plot_line</code><span class="sig-paren">(</span><em>ax</em>, <em>ob</em>, <em>color='#999999'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_line" title="Permalink to this definition">¶</a></dt>
<dd><p>plot line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : matplotlib axes</p>
<p><strong>ob</strong> : shapely object</p>
<p><strong>color</strong> : string</p>
<blockquote class="last">
<div><p>default &#8216;#999999&#8217;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>color = v_color(ob)</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">Shapely</a></p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.util.geomutil import *
&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; seg = shg.LineString([(0,0),(1,1)])
&gt;&gt;&gt; fig = plt.figure()
&gt;&gt;&gt; ax  = fig.gca()
&gt;&gt;&gt; plot_line(ax,seg)
&gt;&gt;&gt; plt.show()
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_line2">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">plot_line2</code><span class="sig-paren">(</span><em>ax</em>, <em>ob</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_line2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_line2" title="Permalink to this definition">¶</a></dt>
<dd><p>plot line v2</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">http://pypi.python.org/pypi/Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.plot_line3">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">plot_line3</code><span class="sig-paren">(</span><em>ax</em>, <em>ob</em>, <em>color</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#plot_line3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.plot_line3" title="Permalink to this definition">¶</a></dt>
<dd><p>plot lines v3</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">http://pypi.python.org/pypi/Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.ptconvex">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">ptconvex</code><span class="sig-paren">(</span><em>poly</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#ptconvex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.ptconvex" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine convex / concave points in the Polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>poly</strong> : shapely.Polygon</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.ptonseg">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">ptonseg</code><span class="sig-paren">(</span><em>pta</em>, <em>phe</em>, <em>pt</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#ptonseg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.ptonseg" title="Permalink to this definition">¶</a></dt>
<dd><p>return a point on the segment (pta,pte)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pta</strong> : ndarray</p>
<p><strong>phe</strong> : ndarray</p>
<p><strong>pt</strong> : ndarray</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>p</strong> : ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.pvec">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">pvec</code><span class="sig-paren">(</span><em>v1</em>, <em>v2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#pvec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.pvec" title="Permalink to this definition">¶</a></dt>
<dd><p>cross product between v1 and v2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>v1</strong> : numpy array</p>
<p><strong>v2</strong> : numpy array</p>
<p><strong>Returns</strong></p>
<p><strong>&#8212;&#8212;-</strong></p>
<p class="last"><strong>v3 = v1 x v2</strong></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">np.cross</span></code></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; v1 = np.array([1,0,0])
&gt;&gt;&gt; v2 = np.array([0,1,0])
&gt;&gt;&gt; v3 = pvec(v1,v2)
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.pvecn">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">pvecn</code><span class="sig-paren">(</span><em>v1</em>, <em>v2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#pvecn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.pvecn" title="Permalink to this definition">¶</a></dt>
<dd><p>cross product and normalization</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>v1</strong> : numpy array</p>
<blockquote>
<div><p>v2 : numpy array</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">v3 = v1 x v2 / | v1 x v2 |</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; v1 = np.array([2,0,0])
&gt;&gt;&gt; v2 = np.array([0,2,0])
&gt;&gt;&gt; v3 = pvecn(v1,v2)
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.qrdecomp">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">qrdecomp</code><span class="sig-paren">(</span><em>V</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#qrdecomp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.qrdecomp" title="Permalink to this definition">¶</a></dt>
<dd><p>Gram-Schmid orthonormalization of a set of <cite>Nv</cite> vectors, in-place.
using qr decomp</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>V</strong> : array,</p>
<blockquote>
<div><p>shape (3,Nv,nf)  where number of vectors Nv = 3 and nf is an integer</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>V</strong> : array,</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>from <a class="reference external" href="http://numpy-discussion.10968.n7.nabble.com/Efficient-orthogonalisation-with-scipy-numpy-td23635.html">http://numpy-discussion.10968.n7.nabble.com/Efficient-orthogonalisation-with-scipy-numpy-td23635.html</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.reflection_matrix">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">reflection_matrix</code><span class="sig-paren">(</span><em>U</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#reflection_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.reflection_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://en.wikipedia.org/wiki/Transformation_matrix#Reflection">https://en.wikipedia.org/wiki/Transformation_matrix#Reflection</a>
u = np.ndarray (2,Nvec)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>M</strong> : nd array</p>
<blockquote>
<div><p>(2,2,Nvec)</p>
</div></blockquote>
<p>u = np.array([2,2])</p>
<p class="last">U=np.vstack((u,u/2.,2*u)).T</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.sector">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">sector</code><span class="sig-paren">(</span><em>p1</em>, <em>p2</em>, <em>pt</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#sector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.sector" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>non signed angular sector  between</dt>
<dd>(p1,pt) and (p2,pt)</dd>
<dt>p1 x&#8212;&#8212;&#8212;&#8211;x pt</dt>
<dd><blockquote class="first">
<div><div class="line-block">
<div class="line">/</div>
</div>
</div></blockquote>
<dl class="last docutils">
<dt>alpha /</dt>
<dd><blockquote class="first">
<div>/</div></blockquote>
<p class="last">x p2</p>
</dd>
</dl>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p1</strong> : np.array (3 x Np)</p>
<blockquote>
<div><p>point</p>
</div></blockquote>
<p><strong>p2</strong> : np.array (3 x Np)</p>
<blockquote>
<div><p>point</p>
</div></blockquote>
<p><strong>pt</strong> : np.array (3 x Np)</p>
<blockquote>
<div><p>point</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>alpha</strong> : np.array (3 x Np)</p>
<blockquote class="last">
<div><p>degree</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Useful for AAS calculation</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.sectorold">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">sectorold</code><span class="sig-paren">(</span><em>p1</em>, <em>p2</em>, <em>pt</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#sectorold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.sectorold" title="Permalink to this definition">¶</a></dt>
<dd><p>angular sector  p1 pt p2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p1</strong> : np.array</p>
<blockquote>
<div><p>point</p>
</div></blockquote>
<p><strong>p2</strong> : np.array</p>
<blockquote>
<div><p>point</p>
</div></blockquote>
<p><strong>pt</strong> : np.array</p>
<blockquote>
<div><p>point</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>alpha</strong> : np.array</p>
<blockquote class="last">
<div><p>degree</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Useful for AAS calculation</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.shrinkPolygon">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">shrinkPolygon</code><span class="sig-paren">(</span><em>poly</em>, <em>d=0.1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#shrinkPolygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.shrinkPolygon" title="Permalink to this definition">¶</a></dt>
<dd><p>shrink polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>poly</strong> : shapely polygon</p>
<p><strong>d</strong> : float</p>
<blockquote>
<div><p>0.1</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">poly</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.shrinkPolygon2">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">shrinkPolygon2</code><span class="sig-paren">(</span><em>poly1</em>, <em>d=0.1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#shrinkPolygon2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.shrinkPolygon2" title="Permalink to this definition">¶</a></dt>
<dd><p>shrink Polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>poly1 Polygon</strong></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.signedarea">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">signedarea</code><span class="sig-paren">(</span><em>poly</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#signedarea"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.signedarea" title="Permalink to this definition">¶</a></dt>
<dd><p>get the signed area of the polygon</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.simplifyPolygon">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">simplifyPolygon</code><span class="sig-paren">(</span><em>poly1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#simplifyPolygon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.simplifyPolygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplify polygon : suppress adjacent colinear segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>poly1</strong></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.v_color">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">v_color</code><span class="sig-paren">(</span><em>ob</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#v_color"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.v_color" title="Permalink to this definition">¶</a></dt>
<dd><p>return color</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ob :</strong></td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p><a class="reference external" href="http://pypi.python.org/pypi/Shapely">http://pypi.python.org/pypi/Shapely</a></p>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.valid_wedge">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">valid_wedge</code><span class="sig-paren">(</span><em>ps</em>, <em>pw</em>, <em>p1</em>, <em>p2</em>, <em>grazing</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#valid_wedge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.valid_wedge" title="Permalink to this definition">¶</a></dt>
<dd><p>check set of N wedge sector validity for point ps</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ps</strong> : source point</p>
<blockquote>
<div><p>pw       : np.array (Nx2) wedge apex point
p1       : np.array (Nx2) point 1 of wedge
p2       : np.array (Nx2) point 2 of wedge
grazing  : 0 (without grazing)</p>
<blockquote>
<div><blockquote>
<div><blockquote>
<div><p>1 (authorize grazing)</p>
<blockquote>
<div><p>xps</p>
</div></blockquote>
</div></blockquote>
<p>x pw</p>
</div></blockquote>
<p>/           /            /             x p1    x p2</p>
</div></blockquote>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>valid</strong> : np.array (Nx1)</p>
<blockquote class="last">
<div><p>valid = 1 if ps is in the convex sector
valid = 0 if ps is in the concav sector</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; p1 = np.array([-2,-2]).reshape(1,2)
&gt;&gt;&gt; p2 = np.array([2,-2]).reshape(1,2)
&gt;&gt;&gt; pw = np.array([0,0]).reshape(1,2)
&gt;&gt;&gt; ps1 = np.array([3,3]).reshape(1,2)
&gt;&gt;&gt; ps2 = np.array([0,-3]).reshape(1,2)
&gt;&gt;&gt; valid_wedge(ps1,pw,p1,p2,0)[0][0]
1.0
&gt;&gt;&gt; valid_wedge(ps2,pw,p1,p2,0)[0][0]
1.0
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.vec_sph">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">vec_sph</code><span class="sig-paren">(</span><em>th</em>, <em>ph</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#vec_sph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.vec_sph" title="Permalink to this definition">¶</a></dt>
<dd><p>return Spherical orthonormal frame</p>
<dl class="docutils">
<dt>[ [ eth]</dt>
<dd>[ eph]    (theta,phi)
[ er ] ]</dd>
</dl>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.util.geomutil.SphericalBasis" title="pylayers.util.geomutil.SphericalBasis"><code class="xref py py-obj docutils literal"><span class="pre">SphericalBasis</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.vecang">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">vecang</code><span class="sig-paren">(</span><em>v1</em>, <em>v2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#vecang"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.vecang" title="Permalink to this definition">¶</a></dt>
<dd><p>angle between v1 and v2 , result in [0,2*pi]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>v1</strong> : np.array (3 x Np)</p>
<blockquote>
<div><p>vector</p>
</div></blockquote>
<p><strong>v2</strong> : np.array (3 x Np)</p>
<blockquote>
<div><p>vector</p>
</div></blockquote>
<p><strong>Returns</strong></p>
<p><strong>&#8212;&#8212;-</strong></p>
<p><strong>alpha</strong> : np.array (3 x Np)</p>
<blockquote class="last">
<div><p>radians</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.util.geomutil.wall_delta">
<code class="descclassname">pylayers.util.geomutil.</code><code class="descname">wall_delta</code><span class="sig-paren">(</span><em>x1</em>, <em>y1</em>, <em>x2</em>, <em>y2</em>, <em>delta=0.0001</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/util/geomutil.html#wall_delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.util.geomutil.wall_delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Identification of new points</p>
<p>After defining a tolerance length those points which are situated in
the extremities of the walls at a distance equivalent to the
tolerance length are identified.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x1</strong> :  float</p>
<blockquote>
<div><p>The x component of the point of the first extremity</p>
</div></blockquote>
<p><strong>y1</strong> :  float</p>
<blockquote>
<div><p>The x component of the point of the first extremity</p>
</div></blockquote>
<p><strong>x2</strong> :  float</p>
<blockquote>
<div><p>The x component of the point of the second extremity</p>
</div></blockquote>
<p><strong>y2</strong> :  float</p>
<blockquote>
<div><p>The x component of the point of the second extremity.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>bx</strong> :  float</p>
<blockquote>
<div><p>The x component of the new point of the first extremity</p>
</div></blockquote>
<p><strong>by</strong> :  float</p>
<blockquote>
<div><p>The y component of the new point of the first extremity</p>
</div></blockquote>
<p><strong>cx</strong> :  float</p>
<blockquote>
<div><p>The x component of the new point of the second extremity</p>
</div></blockquote>
<p><strong>cy</strong> :  float</p>
<blockquote class="last">
<div><p>The y component of the new point of the second extremity.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<div class="math">
\[bx=x1+(x2-x1) \frac{\delta}{mod(a)}.\]</div>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; x1=-2.
&gt;&gt;&gt; y1=2.
&gt;&gt;&gt; x2=-1.
&gt;&gt;&gt; y2=1.
&gt;&gt;&gt; bx,by,cx,cy = wall_delta(x1,y1,x2,y2,delta=0.0001)
&gt;&gt;&gt; assert bx==-1.9999292893218814,&#39;Mistake&#39;
&gt;&gt;&gt; assert by==1.9999292893218814,&#39;Mistake&#39;
&gt;&gt;&gt; assert cx==-1.0000707106781186,&#39;Mistake&#39;
&gt;&gt;&gt; assert cy==1.0000707106781186,&#39;Mistake&#39;
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
        <div class="clearer"></div>
      </div>
    </div>
  

    <div class="footer">
        &copy; 2016, PyLayers developer team.
      Last updated on Nov 06, 2017.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.5a0. Design by <a href="http://desgrana.es">Desgrana</a>.
    <span style="padding-left: 5ex;">
    <a href="../_sources/modules/pylayers.util.geomutil.rst.txt"
	    rel="nofollow">Show this page source</a>
    </span>
    </div>
     <div class="rel">
    
    <div class="buttonPrevious">
      <a href="generated/pylayers.util.geomutil.Geomlist.__init__.html">
        Previous
      </a>  
    </div>
    <div class="buttonNext">
      <a href="../py-modindex.html">
        Next
      </a>  
    </div>
    
     </div>
     <script type="text/javascript">
       $("div.buttonNext, div.buttonPrevious").hover(
           function () {
               $(this).css('background-color', '#AFFFFF');
           },
           function () {
               $(this).css('background-color', '#AFFFFF');
           }
       );
     </script>
  </body>
</html>