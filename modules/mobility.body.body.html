<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>body &mdash; PyLayers</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PyLayers" href="../index.html" />
    <link rel="up" title="mobility" href="mobility.html" />
    <link rel="next" title="&lt;no title&gt;" href="mobility.transit.path.html" />
    <link rel="prev" title="constraints" href="mobility.agent.html" /> 
  </head>
  <body>
<div style="color: black;background-color: white; font-size: 3.2em; text-align: left; padding: 15px 10px 10px 15px">
    PyLayers
<!--
<a href="../index.html"><img src="../_static/logo.png" height="200" border="0"
    alt="pylayers"/></a>
-->
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="mobility.transit.path.html" title="&lt;no title&gt;"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="mobility.agent.html" title="constraints"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">PyLayers Home </a> |&nbsp;</li>
        <li><a href="../notebook/index.html">Documentation </a> |&nbsp;</li>
        <li><a href="../download.html">Download </a> |&nbsp; </li>
        <li><a href="https://github.com/pylayers/">Developer (Github)</a> </li>

          <li><a href="index.html" >User references</a> &raquo;</li>
          <li><a href="mobility.html" accesskey="U">mobility</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="mobility.agent.html"
                        title="previous chapter">constraints</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="mobility.transit.path.html"
                        title="next chapter">&lt;no title&gt;</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="body">
<span id="id1"></span><h1>body<a class="headerlink" href="#body" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-pylayers.mobility.body.body"></span><dl class="class">
<dt id="pylayers.mobility.body.body.Body">
<em class="property">class </em><tt class="descclassname">pylayers.mobility.body.body.</tt><tt class="descname">Body</tt><big>(</big><em>_filebody='John.ini'</em>, <em>_filemocap='07_01.c3d'</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage the Body model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Methods:</th><td class="field-body"><p class="first"><strong>load</strong> :</p>
<p><strong>center</strong> :</p>
<p><strong>posvel</strong> :</p>
<p><strong>loadC3D</strong> :</p>
<p><strong>settopos</strong> :</p>
<p><strong>setccs</strong> :</p>
<p><strong>setdcs</strong> :</p>
<p><strong>geomfile</strong> :</p>
<p><strong>plot3d</strong> :</p>
<p><strong>movie</strong> :</p>
<p><strong>cylinder_basis_k</strong> :</p>
<p class="last"><strong>cyl_antenna</strong> :</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>nodes_Id = {0:&#8217;STRN&#8217;,1:&#8217;CLAV&#8217;,2:&#8217;RFHD&#8217;,3:&#8217;RSHO&#8217;,
4:&#8217;LSHO&#8217;, 5:&#8217;RELB&#8217;,6:&#8217;LELB&#8217;, 7:&#8217;RWRB&#8217;,8:&#8217;LWRB&#8217;, 9:&#8217;RFWT&#8217;,
10:&#8217;LFWT&#8217;, 11:&#8217;RKNE&#8217;, 12:&#8217;LKNE&#8217;,13:&#8217;RANK&#8217;, 14:&#8217;LANK&#8217; ,
15:&#8217;LFIN&#8217; ,16:&#8217;LELB&#8217;, 17:&#8217;RUPA&#8217;,18:&#8217;LUPA&#8217;, 19:&#8217;RFRM&#8217;,
20:&#8217;LFRM&#8217;, 21:&#8217;LSHN&#8217;, 22:&#8217;RSHN&#8217;,23:&#8217;LTHI&#8217;, 24:&#8217;RTHI&#8217;,
25:&#8217;LHEE&#8217;, 26:&#8217;RHEE&#8217;, 27:&#8217;LTOE&#8217;,28:&#8217;RTOE&#8217;, 29:&#8217;RMT5&#8217;}</p>
<dl class="method">
<dt id="pylayers.mobility.body.body.Body.body_link">
<tt class="descname">body_link</tt><big>(</big><em>topos=True</em>, <em>frameId=0</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.body_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.body_link" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>topos</strong> :  boolean</p>
<blockquote>
<div><p>default True</p>
</div></blockquote>
<p><strong>frameId</strong> : int</p>
<blockquote>
<div><p>used in case topos == False. Indicates the frame Id.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>link_vis</strong> : np.array (,nlinks)</p>
<blockquote>
<div><p>number of intersected cylinder on the link</p>
</div></blockquote>
<p><strong>links is a list of couple of strings inticating the different links</strong> :</p>
<p class="last"><strong>between devices.</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.mobility.body.body.Body.center">
<tt class="descname">center</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.center"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.center" title="Permalink to this definition">¶</a></dt>
<dd><p>centering the body</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>self.pg</strong> : center of gravity</p>
<p><strong>self.vg</strong> : velocity</p>
<p><strong>self.d</strong> : set of centered frames</p>
<p><strong>self.smocap</strong> : integrated distance</p>
<p class="last"><strong>self.vmocap</strong> : averaged velocity</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The center method creates a centered version of the motion capture data stored in
self.d
It also calculates :
self.smocap : total distance along trajectory
self.vmocap : averaged speed along trajectory
Here only the projection of the body centroid in the plan 0xy is calculated</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.mobility.body.body.Body.cyl_antenna">
<tt class="descname">cyl_antenna</tt><big>(</big><em>cylinderId</em>, <em>l</em>, <em>alpha</em>, <em>frameId=0</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.cyl_antenna"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.cyl_antenna" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cylinderId</strong> : int</p>
<p><strong>index of cylinder</strong> :</p>
<p><strong>l</strong> : distance from origin of cylider</p>
<p><strong>alpha</strong> : angle from reference direction</p>
<p class="last"><strong>frameId</strong> : frameId</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.mobility.body.body.Body.cylinder_basis_k">
<tt class="descname">cylinder_basis_k</tt><big>(</big><em>frameId</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.cylinder_basis_k"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.cylinder_basis_k" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>frameId</strong> : int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.mobility.body.body.Body.geomfile">
<tt class="descname">geomfile</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.geomfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.geomfile" title="Permalink to this definition">¶</a></dt>
<dd><p>create a geomview file from a body configuration</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>iframe</strong> : int</p>
<p><strong>frame id (useless if topos==True)</strong> :</p>
<p><strong>verbose</strong> : boolean</p>
<p><strong>topos</strong> : boolean</p>
<p><strong>frame id or topos</strong> :</p>
<p><strong>wire</strong> : boolean</p>
<p><strong>body as a wire or cylinder</strong> :</p>
<p><strong>ccs</strong> : boolean</p>
<p><strong>display cylinder coordinate system</strong> :</p>
<p><strong>cacs</strong> : boolean</p>
<p><strong>display cylinder antenna coordinate system</strong> :</p>
<p><strong>acs</strong> : boolean</p>
<p><strong>display antenna coordinate system</strong> :</p>
<p><strong>struc</strong> : boolean</p>
<p><strong>displat structure layout</strong> :</p>
<p><strong>tag</strong> : string</p>
<p><strong>filestruc</strong> : string</p>
<p class="last"><strong>name of the Layout</strong> :</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This function creates either a 3d representation of the frame iframe
or if topos==True a representation of the current topos.</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.mobility.body.body.Body.intersectBody">
<tt class="descname">intersectBody</tt><big>(</big><em>A</em>, <em>B</em>, <em>topos=True</em>, <em>frameId=0</em>, <em>cyl=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.intersectBody"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.intersectBody" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>A</strong> :</p>
<p><strong>B</strong> :</p>
<p><strong>topos</strong> :</p>
<p><strong>frameId</strong> :</p>
<p><strong>cyl</strong> :</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>intersect</strong> : np.array (,ncyl)</p>
<blockquote class="last">
<div><p>O : AB not intersected by cylinder
1 : AB intersected by cylinder</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.mobility.body.body.Body.load">
<tt class="descname">load</tt><big>(</big><em>_filebody='John.ini'</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.load" title="Permalink to this definition">¶</a></dt>
<dd><p>load a body ini file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>_filebody</strong> : body short filename</p>
<p><strong>Notes</strong> :</p>
<p><strong>&#8212;&#8211;</strong> :</p>
<p><strong>A body .ini file contains 4 sections</strong> :</p>
<p><strong>+ section [nodes]</strong> :</p>
<p><strong>Node number = Node name</strong> :</p>
<p><strong>+ section [cylinder]</strong> :</p>
<p><strong>Cylinder number = {&#8216;t&#8217;:tail node number, &#8216;h&#8217;:head node number , &#8216;r&#8217;: cylinder&#8217; radius}</strong> :</p>
<p><strong>+ section [antennas]</strong> :</p>
<p class="last"><strong>Antenna number = {&#8216;cylId&#8217; cylinder Id, &#8216;l&#8217;: ,&#8217;h&#8217;: parameter,&#8217;a&#8217;:angle,&#8217;filename&#8217;: filename}</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.mobility.body.body.Body.loadC3D">
<tt class="descname">loadC3D</tt><big>(</big><em>filename='07_01.c3d'</em>, <em>nframes=300</em>, <em>unit='cm'</em>, <em>centered=False</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.loadC3D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.loadC3D" title="Permalink to this definition">¶</a></dt>
<dd><p>load nframes of motion capture C3D file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : string</p>
<p><strong>file name</strong> :</p>
<p><strong>nframes</strong> : int</p>
<p class="last"><strong>number of frames</strong> :</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The body is centered at the</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.mobility.body.body.Body.movie">
<tt class="descname">movie</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.movie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.movie" title="Permalink to this definition">¶</a></dt>
<dd><p>creates a geomview movie</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lframe</strong> : []</p>
<p><strong>verbose</strong> : False</p>
<p><strong>topos</strong> : True</p>
<p><strong>wire</strong> : True</p>
<p><strong>ccs</strong> : False</p>
<p><strong>dcs</strong> : False</p>
<p><strong>struc</strong> : True</p>
<p><strong>traj</strong> : []</p>
<p class="last"><strong>filestruc:&#8217;DLR.off&#8217;</strong> :</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.mobility.body.body.Body.geomfile" title="pylayers.mobility.body.body.Body.geomfile"><tt class="xref py py-obj docutils literal"><span class="pre">Body.geomfile</span></tt></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.mobility.body.body.Body.plot3d">
<tt class="descname">plot3d</tt><big>(</big><em>iframe=0</em>, <em>topos=False</em>, <em>fig=</em>, <span class="optional">[</span><span class="optional">]</span><em>ax=</em>, <span class="optional">[</span><span class="optional">]</span><em>col='b'</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.plot3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.plot3d" title="Permalink to this definition">¶</a></dt>
<dd><p>scatter 3d plot
Parameters
&#8212;&#8212;&#8212;-</p>
<p>iframe : int
topos : boolean
fig :
ax :</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>fig,ax</strong> :</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.mobility.body.body.Body.posvel">
<tt class="descname">posvel</tt><big>(</big><em>traj</em>, <em>t</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.posvel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.posvel" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>traj <span class="classifier-delimiter">:</span> <span class="classifier">Tajectory DataFrame</span></dt>
<dd>nx3</dd>
<dt>t <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>trajectory time for evaluation of topos</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>kf</strong> : frame integer index</p>
<p><strong>kt</strong> : trajectory integer index</p>
<p><strong>vsn</strong> : normalized speed vector along motion capture trajectory (source)</p>
<p><strong>wsn</strong> : planar vector orthogonal to vsn</p>
<p><strong>vtn</strong> : normalized speed vector along motion trajectory (target)</p>
<p class="last"><strong>wtn</strong> : planar vector orthogonal to wtn</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.mobility.body.body.Body.setacs">
<tt class="descname">setacs</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.setacs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.setacs" title="Permalink to this definition">¶</a></dt>
<dd><p>set antenna coordinate system (dcs) from a topos or a set of frames</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.mobility.body.body.Body.setccs">
<tt class="descname">setccs</tt><big>(</big><em>frameId=0</em>, <em>topos=False</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.setccs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.setccs" title="Permalink to this definition">¶</a></dt>
<dd><p>set cylinder coordinate system</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>frameId</strong> : int</p>
<p><strong>frame id in the mocap dataframe (default 0)</strong> :</p>
<p><strong>topos</strong> : boolean</p>
<p><strong>default False</strong> :</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>self.ccs</strong> : ndarray (nc,3,3)</p>
<p><strong>Notes</strong> :</p>
<p><strong>&#8212;&#8211;</strong> :</p>
<p><strong>There are as many frames as cylinders (body graph edges)</strong> :</p>
<p><strong>ccs is a MDA (nc x 3 x 3 ) where nc denotes the number of cylinders</strong> :</p>
<p><strong>For each cylinder there is an attached coordinate systems</strong> :</p>
<p><strong>1st vector</strong> :</p>
<p class="last"><strong>2nd</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.mobility.body.body.Body.setdcs">
<tt class="descname">setdcs</tt><big>(</big><em>topos=True</em>, <em>frameId=0</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.setdcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.setdcs" title="Permalink to this definition">¶</a></dt>
<dd><p>set device coordinate system (dcs) from a topos</p>
<p>This method evaluates the set of all dcs.
It provides the information necessary for device placement on
the body.</p>
<p>If N is the number of antenna an dcs is an MDA of size 3x4xN</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>topos</strong> : boolean</p>
<blockquote>
<div><p>default : True</p>
</div></blockquote>
<p><strong>frameId</strong> : int</p>
<blockquote>
<div><p>default 0</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>self.dcs</strong> : dictionnary</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pylayers.mobility.trajectory</span> <span class="kn">as</span> <span class="nn">tr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="mi">4000</span><span class="o">/</span><span class="mf">3600.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">v</span><span class="o">*</span><span class="n">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">time</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">traj</span> <span class="o">=</span> <span class="n">tr</span><span class="o">.</span><span class="n">Trajectory</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bc</span> <span class="o">=</span> <span class="n">Body</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bc</span><span class="o">.</span><span class="n">settopos</span><span class="p">(</span><span class="n">traj</span><span class="p">,</span><span class="mf">2.3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bc</span><span class="o">.</span><span class="n">setccs</span><span class="p">(</span><span class="n">topos</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bc</span><span class="o">.</span><span class="n">setdcs</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">bc</span><span class="o">.</span><span class="n">g</span><span class="p">,</span><span class="n">bc</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axe</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s">&#39;scaled&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.mobility.body.body.Body.settopos">
<tt class="descname">settopos</tt><big>(</big><em>traj</em>, <em>t=0</em>, <em>cs=False</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.settopos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.settopos" title="Permalink to this definition">¶</a></dt>
<dd><p>translate the body on a time stamped trajectory</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>traj</strong> : ndarray (3,N)</p>
<p><strong>t,x,y</strong> :</p>
<p><strong>t</strong> : float</p>
<p><strong>time for evaluation of topos (seconds) this value should be in the</strong> :</p>
<p><strong>range of the trajectory timestamp</strong> :</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>self.topos</strong> :</p>
<p class="last"><strong>self.vtopos</strong> :</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="util.geomutil.html#pylayers.util.geomutil.affine" title="pylayers.util.geomutil.affine"><tt class="xref py py-obj docutils literal"><span class="pre">pylayers.util.geomutil.affine</span></tt></a></p>
</div>
<p class="rubric">Notes</p>
<p>topos is the current spatial global position of a body configuration.</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pylayers.mobility.trajectory</span> <span class="kn">as</span> <span class="nn">tr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pylayers.mobility.body.body</span> <span class="kn">as</span> <span class="nn">body</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="mi">4000</span><span class="o">/</span><span class="mf">3600.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">v</span><span class="o">*</span><span class="n">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">time</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">traj</span> <span class="o">=</span> <span class="n">tr</span><span class="o">.</span><span class="n">Trajectory</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">John</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">Body</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">John</span><span class="o">.</span><span class="n">settopos</span><span class="p">(</span><span class="n">traj</span><span class="p">,</span><span class="mf">2.3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">John</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../modules/mobility-body-body-1.py">Source code</a>)</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.mobility.body.body.Body.show">
<tt class="descname">show</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.show"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.show" title="Permalink to this definition">¶</a></dt>
<dd><p>show a 2D plane projection of the body</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>frameiId</strong> : int</p>
<p><strong>plane</strong> : string</p>
<blockquote>
<div><p>&#8216;yz&#8217; | &#8216;xz&#8217; | &#8216;xy&#8217;</p>
</div></blockquote>
<p><strong>widthfactor</strong> : int</p>
<p><strong>topos</strong> : boolean</p>
<blockquote class="last">
<div><p>default False</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.mobility.body.body.Body.show3">
<tt class="descname">show3</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Body.show3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Body.show3" title="Permalink to this definition">¶</a></dt>
<dd><p>create geomfile for frame iframe</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>iframe</strong> : int</p>
<p><strong>frame number (useless if topos == True)</strong> :</p>
<p><strong>topos</strong> : boolean</p>
<p><strong>if True shows the current body topos</strong> :</p>
<p class="last"><strong>tag</strong> : aditional string for naming file .off (useless if topos==False)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pylayers.mobility.body.body.ChangeBasis">
<tt class="descclassname">pylayers.mobility.body.body.</tt><tt class="descname">ChangeBasis</tt><big>(</big><em>u0</em>, <em>v0</em>, <em>w0</em>, <em>v1</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#ChangeBasis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.ChangeBasis" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>u0</strong> :</p>
<p><strong>v0</strong> :</p>
<p><strong>w0</strong> :</p>
<p class="last"><strong>v1</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.mobility.body.body.Global_Trajectory">
<tt class="descclassname">pylayers.mobility.body.body.</tt><tt class="descname">Global_Trajectory</tt><big>(</big><em>cycle</em>, <em>traj</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#Global_Trajectory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.Global_Trajectory" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cycle</strong> :  walking step cycle (2 step), shape = (3,npoints  = 16, nframes = 126)</p>
<p><strong>traj</strong> : trajectory described by the gravity center, shape =(3,nposition)</p>
<p><strong>We assume that the body moves straight between two successive positions</strong> :</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>data</strong> : list</p>
<blockquote class="last">
<div><p>list</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.mobility.body.body.dist">
<tt class="descclassname">pylayers.mobility.body.body.</tt><tt class="descname">dist</tt><big>(</big><em>A</em>, <em>B</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#dist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.dist" title="Permalink to this definition">¶</a></dt>
<dd><p>evaluate the distance between two points A and B</p>
</dd></dl>

<dl class="function">
<dt id="pylayers.mobility.body.body.rotation">
<tt class="descclassname">pylayers.mobility.body.body.</tt><tt class="descname">rotation</tt><big>(</big><em>cycle</em>, <em>alpha=1.5707963267948966</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#rotation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.rotation" title="Permalink to this definition">¶</a></dt>
<dd><p>rotate a cycle of frames by an angle alpha</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cycle</strong> :  np.array</p>
<blockquote>
<div><p>3 x np x nf</p>
</div></blockquote>
<p><strong>alpha</strong> : float</p>
<blockquote>
<div><p>angle in radians</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cycle modified</strong> : np.array</p>
<blockquote class="last">
<div><p>3 x np x nf</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pylayers.mobility.body.body.translate">
<tt class="descclassname">pylayers.mobility.body.body.</tt><tt class="descname">translate</tt><big>(</big><em>cycle</em>, <em>new_origin</em><big>)</big><a class="reference internal" href="../_modules/pylayers/mobility/body/body.html#translate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.mobility.body.body.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>rotate a cycle of frames by an angle alpha</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cycle</strong> :  np.array</p>
<blockquote>
<div><p>3 x np x nf</p>
</div></blockquote>
<p><strong>alpha</strong> : float</p>
<blockquote>
<div><p>angle in radians</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cycle modified</strong> : np.array</p>
<blockquote class="last">
<div><p>3 x np x nf</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pylayers.mobility.body.body">
<tt class="descclassname">pylayers.mobility.body.</tt><tt class="descname">body</tt><a class="headerlink" href="#pylayers.mobility.body.body" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#pylayers.mobility.body.body" title="pylayers.mobility.body.body"><tt class="xref py py-class docutils literal"><span class="pre">pylayers.mobility.body.body</span></tt></a></p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="mobility.transit.path.html" title="&lt;no title&gt;"
             >next</a></li>
        <li class="right" >
          <a href="mobility.agent.html" title="constraints"
             >previous</a> |</li>
        <li><a href="../index.html">PyLayers Home </a> |&nbsp;</li>
        <li><a href="../notebook/index.html">Documentation </a> |&nbsp;</li>
        <li><a href="../download.html">Download </a> |&nbsp; </li>
        <li><a href="https://github.com/pylayers/">Developer (Github)</a> </li>

          <li><a href="index.html" >User references</a> &raquo;</li>
          <li><a href="mobility.html" >mobility</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2013, PyLayers developer team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34943220-1']);
  _gaq.push(['_setDomainName', 'pylayers.github.io']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })(); 
</script> 
 
  </body>
</html>