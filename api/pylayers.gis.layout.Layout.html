

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Layout &mdash; PyLayers</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  

  
        <link rel="author" title="About these documents"
              href="../about.html"/>
    <link rel="top" title="PyLayers" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Python
          

          
            
            <img src="../_static/pylayers.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../notebook/TOC.html">1&nbsp;&nbsp;&nbsp;Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/TOC.html#basic-usage">2&nbsp;&nbsp;&nbsp;Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/TOC.html#environment-description">3&nbsp;&nbsp;&nbsp;Environment Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/TOC.html#materials-and-slabs">4&nbsp;&nbsp;&nbsp;Materials and Slabs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/TOC.html#description-of-antennas">5&nbsp;&nbsp;&nbsp;Description of Antennas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/TOC.html#coverage-simulation">6&nbsp;&nbsp;&nbsp;Coverage Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/TOC.html#ray-tracing-simulation">7&nbsp;&nbsp;&nbsp;Ray Tracing Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/TOC.html#handling-agent-mobility">8&nbsp;&nbsp;&nbsp;Handling Agent Mobility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/TOC.html#other-simulation-examples">9&nbsp;&nbsp;&nbsp;Other Simulation Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/TOC.html#localization-algorithms">10&nbsp;&nbsp;&nbsp;Localization Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/TOC.html#measurements-tools">11&nbsp;&nbsp;&nbsp;Measurements Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/TOC.html#pylayers-tools">12&nbsp;&nbsp;&nbsp;PyLayers Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_exLayout1.html">Loading an outdoor layout from its address</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_antenna.html">Antenna Pattern for an H plane sectoral antenna &#64; 32GHz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_exLayout2.html">Building graphs of a Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_coverage.html">Indoor Radio Coverage with Motley Keenan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_layout.html">8 Random Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_exAbsGas.html">Attenuation due to atmospheric gases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_exDLink.html">Evaluation of a radio link DLink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_w1.html">Indoor Radio Coverage FP7 WHERE1 M1 setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_exLuebbers.html">UWB Ray tracing simulation  in outdoor scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_diffraction.html">Diffraction coefficient</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Python</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Layout</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/pylayers.gis.layout.Layout.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="layout">
<h1>Layout<a class="headerlink" href="#layout" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pylayers.gis.layout.Layout">
<em class="property">class </em><code class="descclassname">pylayers.gis.layout.</code><code class="descname">Layout</code><span class="sig-paren">(</span><em>string=''</em>, <em>_filematini='matDB.ini'</em>, <em>_fileslabini='slabDB.ini'</em>, <em>_filefur=''</em>, <em>bcheck=False</em>, <em>bbuild=False</em>, <em>bgraphs=False</em>, <em>bverbose=False</em>, <em>bcartesian=True</em>, <em>dist_m=400</em>, <em>typ='indoor'</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">pylayers.util.project.PyLayers</span></code></p>
<p>Handling Layout</p>
<p class="rubric">Notes</p>
<p>This class uses <cite>networkx</cite> to store Layout information</p>
<p>Gs : structure
Gt : topology 
Gv : visibility
Gi : interaction
Gr : room  
Gm :  
Gw : ways</p>
<p>Np
Ns 
Nss</p>
<p>ax  : (xmin,ymin,xmax,ymax)
axn : (0,Dx,0,Dy)</p>
<p>filefur 
filegeom
filematini
fileslabini 
hasboundary
segboundary 
min_sx
min_sy
max_sx 
max_sy 
labels 
lbltg 
lboundary 
listtransition 
loadosm
lsss
name 
normal
p2pc
pg</p>
<p>pt : points coordinates  
tahe : segment tail head 
tgs : graph to segment
tsg : segment to graph 
upnt : array of point index</p>
<p>s2pc : segment to point coordinates
s2pu : segment to point index
sgsg</p>
<p>sl</p>
<p>typ  : &#8216;indoor&#8217; | &#8216;outdoor&#8217;
coordinates : &#8216;cart&#8217;,&#8217;lonlat&#8217;
version
_filename 
_hash</p>
<dl class="docutils">
<dt>_shseg</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">keys / segment index </span><dd>values / shapely LineString</dd>
<dt>dca</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">keys / Gt node </span><dd>values / list of air wall</dd>
<dt>degree</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">keys / point degree</span><dd>values / array of index</dd>
</dl>
<p>display : dictionnary for controling various visualization
dsseg :</p>
<p>indoor : if True allow indoor penetration 
isbuilt 
diffraction</p>
<p>maxheight
zceil 
zfloor 
zmin</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Gs</td>
<td>(Graph of points and segment (structure))</td>
</tr>
<tr class="row-even"><td>Gt</td>
<td>(Graph of convex cycles      (topology))</td>
</tr>
<tr class="row-odd"><td>Gv</td>
<td>(Graph of visibility         (visibility))</td>
</tr>
<tr class="row-even"><td>Gi</td>
<td>(Graph of interactions       (interactions))</td>
</tr>
<tr class="row-odd"><td>Gr</td>
<td>(Graph of rooms              (rooms))</td>
</tr>
<tr class="row-even"><td>Nnode</td>
<td>(Number of nodes of Gs)</td>
</tr>
<tr class="row-odd"><td>Nedge</td>
<td>(Number of edges of Gs)</td>
</tr>
<tr class="row-even"><td>pt</td>
<td>(points sequence)</td>
</tr>
<tr class="row-odd"><td>tahe</td>
<td>(tail head)</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.add_fnod" title="pylayers.gis.layout.Layout.add_fnod"><code class="xref py py-obj docutils literal"><span class="pre">add_fnod</span></code></a>([p])</td>
<td>add free node  p</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.add_furniture" title="pylayers.gis.layout.Layout.add_furniture"><code class="xref py py-obj docutils literal"><span class="pre">add_furniture</span></code></a>([name,&nbsp;matname,&nbsp;origin,&nbsp;zmin,&nbsp;...])</td>
<td>add piece of furniture</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.add_furniture_file" title="pylayers.gis.layout.Layout.add_furniture_file"><code class="xref py py-obj docutils literal"><span class="pre">add_furniture_file</span></code></a>(_filefur[,&nbsp;typ])</td>
<td>add pieces of furniture from .ini files</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.add_nfpe" title="pylayers.gis.layout.Layout.add_nfpe"><code class="xref py py-obj docutils literal"><span class="pre">add_nfpe</span></code></a>(np0,&nbsp;s1,&nbsp;s2)</td>
<td>Add node on s1 from projection of np0 along s2</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.add_pnod" title="pylayers.gis.layout.Layout.add_pnod"><code class="xref py py-obj docutils literal"><span class="pre">add_pnod</span></code></a>(p,&nbsp;e1,&nbsp;e2)</td>
<td>Project point p on segment e1 along segment e2</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.add_pons" title="pylayers.gis.layout.Layout.add_pons"><code class="xref py py-obj docutils literal"><span class="pre">add_pons</span></code></a>(ns[,&nbsp;alpha])</td>
<td>add point on segment</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.add_segment" title="pylayers.gis.layout.Layout.add_segment"><code class="xref py py-obj docutils literal"><span class="pre">add_segment</span></code></a>(n1,&nbsp;n2[,&nbsp;num,&nbsp;maxnum,&nbsp;...])</td>
<td>add segment between node n1 and node n2</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.angleonlink" title="pylayers.gis.layout.Layout.angleonlink"><code class="xref py py-obj docutils literal"><span class="pre">angleonlink</span></code></a>([p1,&nbsp;p2])</td>
<td>angleonlink(self,p1,p2) return (seglist,angle) between p1 and p2</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.angleonlink3" title="pylayers.gis.layout.Layout.angleonlink3"><code class="xref py py-obj docutils literal"><span class="pre">angleonlink3</span></code></a>([p1,&nbsp;p2])</td>
<td>angleonlink(self,p1,p2) return (seglist,angle) between p1 and p2</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.angleonlinkold" title="pylayers.gis.layout.Layout.angleonlinkold"><code class="xref py py-obj docutils literal"><span class="pre">angleonlinkold</span></code></a>([p1,&nbsp;p2])</td>
<td>angleonlink(self,p1,p2) returns seglist between p1 and p2</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.boundary" title="pylayers.gis.layout.Layout.boundary"><code class="xref py py-obj docutils literal"><span class="pre">boundary</span></code></a>([percx,&nbsp;percy,&nbsp;xlim,&nbsp;force])</td>
<td>add a blank boundary around layout</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.build" title="pylayers.gis.layout.Layout.build"><code class="xref py py-obj docutils literal"><span class="pre">build</span></code></a>([graph,&nbsp;verbose,&nbsp;difftol,&nbsp;multi])</td>
<td>build graphs</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGi" title="pylayers.gis.layout.Layout.buildGi"><code class="xref py py-obj docutils literal"><span class="pre">buildGi</span></code></a>([verbose,&nbsp;tqdmpos])</td>
<td>build graph of interactions</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGr" title="pylayers.gis.layout.Layout.buildGr"><code class="xref py py-obj docutils literal"><span class="pre">buildGr</span></code></a>()</td>
<td>build the graph of rooms Gr</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGt" title="pylayers.gis.layout.Layout.buildGt"><code class="xref py py-obj docutils literal"><span class="pre">buildGt</span></code></a>([check,&nbsp;difftol,&nbsp;verbose,&nbsp;tqdmpos])</td>
<td>build graph of convex cycle</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGt_old" title="pylayers.gis.layout.Layout.buildGt_old"><code class="xref py py-obj docutils literal"><span class="pre">buildGt_old</span></code></a>([check])</td>
<td>DEPRECATED</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGv" title="pylayers.gis.layout.Layout.buildGv"><code class="xref py py-obj docutils literal"><span class="pre">buildGv</span></code></a>([show,&nbsp;verbose,&nbsp;tqdmpos])</td>
<td>build visibility graph</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGw" title="pylayers.gis.layout.Layout.buildGw"><code class="xref py py-obj docutils literal"><span class="pre">buildGw</span></code></a>()</td>
<td>build Graph of waypaths</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.check" title="pylayers.gis.layout.Layout.check"><code class="xref py py-obj docutils literal"><span class="pre">check</span></code></a>([level])</td>
<td>Check Layout consistency</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.check2" title="pylayers.gis.layout.Layout.check2"><code class="xref py py-obj docutils literal"><span class="pre">check2</span></code></a>()</td>
<td>Layout checking</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.check_Gi" title="pylayers.gis.layout.Layout.check_Gi"><code class="xref py py-obj docutils literal"><span class="pre">check_Gi</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.cleanup" title="pylayers.gis.layout.Layout.cleanup"><code class="xref py py-obj docutils literal"><span class="pre">cleanup</span></code></a>()</td>
<td>cleanup the Layout</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.clip" title="pylayers.gis.layout.Layout.clip"><code class="xref py py-obj docutils literal"><span class="pre">clip</span></code></a>(xmin,&nbsp;xmax,&nbsp;ymin,&nbsp;ymax)</td>
<td>return the list of edges which cross or belong to the clipping zone</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.closest_edge" title="pylayers.gis.layout.Layout.closest_edge"><code class="xref py py-obj docutils literal"><span class="pre">closest_edge</span></code></a>(p,&nbsp;AAS)</td>
<td>not implemented</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.cy2pt" title="pylayers.gis.layout.Layout.cy2pt"><code class="xref py py-obj docutils literal"><span class="pre">cy2pt</span></code></a>([cy,&nbsp;h])</td>
<td>return a point into a given cycle</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.cycleinline" title="pylayers.gis.layout.Layout.cycleinline"><code class="xref py py-obj docutils literal"><span class="pre">cycleinline</span></code></a>(c1,&nbsp;c2)</td>
<td>returns the intersection between a given line and all segments</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.del_points" title="pylayers.gis.layout.Layout.del_points"><code class="xref py py-obj docutils literal"><span class="pre">del_points</span></code></a>(lp)</td>
<td>delete points in list lp</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.del_segment" title="pylayers.gis.layout.Layout.del_segment"><code class="xref py py-obj docutils literal"><span class="pre">del_segment</span></code></a>(le[,&nbsp;verbose,&nbsp;g2npy])</td>
<td>delete segment e</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.diag" title="pylayers.gis.layout.Layout.diag"><code class="xref py py-obj docutils literal"><span class="pre">diag</span></code></a>(p1,&nbsp;p2,&nbsp;l,&nbsp;al1,&nbsp;al2[,&nbsp;quadsel])</td>
<td>return edge list from a diagonal zone</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.displaygui" title="pylayers.gis.layout.Layout.displaygui"><code class="xref py py-obj docutils literal"><span class="pre">displaygui</span></code></a>()</td>
<td>open a GUI for displaying configuration</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.dumpr" title="pylayers.gis.layout.Layout.dumpr"><code class="xref py py-obj docutils literal"><span class="pre">dumpr</span></code></a>([graphs])</td>
<td>read of given graphs</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.dumpw" title="pylayers.gis.layout.Layout.dumpw"><code class="xref py py-obj docutils literal"><span class="pre">dumpw</span></code></a>()</td>
<td>write a dump of given Graph</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.ed2nd" title="pylayers.gis.layout.Layout.ed2nd"><code class="xref py py-obj docutils literal"><span class="pre">ed2nd</span></code></a>(edlist)</td>
<td>convert edgelist to nodelist</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.edit_point" title="pylayers.gis.layout.Layout.edit_point"><code class="xref py py-obj docutils literal"><span class="pre">edit_point</span></code></a>(np)</td>
<td>edit point</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.edit_seg" title="pylayers.gis.layout.Layout.edit_seg"><code class="xref py py-obj docutils literal"><span class="pre">edit_seg</span></code></a>(e1[,&nbsp;data])</td>
<td>edit segment</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.edit_segment" title="pylayers.gis.layout.Layout.edit_segment"><code class="xref py py-obj docutils literal"><span class="pre">edit_segment</span></code></a>(e1[,&nbsp;gui,&nbsp;outdata])</td>
<td>edit segment WITH EasyGUI</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.editor" title="pylayers.gis.layout.Layout.editor"><code class="xref py py-obj docutils literal"><span class="pre">editor</span></code></a>()</td>
<td>invoke interactive layout graphical editor</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.editorTk" title="pylayers.gis.layout.Layout.editorTk"><code class="xref py py-obj docutils literal"><span class="pre">editorTk</span></code></a>()</td>
<td>invoke interactive layout graphical editor</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.exportosm" title="pylayers.gis.layout.Layout.exportosm"><code class="xref py py-obj docutils literal"><span class="pre">exportosm</span></code></a>()</td>
<td>export layout in osm file format</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.extrseg" title="pylayers.gis.layout.Layout.extrseg"><code class="xref py py-obj docutils literal"><span class="pre">extrseg</span></code></a>()</td>
<td>calculate extremum of segments</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.facet3D" title="pylayers.gis.layout.Layout.facet3D"><code class="xref py py-obj docutils literal"><span class="pre">facet3D</span></code></a>(e[,&nbsp;subseg])</td>
<td>calculate 3D facet from segment</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.facets3D" title="pylayers.gis.layout.Layout.facets3D"><code class="xref py py-obj docutils literal"><span class="pre">facets3D</span></code></a>(edlist,name)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.filterGi" title="pylayers.gis.layout.Layout.filterGi"><code class="xref py py-obj docutils literal"><span class="pre">filterGi</span></code></a>([situ])</td>
<td>filter Gi to manage indoor/outdoor situations</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.find_edgelist" title="pylayers.gis.layout.Layout.find_edgelist"><code class="xref py py-obj docutils literal"><span class="pre">find_edgelist</span></code></a>(edgelist,nodelist)</td>
<td>edgelist : input edgelist</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.g2npy" title="pylayers.gis.layout.Layout.g2npy"><code class="xref py py-obj docutils literal"><span class="pre">g2npy</span></code></a>([verbose])</td>
<td>conversion from graphs to numpy arrays</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.geomfile" title="pylayers.gis.layout.Layout.geomfile"><code class="xref py py-obj docutils literal"><span class="pre">geomfile</span></code></a>([centered])</td>
<td>create a .off geomview file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.get_Sg_pos" title="pylayers.gis.layout.Layout.get_Sg_pos"><code class="xref py py-obj docutils literal"><span class="pre">get_Sg_pos</span></code></a>(sigarr)</td>
<td>return position of the signatures</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.get_diffslab" title="pylayers.gis.layout.Layout.get_diffslab"><code class="xref py py-obj docutils literal"><span class="pre">get_diffslab</span></code></a>(npt,&nbsp;lz)</td>
<td>get the 2 slabs associated to a diffraction point</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.get_paths" title="pylayers.gis.layout.Layout.get_paths"><code class="xref py py-obj docutils literal"><span class="pre">get_paths</span></code></a>(nd_in,&nbsp;nd_fin)</td>
<td>returns the possible paths of graph Gs between two nodes.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.get_points" title="pylayers.gis.layout.Layout.get_points"><code class="xref py py-obj docutils literal"><span class="pre">get_points</span></code></a>(ax)</td>
<td>get points list and segments list in a polygonal zone</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.get_zone" title="pylayers.gis.layout.Layout.get_zone"><code class="xref py py-obj docutils literal"><span class="pre">get_zone</span></code></a>(ax)</td>
<td>get point list and segment list in a rectangular zone</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.getangles" title="pylayers.gis.layout.Layout.getangles"><code class="xref py py-obj docutils literal"><span class="pre">getangles</span></code></a>(poly[,&nbsp;unit,&nbsp;inside])</td>
<td>find angles of a polygon</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.have_subseg" title="pylayers.gis.layout.Layout.have_subseg"><code class="xref py py-obj docutils literal"><span class="pre">have_subseg</span></code></a>(e1)</td>
<td>check if edge e1 have subseg</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">help</span></code>([letter,&nbsp;typ])</td>
<td>generic help</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.importosm" title="pylayers.gis.layout.Layout.importosm"><code class="xref py py-obj docutils literal"><span class="pre">importosm</span></code></a>(**kwargs)</td>
<td>import layout from osm file or osmapi</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.importres" title="pylayers.gis.layout.Layout.importres"><code class="xref py py-obj docutils literal"><span class="pre">importres</span></code></a>(_fileres,&nbsp;**kwargs)</td>
<td>import res format</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.importshp" title="pylayers.gis.layout.Layout.importshp"><code class="xref py py-obj docutils literal"><span class="pre">importshp</span></code></a>(**kwargs)</td>
<td>import layout from shape file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.info" title="pylayers.gis.layout.Layout.info"><code class="xref py py-obj docutils literal"><span class="pre">info</span></code></a>()</td>
<td>gives information about the Layout</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.info_segment" title="pylayers.gis.layout.Layout.info_segment"><code class="xref py py-obj docutils literal"><span class="pre">info_segment</span></code></a>(s1)</td>
<td>information about segment</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.intercy" title="pylayers.gis.layout.Layout.intercy"><code class="xref py py-obj docutils literal"><span class="pre">intercy</span></code></a>(ncy[,&nbsp;typ])</td>
<td>return the list of interactions seen from a cycle</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.ispoint" title="pylayers.gis.layout.Layout.ispoint"><code class="xref py py-obj docutils literal"><span class="pre">ispoint</span></code></a>(pt[,&nbsp;tol])</td>
<td>check if pt is a point of the Layout</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.isseg" title="pylayers.gis.layout.Layout.isseg"><code class="xref py py-obj docutils literal"><span class="pre">isseg</span></code></a>(ta,&nbsp;he)</td>
<td>test if ta&lt;-&gt;he is a segment</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.layerongrid" title="pylayers.gis.layout.Layout.layerongrid"><code class="xref py py-obj docutils literal"><span class="pre">layerongrid</span></code></a>(grid,&nbsp;Tx)</td>
<td>grid Nx,Ny,2</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.layeronlink" title="pylayers.gis.layout.Layout.layeronlink"><code class="xref py py-obj docutils literal"><span class="pre">layeronlink</span></code></a>(p1,&nbsp;p2)</td>
<td>layeronlink(self,p1,p2) return seglist between p1 and p2</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.load" title="pylayers.gis.layout.Layout.load"><code class="xref py py-obj docutils literal"><span class="pre">load</span></code></a>()</td>
<td>load a layout  from a .lay file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.load_modif" title="pylayers.gis.layout.Layout.load_modif"><code class="xref py py-obj docutils literal"><span class="pre">load_modif</span></code></a>(_filename[,&nbsp;build,&nbsp;cartesian,&nbsp;dist_m])</td>
<td>load a Layout in different formats</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.loadfur" title="pylayers.gis.layout.Layout.loadfur"><code class="xref py py-obj docutils literal"><span class="pre">loadfur</span></code></a>(_filefur)</td>
<td>loadfur load a furniture file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.ls" title="pylayers.gis.layout.Layout.ls"><code class="xref py py-obj docutils literal"><span class="pre">ls</span></code></a>([typ])</td>
<td>list the available file in dirstruc</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.mask" title="pylayers.gis.layout.Layout.mask"><code class="xref py py-obj docutils literal"><span class="pre">mask</span></code></a>()</td>
<td>returns the polygonal mask of the building</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.nd2seg" title="pylayers.gis.layout.Layout.nd2seg"><code class="xref py py-obj docutils literal"><span class="pre">nd2seg</span></code></a>(ndlist)</td>
<td>convert node list to edge list</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.numseg" title="pylayers.gis.layout.Layout.numseg"><code class="xref py py-obj docutils literal"><span class="pre">numseg</span></code></a>(ta,&nbsp;he[,&nbsp;first])</td>
<td>get segment number from 2 points index</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.off_overlay" title="pylayers.gis.layout.Layout.off_overlay"><code class="xref py py-obj docutils literal"><span class="pre">off_overlay</span></code></a>([dx,&nbsp;dy])</td>
<td>offset overlay image</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.offset_index" title="pylayers.gis.layout.Layout.offset_index"><code class="xref py py-obj docutils literal"><span class="pre">offset_index</span></code></a>([offp,&nbsp;offs])</td>
<td>offset points and segment index</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.onseg" title="pylayers.gis.layout.Layout.onseg"><code class="xref py py-obj docutils literal"><span class="pre">onseg</span></code></a>(pt[,&nbsp;tol])</td>
<td>segment number from point (deprecated)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.outputGi" title="pylayers.gis.layout.Layout.outputGi"><code class="xref py py-obj docutils literal"><span class="pre">outputGi</span></code></a>([verbose,&nbsp;tqdmpos])</td>
<td>filter output of Gi edges</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.outputGi_mp" title="pylayers.gis.layout.Layout.outputGi_mp"><code class="xref py py-obj docutils literal"><span class="pre">outputGi_mp</span></code></a>()</td>
<td>filter output of Gi edges</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.outputGi_new" title="pylayers.gis.layout.Layout.outputGi_new"><code class="xref py py-obj docutils literal"><span class="pre">outputGi_new</span></code></a>([verbose,&nbsp;tqdmpos])</td>
<td>filter output of Gi edges</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.plot" title="pylayers.gis.layout.Layout.plot"><code class="xref py py-obj docutils literal"><span class="pre">plot</span></code></a>(**kwargs)</td>
<td>plot the layout with shapely polygons</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.plot_segments" title="pylayers.gis.layout.Layout.plot_segments"><code class="xref py py-obj docutils literal"><span class="pre">plot_segments</span></code></a>(lns,&nbsp;**kwargs)</td>
<td>&#8220;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.pltlines" title="pylayers.gis.layout.Layout.pltlines"><code class="xref py py-obj docutils literal"><span class="pre">pltlines</span></code></a>(lines[,&nbsp;fig,&nbsp;ax,&nbsp;color,&nbsp;alpha])</td>
<td>plot a line with a specified color and transparency</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.pltpoly" title="pylayers.gis.layout.Layout.pltpoly"><code class="xref py py-obj docutils literal"><span class="pre">pltpoly</span></code></a>(poly[,&nbsp;fig,&nbsp;ax,&nbsp;color,&nbsp;alpha])</td>
<td>plot a polygon with a specified color and transparency</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.pltvnodes" title="pylayers.gis.layout.Layout.pltvnodes"><code class="xref py py-obj docutils literal"><span class="pre">pltvnodes</span></code></a>(vn[,&nbsp;fig,&nbsp;ax])</td>
<td>plot vnodes</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.point_touches_seg" title="pylayers.gis.layout.Layout.point_touches_seg"><code class="xref py py-obj docutils literal"><span class="pre">point_touches_seg</span></code></a>(pt[,&nbsp;lseg,&nbsp;segtol,&nbsp;tahetol])</td>
<td>determine if a point is touching a segment</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.polysh2geu" title="pylayers.gis.layout.Layout.polysh2geu"><code class="xref py py-obj docutils literal"><span class="pre">polysh2geu</span></code></a>(poly)</td>
<td>transform sh.Polygon into geu.Polygon</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.pt2cy" title="pylayers.gis.layout.Layout.pt2cy"><code class="xref py py-obj docutils literal"><span class="pre">pt2cy</span></code></a>([pt])</td>
<td>point to cycle</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.pt2ro" title="pylayers.gis.layout.Layout.pt2ro"><code class="xref py py-obj docutils literal"><span class="pre">pt2ro</span></code></a>([pt])</td>
<td>point to room</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.ptGs2cy" title="pylayers.gis.layout.Layout.ptGs2cy"><code class="xref py py-obj docutils literal"><span class="pre">ptGs2cy</span></code></a>([n])</td>
<td>Gs node to cycle</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.ptin" title="pylayers.gis.layout.Layout.ptin"><code class="xref py py-obj docutils literal"><span class="pre">ptin</span></code></a>([pt])</td>
<td>check if a point is in the Layout</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.randTxRx" title="pylayers.gis.layout.Layout.randTxRx"><code class="xref py py-obj docutils literal"><span class="pre">randTxRx</span></code></a>()</td>
<td>returns random coordinates for Tx and Rx.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.room2nodes" title="pylayers.gis.layout.Layout.room2nodes"><code class="xref py py-obj docutils literal"><span class="pre">room2nodes</span></code></a>(room)</td>
<td>returns the nodes of a room</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.room2segments" title="pylayers.gis.layout.Layout.room2segments"><code class="xref py py-obj docutils literal"><span class="pre">room2segments</span></code></a>(room)</td>
<td>returns the segments of a room</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.rotate" title="pylayers.gis.layout.Layout.rotate"><code class="xref py py-obj docutils literal"><span class="pre">rotate</span></code></a>([angle])</td>
<td>rotate the layout</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.save" title="pylayers.gis.layout.Layout.save"><code class="xref py py-obj docutils literal"><span class="pre">save</span></code></a>()</td>
<td>save Layout structure in a .lay file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.scl_overlay" title="pylayers.gis.layout.Layout.scl_overlay"><code class="xref py py-obj docutils literal"><span class="pre">scl_overlay</span></code></a>([ax,&nbsp;ay])</td>
<td>scale overlay image</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.seg2pts" title="pylayers.gis.layout.Layout.seg2pts"><code class="xref py py-obj docutils literal"><span class="pre">seg2pts</span></code></a>(aseg)</td>
<td>convert segments array from Gs numerotation</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.seg2ro" title="pylayers.gis.layout.Layout.seg2ro"><code class="xref py py-obj docutils literal"><span class="pre">seg2ro</span></code></a>(seg)</td>
<td>return room number of a point</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.seg_intersection" title="pylayers.gis.layout.Layout.seg_intersection"><code class="xref py py-obj docutils literal"><span class="pre">seg_intersection</span></code></a>(**kwargs)</td>
<td>determine if a segment intersects any other segment of the layout</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.seginframe" title="pylayers.gis.layout.Layout.seginframe"><code class="xref py py-obj docutils literal"><span class="pre">seginframe</span></code></a>(p1,&nbsp;p2)</td>
<td>return the seg list of a given zone defined by two points</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.seginframe2" title="pylayers.gis.layout.Layout.seginframe2"><code class="xref py py-obj docutils literal"><span class="pre">seginframe2</span></code></a>(p1,&nbsp;p2)</td>
<td>returns the seg list of a given zone defined by two points</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.seginline" title="pylayers.gis.layout.Layout.seginline"><code class="xref py py-obj docutils literal"><span class="pre">seginline</span></code></a>(p1,&nbsp;p2)</td>
<td>returns the intersection between a given line and all segments</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.segpt" title="pylayers.gis.layout.Layout.segpt"><code class="xref py py-obj docutils literal"><span class="pre">segpt</span></code></a>([ptlist])</td>
<td>return the seg list of a sequence of point number</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.seguv" title="pylayers.gis.layout.Layout.seguv"><code class="xref py py-obj docutils literal"><span class="pre">seguv</span></code></a>(iseg)</td>
<td>returns unitary vector along segments</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.show" title="pylayers.gis.layout.Layout.show"><code class="xref py py-obj docutils literal"><span class="pre">show</span></code></a>(**kwargs)</td>
<td>show layout</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.show3" title="pylayers.gis.layout.Layout.show3"><code class="xref py py-obj docutils literal"><span class="pre">show3</span></code></a>([bdis,&nbsp;centered])</td>
<td>geomview display of the indoor structure</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.showG" title="pylayers.gis.layout.Layout.showG"><code class="xref py py-obj docutils literal"><span class="pre">showG</span></code></a>([graph])</td>
<td>show the different graphs</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.showGs" title="pylayers.gis.layout.Layout.showGs"><code class="xref py py-obj docutils literal"><span class="pre">showGs</span></code></a>(**kwargs)</td>
<td>show structure graph Gs</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.showSig" title="pylayers.gis.layout.Layout.showSig"><code class="xref py py-obj docutils literal"><span class="pre">showSig</span></code></a>(sigarr[,&nbsp;Tx,&nbsp;Rx,&nbsp;fig,&nbsp;ax])</td>
<td>Show signature</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.show_layer" title="pylayers.gis.layout.Layout.show_layer"><code class="xref py py-obj docutils literal"><span class="pre">show_layer</span></code></a>(name[,&nbsp;edlist,&nbsp;alpha,&nbsp;width,&nbsp;...])</td>
<td>show layer</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.show_nodes" title="pylayers.gis.layout.Layout.show_nodes"><code class="xref py py-obj docutils literal"><span class="pre">show_nodes</span></code></a>([ndlist,&nbsp;size,&nbsp;color,&nbsp;dlabels,&nbsp;...])</td>
<td>show nodes</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.show_seg1" title="pylayers.gis.layout.Layout.show_seg1"><code class="xref py py-obj docutils literal"><span class="pre">show_seg1</span></code></a>([edlist,&nbsp;alpha,&nbsp;width,&nbsp;size,&nbsp;...])</td>
<td>show segment</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.show_segment" title="pylayers.gis.layout.Layout.show_segment"><code class="xref py py-obj docutils literal"><span class="pre">show_segment</span></code></a>(**kwargs)</td>
<td>show segment</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.signature" title="pylayers.gis.layout.Layout.signature"><code class="xref py py-obj docutils literal"><span class="pre">signature</span></code></a>(iTx,&nbsp;iRx)</td>
<td>Determine signature between node iTx and node iRx</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.subseg" title="pylayers.gis.layout.Layout.subseg"><code class="xref py py-obj docutils literal"><span class="pre">subseg</span></code></a>()</td>
<td>establishes the association : name &lt;-&gt;  edgelist</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.thwall" title="pylayers.gis.layout.Layout.thwall"><code class="xref py py-obj docutils literal"><span class="pre">thwall</span></code></a>(offx,&nbsp;offy)</td>
<td>Create a list of wall tuples (Transit.world format )</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.translate" title="pylayers.gis.layout.Layout.translate"><code class="xref py py-obj docutils literal"><span class="pre">translate</span></code></a>(vec)</td>
<td>translate layout</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.updateshseg" title="pylayers.gis.layout.Layout.updateshseg"><code class="xref py py-obj docutils literal"><span class="pre">updateshseg</span></code></a>()</td>
<td>update shapely segment</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.visi_papb" title="pylayers.gis.layout.Layout.visi_papb"><code class="xref py py-obj docutils literal"><span class="pre">visi_papb</span></code></a>(pa,&nbsp;pb[,&nbsp;edgelist,&nbsp;dtype])</td>
<td>visi_papb : determine if pa and pb are in visibility for the structure graph</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.visilist" title="pylayers.gis.layout.Layout.visilist"><code class="xref py py-obj docutils literal"><span class="pre">visilist</span></code></a>(p)</td>
<td>returns the list of nodes which are visible from point p</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.waypointGw" title="pylayers.gis.layout.Layout.waypointGw"><code class="xref py py-obj docutils literal"><span class="pre">waypointGw</span></code></a>(nroom1,&nbsp;nroom2)</td>
<td>get the waypoint between room1 and room2</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.wedge" title="pylayers.gis.layout.Layout.wedge"><code class="xref py py-obj docutils literal"><span class="pre">wedge</span></code></a>(lpnt)</td>
<td>calculate wedge angle of a point</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.wedge2" title="pylayers.gis.layout.Layout.wedge2"><code class="xref py py-obj docutils literal"><span class="pre">wedge2</span></code></a>(apnt)</td>
<td>calculate wedge angle of a point</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.add_fnod" title="pylayers.gis.layout.Layout.add_fnod"><code class="xref py py-obj docutils literal"><span class="pre">add_fnod</span></code></a>([p])</td>
<td>add free node  p</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.add_furniture" title="pylayers.gis.layout.Layout.add_furniture"><code class="xref py py-obj docutils literal"><span class="pre">add_furniture</span></code></a>([name,&nbsp;matname,&nbsp;origin,&nbsp;zmin,&nbsp;...])</td>
<td>add piece of furniture</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.add_furniture_file" title="pylayers.gis.layout.Layout.add_furniture_file"><code class="xref py py-obj docutils literal"><span class="pre">add_furniture_file</span></code></a>(_filefur[,&nbsp;typ])</td>
<td>add pieces of furniture from .ini files</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.add_nfpe" title="pylayers.gis.layout.Layout.add_nfpe"><code class="xref py py-obj docutils literal"><span class="pre">add_nfpe</span></code></a>(np0,&nbsp;s1,&nbsp;s2)</td>
<td>Add node on s1 from projection of np0 along s2</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.add_pnod" title="pylayers.gis.layout.Layout.add_pnod"><code class="xref py py-obj docutils literal"><span class="pre">add_pnod</span></code></a>(p,&nbsp;e1,&nbsp;e2)</td>
<td>Project point p on segment e1 along segment e2</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.add_pons" title="pylayers.gis.layout.Layout.add_pons"><code class="xref py py-obj docutils literal"><span class="pre">add_pons</span></code></a>(ns[,&nbsp;alpha])</td>
<td>add point on segment</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.add_segment" title="pylayers.gis.layout.Layout.add_segment"><code class="xref py py-obj docutils literal"><span class="pre">add_segment</span></code></a>(n1,&nbsp;n2[,&nbsp;num,&nbsp;maxnum,&nbsp;...])</td>
<td>add segment between node n1 and node n2</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.angleonlink" title="pylayers.gis.layout.Layout.angleonlink"><code class="xref py py-obj docutils literal"><span class="pre">angleonlink</span></code></a>([p1,&nbsp;p2])</td>
<td>angleonlink(self,p1,p2) return (seglist,angle) between p1 and p2</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.angleonlink3" title="pylayers.gis.layout.Layout.angleonlink3"><code class="xref py py-obj docutils literal"><span class="pre">angleonlink3</span></code></a>([p1,&nbsp;p2])</td>
<td>angleonlink(self,p1,p2) return (seglist,angle) between p1 and p2</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.angleonlinkold" title="pylayers.gis.layout.Layout.angleonlinkold"><code class="xref py py-obj docutils literal"><span class="pre">angleonlinkold</span></code></a>([p1,&nbsp;p2])</td>
<td>angleonlink(self,p1,p2) returns seglist between p1 and p2</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.boundary" title="pylayers.gis.layout.Layout.boundary"><code class="xref py py-obj docutils literal"><span class="pre">boundary</span></code></a>([percx,&nbsp;percy,&nbsp;xlim,&nbsp;force])</td>
<td>add a blank boundary around layout</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.build" title="pylayers.gis.layout.Layout.build"><code class="xref py py-obj docutils literal"><span class="pre">build</span></code></a>([graph,&nbsp;verbose,&nbsp;difftol,&nbsp;multi])</td>
<td>build graphs</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGi" title="pylayers.gis.layout.Layout.buildGi"><code class="xref py py-obj docutils literal"><span class="pre">buildGi</span></code></a>([verbose,&nbsp;tqdmpos])</td>
<td>build graph of interactions</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGr" title="pylayers.gis.layout.Layout.buildGr"><code class="xref py py-obj docutils literal"><span class="pre">buildGr</span></code></a>()</td>
<td>build the graph of rooms Gr</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGt" title="pylayers.gis.layout.Layout.buildGt"><code class="xref py py-obj docutils literal"><span class="pre">buildGt</span></code></a>([check,&nbsp;difftol,&nbsp;verbose,&nbsp;tqdmpos])</td>
<td>build graph of convex cycle</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGt_old" title="pylayers.gis.layout.Layout.buildGt_old"><code class="xref py py-obj docutils literal"><span class="pre">buildGt_old</span></code></a>([check])</td>
<td>DEPRECATED</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGv" title="pylayers.gis.layout.Layout.buildGv"><code class="xref py py-obj docutils literal"><span class="pre">buildGv</span></code></a>([show,&nbsp;verbose,&nbsp;tqdmpos])</td>
<td>build visibility graph</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGw" title="pylayers.gis.layout.Layout.buildGw"><code class="xref py py-obj docutils literal"><span class="pre">buildGw</span></code></a>()</td>
<td>build Graph of waypaths</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.check" title="pylayers.gis.layout.Layout.check"><code class="xref py py-obj docutils literal"><span class="pre">check</span></code></a>([level])</td>
<td>Check Layout consistency</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.check2" title="pylayers.gis.layout.Layout.check2"><code class="xref py py-obj docutils literal"><span class="pre">check2</span></code></a>()</td>
<td>Layout checking</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.check_Gi" title="pylayers.gis.layout.Layout.check_Gi"><code class="xref py py-obj docutils literal"><span class="pre">check_Gi</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.cleanup" title="pylayers.gis.layout.Layout.cleanup"><code class="xref py py-obj docutils literal"><span class="pre">cleanup</span></code></a>()</td>
<td>cleanup the Layout</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.clip" title="pylayers.gis.layout.Layout.clip"><code class="xref py py-obj docutils literal"><span class="pre">clip</span></code></a>(xmin,&nbsp;xmax,&nbsp;ymin,&nbsp;ymax)</td>
<td>return the list of edges which cross or belong to the clipping zone</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.closest_edge" title="pylayers.gis.layout.Layout.closest_edge"><code class="xref py py-obj docutils literal"><span class="pre">closest_edge</span></code></a>(p,&nbsp;AAS)</td>
<td>not implemented</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.cy2pt" title="pylayers.gis.layout.Layout.cy2pt"><code class="xref py py-obj docutils literal"><span class="pre">cy2pt</span></code></a>([cy,&nbsp;h])</td>
<td>return a point into a given cycle</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.cycleinline" title="pylayers.gis.layout.Layout.cycleinline"><code class="xref py py-obj docutils literal"><span class="pre">cycleinline</span></code></a>(c1,&nbsp;c2)</td>
<td>returns the intersection between a given line and all segments</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.del_points" title="pylayers.gis.layout.Layout.del_points"><code class="xref py py-obj docutils literal"><span class="pre">del_points</span></code></a>(lp)</td>
<td>delete points in list lp</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.del_segment" title="pylayers.gis.layout.Layout.del_segment"><code class="xref py py-obj docutils literal"><span class="pre">del_segment</span></code></a>(le[,&nbsp;verbose,&nbsp;g2npy])</td>
<td>delete segment e</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.diag" title="pylayers.gis.layout.Layout.diag"><code class="xref py py-obj docutils literal"><span class="pre">diag</span></code></a>(p1,&nbsp;p2,&nbsp;l,&nbsp;al1,&nbsp;al2[,&nbsp;quadsel])</td>
<td>return edge list from a diagonal zone</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.displaygui" title="pylayers.gis.layout.Layout.displaygui"><code class="xref py py-obj docutils literal"><span class="pre">displaygui</span></code></a>()</td>
<td>open a GUI for displaying configuration</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.dumpr" title="pylayers.gis.layout.Layout.dumpr"><code class="xref py py-obj docutils literal"><span class="pre">dumpr</span></code></a>([graphs])</td>
<td>read of given graphs</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.dumpw" title="pylayers.gis.layout.Layout.dumpw"><code class="xref py py-obj docutils literal"><span class="pre">dumpw</span></code></a>()</td>
<td>write a dump of given Graph</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.ed2nd" title="pylayers.gis.layout.Layout.ed2nd"><code class="xref py py-obj docutils literal"><span class="pre">ed2nd</span></code></a>(edlist)</td>
<td>convert edgelist to nodelist</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.edit_point" title="pylayers.gis.layout.Layout.edit_point"><code class="xref py py-obj docutils literal"><span class="pre">edit_point</span></code></a>(np)</td>
<td>edit point</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.edit_seg" title="pylayers.gis.layout.Layout.edit_seg"><code class="xref py py-obj docutils literal"><span class="pre">edit_seg</span></code></a>(e1[,&nbsp;data])</td>
<td>edit segment</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.edit_segment" title="pylayers.gis.layout.Layout.edit_segment"><code class="xref py py-obj docutils literal"><span class="pre">edit_segment</span></code></a>(e1[,&nbsp;gui,&nbsp;outdata])</td>
<td>edit segment WITH EasyGUI</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.editor" title="pylayers.gis.layout.Layout.editor"><code class="xref py py-obj docutils literal"><span class="pre">editor</span></code></a>()</td>
<td>invoke interactive layout graphical editor</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.editorTk" title="pylayers.gis.layout.Layout.editorTk"><code class="xref py py-obj docutils literal"><span class="pre">editorTk</span></code></a>()</td>
<td>invoke interactive layout graphical editor</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.exportosm" title="pylayers.gis.layout.Layout.exportosm"><code class="xref py py-obj docutils literal"><span class="pre">exportosm</span></code></a>()</td>
<td>export layout in osm file format</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.extrseg" title="pylayers.gis.layout.Layout.extrseg"><code class="xref py py-obj docutils literal"><span class="pre">extrseg</span></code></a>()</td>
<td>calculate extremum of segments</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.facet3D" title="pylayers.gis.layout.Layout.facet3D"><code class="xref py py-obj docutils literal"><span class="pre">facet3D</span></code></a>(e[,&nbsp;subseg])</td>
<td>calculate 3D facet from segment</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.facets3D" title="pylayers.gis.layout.Layout.facets3D"><code class="xref py py-obj docutils literal"><span class="pre">facets3D</span></code></a>(edlist,name)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.filterGi" title="pylayers.gis.layout.Layout.filterGi"><code class="xref py py-obj docutils literal"><span class="pre">filterGi</span></code></a>([situ])</td>
<td>filter Gi to manage indoor/outdoor situations</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.find_edgelist" title="pylayers.gis.layout.Layout.find_edgelist"><code class="xref py py-obj docutils literal"><span class="pre">find_edgelist</span></code></a>(edgelist,nodelist)</td>
<td>edgelist : input edgelist</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.g2npy" title="pylayers.gis.layout.Layout.g2npy"><code class="xref py py-obj docutils literal"><span class="pre">g2npy</span></code></a>([verbose])</td>
<td>conversion from graphs to numpy arrays</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.geomfile" title="pylayers.gis.layout.Layout.geomfile"><code class="xref py py-obj docutils literal"><span class="pre">geomfile</span></code></a>([centered])</td>
<td>create a .off geomview file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.get_Sg_pos" title="pylayers.gis.layout.Layout.get_Sg_pos"><code class="xref py py-obj docutils literal"><span class="pre">get_Sg_pos</span></code></a>(sigarr)</td>
<td>return position of the signatures</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.get_diffslab" title="pylayers.gis.layout.Layout.get_diffslab"><code class="xref py py-obj docutils literal"><span class="pre">get_diffslab</span></code></a>(npt,&nbsp;lz)</td>
<td>get the 2 slabs associated to a diffraction point</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.get_paths" title="pylayers.gis.layout.Layout.get_paths"><code class="xref py py-obj docutils literal"><span class="pre">get_paths</span></code></a>(nd_in,&nbsp;nd_fin)</td>
<td>returns the possible paths of graph Gs between two nodes.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.get_points" title="pylayers.gis.layout.Layout.get_points"><code class="xref py py-obj docutils literal"><span class="pre">get_points</span></code></a>(ax)</td>
<td>get points list and segments list in a polygonal zone</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.get_zone" title="pylayers.gis.layout.Layout.get_zone"><code class="xref py py-obj docutils literal"><span class="pre">get_zone</span></code></a>(ax)</td>
<td>get point list and segment list in a rectangular zone</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.getangles" title="pylayers.gis.layout.Layout.getangles"><code class="xref py py-obj docutils literal"><span class="pre">getangles</span></code></a>(poly[,&nbsp;unit,&nbsp;inside])</td>
<td>find angles of a polygon</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.have_subseg" title="pylayers.gis.layout.Layout.have_subseg"><code class="xref py py-obj docutils literal"><span class="pre">have_subseg</span></code></a>(e1)</td>
<td>check if edge e1 have subseg</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.importosm" title="pylayers.gis.layout.Layout.importosm"><code class="xref py py-obj docutils literal"><span class="pre">importosm</span></code></a>(**kwargs)</td>
<td>import layout from osm file or osmapi</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.importres" title="pylayers.gis.layout.Layout.importres"><code class="xref py py-obj docutils literal"><span class="pre">importres</span></code></a>(_fileres,&nbsp;**kwargs)</td>
<td>import res format</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.importshp" title="pylayers.gis.layout.Layout.importshp"><code class="xref py py-obj docutils literal"><span class="pre">importshp</span></code></a>(**kwargs)</td>
<td>import layout from shape file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.info" title="pylayers.gis.layout.Layout.info"><code class="xref py py-obj docutils literal"><span class="pre">info</span></code></a>()</td>
<td>gives information about the Layout</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.info_segment" title="pylayers.gis.layout.Layout.info_segment"><code class="xref py py-obj docutils literal"><span class="pre">info_segment</span></code></a>(s1)</td>
<td>information about segment</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.intercy" title="pylayers.gis.layout.Layout.intercy"><code class="xref py py-obj docutils literal"><span class="pre">intercy</span></code></a>(ncy[,&nbsp;typ])</td>
<td>return the list of interactions seen from a cycle</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.ispoint" title="pylayers.gis.layout.Layout.ispoint"><code class="xref py py-obj docutils literal"><span class="pre">ispoint</span></code></a>(pt[,&nbsp;tol])</td>
<td>check if pt is a point of the Layout</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.isseg" title="pylayers.gis.layout.Layout.isseg"><code class="xref py py-obj docutils literal"><span class="pre">isseg</span></code></a>(ta,&nbsp;he)</td>
<td>test if ta&lt;-&gt;he is a segment</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.layerongrid" title="pylayers.gis.layout.Layout.layerongrid"><code class="xref py py-obj docutils literal"><span class="pre">layerongrid</span></code></a>(grid,&nbsp;Tx)</td>
<td>grid Nx,Ny,2</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.layeronlink" title="pylayers.gis.layout.Layout.layeronlink"><code class="xref py py-obj docutils literal"><span class="pre">layeronlink</span></code></a>(p1,&nbsp;p2)</td>
<td>layeronlink(self,p1,p2) return seglist between p1 and p2</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.load" title="pylayers.gis.layout.Layout.load"><code class="xref py py-obj docutils literal"><span class="pre">load</span></code></a>()</td>
<td>load a layout  from a .lay file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.load_modif" title="pylayers.gis.layout.Layout.load_modif"><code class="xref py py-obj docutils literal"><span class="pre">load_modif</span></code></a>(_filename[,&nbsp;build,&nbsp;cartesian,&nbsp;dist_m])</td>
<td>load a Layout in different formats</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.loadfur" title="pylayers.gis.layout.Layout.loadfur"><code class="xref py py-obj docutils literal"><span class="pre">loadfur</span></code></a>(_filefur)</td>
<td>loadfur load a furniture file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.ls" title="pylayers.gis.layout.Layout.ls"><code class="xref py py-obj docutils literal"><span class="pre">ls</span></code></a>([typ])</td>
<td>list the available file in dirstruc</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.mask" title="pylayers.gis.layout.Layout.mask"><code class="xref py py-obj docutils literal"><span class="pre">mask</span></code></a>()</td>
<td>returns the polygonal mask of the building</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.nd2seg" title="pylayers.gis.layout.Layout.nd2seg"><code class="xref py py-obj docutils literal"><span class="pre">nd2seg</span></code></a>(ndlist)</td>
<td>convert node list to edge list</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.numseg" title="pylayers.gis.layout.Layout.numseg"><code class="xref py py-obj docutils literal"><span class="pre">numseg</span></code></a>(ta,&nbsp;he[,&nbsp;first])</td>
<td>get segment number from 2 points index</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.off_overlay" title="pylayers.gis.layout.Layout.off_overlay"><code class="xref py py-obj docutils literal"><span class="pre">off_overlay</span></code></a>([dx,&nbsp;dy])</td>
<td>offset overlay image</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.offset_index" title="pylayers.gis.layout.Layout.offset_index"><code class="xref py py-obj docutils literal"><span class="pre">offset_index</span></code></a>([offp,&nbsp;offs])</td>
<td>offset points and segment index</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.onseg" title="pylayers.gis.layout.Layout.onseg"><code class="xref py py-obj docutils literal"><span class="pre">onseg</span></code></a>(pt[,&nbsp;tol])</td>
<td>segment number from point (deprecated)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.outputGi" title="pylayers.gis.layout.Layout.outputGi"><code class="xref py py-obj docutils literal"><span class="pre">outputGi</span></code></a>([verbose,&nbsp;tqdmpos])</td>
<td>filter output of Gi edges</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.outputGi_mp" title="pylayers.gis.layout.Layout.outputGi_mp"><code class="xref py py-obj docutils literal"><span class="pre">outputGi_mp</span></code></a>()</td>
<td>filter output of Gi edges</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.outputGi_new" title="pylayers.gis.layout.Layout.outputGi_new"><code class="xref py py-obj docutils literal"><span class="pre">outputGi_new</span></code></a>([verbose,&nbsp;tqdmpos])</td>
<td>filter output of Gi edges</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.plot" title="pylayers.gis.layout.Layout.plot"><code class="xref py py-obj docutils literal"><span class="pre">plot</span></code></a>(**kwargs)</td>
<td>plot the layout with shapely polygons</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.plot_segments" title="pylayers.gis.layout.Layout.plot_segments"><code class="xref py py-obj docutils literal"><span class="pre">plot_segments</span></code></a>(lns,&nbsp;**kwargs)</td>
<td>&#8220;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.pltlines" title="pylayers.gis.layout.Layout.pltlines"><code class="xref py py-obj docutils literal"><span class="pre">pltlines</span></code></a>(lines[,&nbsp;fig,&nbsp;ax,&nbsp;color,&nbsp;alpha])</td>
<td>plot a line with a specified color and transparency</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.pltpoly" title="pylayers.gis.layout.Layout.pltpoly"><code class="xref py py-obj docutils literal"><span class="pre">pltpoly</span></code></a>(poly[,&nbsp;fig,&nbsp;ax,&nbsp;color,&nbsp;alpha])</td>
<td>plot a polygon with a specified color and transparency</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.pltvnodes" title="pylayers.gis.layout.Layout.pltvnodes"><code class="xref py py-obj docutils literal"><span class="pre">pltvnodes</span></code></a>(vn[,&nbsp;fig,&nbsp;ax])</td>
<td>plot vnodes</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.point_touches_seg" title="pylayers.gis.layout.Layout.point_touches_seg"><code class="xref py py-obj docutils literal"><span class="pre">point_touches_seg</span></code></a>(pt[,&nbsp;lseg,&nbsp;segtol,&nbsp;tahetol])</td>
<td>determine if a point is touching a segment</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.polysh2geu" title="pylayers.gis.layout.Layout.polysh2geu"><code class="xref py py-obj docutils literal"><span class="pre">polysh2geu</span></code></a>(poly)</td>
<td>transform sh.Polygon into geu.Polygon</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.pt2cy" title="pylayers.gis.layout.Layout.pt2cy"><code class="xref py py-obj docutils literal"><span class="pre">pt2cy</span></code></a>([pt])</td>
<td>point to cycle</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.pt2ro" title="pylayers.gis.layout.Layout.pt2ro"><code class="xref py py-obj docutils literal"><span class="pre">pt2ro</span></code></a>([pt])</td>
<td>point to room</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.ptGs2cy" title="pylayers.gis.layout.Layout.ptGs2cy"><code class="xref py py-obj docutils literal"><span class="pre">ptGs2cy</span></code></a>([n])</td>
<td>Gs node to cycle</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.ptin" title="pylayers.gis.layout.Layout.ptin"><code class="xref py py-obj docutils literal"><span class="pre">ptin</span></code></a>([pt])</td>
<td>check if a point is in the Layout</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.randTxRx" title="pylayers.gis.layout.Layout.randTxRx"><code class="xref py py-obj docutils literal"><span class="pre">randTxRx</span></code></a>()</td>
<td>returns random coordinates for Tx and Rx.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.room2nodes" title="pylayers.gis.layout.Layout.room2nodes"><code class="xref py py-obj docutils literal"><span class="pre">room2nodes</span></code></a>(room)</td>
<td>returns the nodes of a room</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.room2segments" title="pylayers.gis.layout.Layout.room2segments"><code class="xref py py-obj docutils literal"><span class="pre">room2segments</span></code></a>(room)</td>
<td>returns the segments of a room</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.rotate" title="pylayers.gis.layout.Layout.rotate"><code class="xref py py-obj docutils literal"><span class="pre">rotate</span></code></a>([angle])</td>
<td>rotate the layout</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.save" title="pylayers.gis.layout.Layout.save"><code class="xref py py-obj docutils literal"><span class="pre">save</span></code></a>()</td>
<td>save Layout structure in a .lay file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.scl_overlay" title="pylayers.gis.layout.Layout.scl_overlay"><code class="xref py py-obj docutils literal"><span class="pre">scl_overlay</span></code></a>([ax,&nbsp;ay])</td>
<td>scale overlay image</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.seg2pts" title="pylayers.gis.layout.Layout.seg2pts"><code class="xref py py-obj docutils literal"><span class="pre">seg2pts</span></code></a>(aseg)</td>
<td>convert segments array from Gs numerotation</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.seg2ro" title="pylayers.gis.layout.Layout.seg2ro"><code class="xref py py-obj docutils literal"><span class="pre">seg2ro</span></code></a>(seg)</td>
<td>return room number of a point</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.seg_intersection" title="pylayers.gis.layout.Layout.seg_intersection"><code class="xref py py-obj docutils literal"><span class="pre">seg_intersection</span></code></a>(**kwargs)</td>
<td>determine if a segment intersects any other segment of the layout</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.seginframe" title="pylayers.gis.layout.Layout.seginframe"><code class="xref py py-obj docutils literal"><span class="pre">seginframe</span></code></a>(p1,&nbsp;p2)</td>
<td>return the seg list of a given zone defined by two points</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.seginframe2" title="pylayers.gis.layout.Layout.seginframe2"><code class="xref py py-obj docutils literal"><span class="pre">seginframe2</span></code></a>(p1,&nbsp;p2)</td>
<td>returns the seg list of a given zone defined by two points</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.seginline" title="pylayers.gis.layout.Layout.seginline"><code class="xref py py-obj docutils literal"><span class="pre">seginline</span></code></a>(p1,&nbsp;p2)</td>
<td>returns the intersection between a given line and all segments</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.segpt" title="pylayers.gis.layout.Layout.segpt"><code class="xref py py-obj docutils literal"><span class="pre">segpt</span></code></a>([ptlist])</td>
<td>return the seg list of a sequence of point number</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.seguv" title="pylayers.gis.layout.Layout.seguv"><code class="xref py py-obj docutils literal"><span class="pre">seguv</span></code></a>(iseg)</td>
<td>returns unitary vector along segments</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.show" title="pylayers.gis.layout.Layout.show"><code class="xref py py-obj docutils literal"><span class="pre">show</span></code></a>(**kwargs)</td>
<td>show layout</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.show3" title="pylayers.gis.layout.Layout.show3"><code class="xref py py-obj docutils literal"><span class="pre">show3</span></code></a>([bdis,&nbsp;centered])</td>
<td>geomview display of the indoor structure</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.showG" title="pylayers.gis.layout.Layout.showG"><code class="xref py py-obj docutils literal"><span class="pre">showG</span></code></a>([graph])</td>
<td>show the different graphs</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.showGs" title="pylayers.gis.layout.Layout.showGs"><code class="xref py py-obj docutils literal"><span class="pre">showGs</span></code></a>(**kwargs)</td>
<td>show structure graph Gs</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.showSig" title="pylayers.gis.layout.Layout.showSig"><code class="xref py py-obj docutils literal"><span class="pre">showSig</span></code></a>(sigarr[,&nbsp;Tx,&nbsp;Rx,&nbsp;fig,&nbsp;ax])</td>
<td>Show signature</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.show_layer" title="pylayers.gis.layout.Layout.show_layer"><code class="xref py py-obj docutils literal"><span class="pre">show_layer</span></code></a>(name[,&nbsp;edlist,&nbsp;alpha,&nbsp;width,&nbsp;...])</td>
<td>show layer</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.show_nodes" title="pylayers.gis.layout.Layout.show_nodes"><code class="xref py py-obj docutils literal"><span class="pre">show_nodes</span></code></a>([ndlist,&nbsp;size,&nbsp;color,&nbsp;dlabels,&nbsp;...])</td>
<td>show nodes</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.show_seg1" title="pylayers.gis.layout.Layout.show_seg1"><code class="xref py py-obj docutils literal"><span class="pre">show_seg1</span></code></a>([edlist,&nbsp;alpha,&nbsp;width,&nbsp;size,&nbsp;...])</td>
<td>show segment</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.show_segment" title="pylayers.gis.layout.Layout.show_segment"><code class="xref py py-obj docutils literal"><span class="pre">show_segment</span></code></a>(**kwargs)</td>
<td>show segment</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.signature" title="pylayers.gis.layout.Layout.signature"><code class="xref py py-obj docutils literal"><span class="pre">signature</span></code></a>(iTx,&nbsp;iRx)</td>
<td>Determine signature between node iTx and node iRx</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.subseg" title="pylayers.gis.layout.Layout.subseg"><code class="xref py py-obj docutils literal"><span class="pre">subseg</span></code></a>()</td>
<td>establishes the association : name &lt;-&gt;  edgelist</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.thwall" title="pylayers.gis.layout.Layout.thwall"><code class="xref py py-obj docutils literal"><span class="pre">thwall</span></code></a>(offx,&nbsp;offy)</td>
<td>Create a list of wall tuples (Transit.world format )</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.translate" title="pylayers.gis.layout.Layout.translate"><code class="xref py py-obj docutils literal"><span class="pre">translate</span></code></a>(vec)</td>
<td>translate layout</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.updateshseg" title="pylayers.gis.layout.Layout.updateshseg"><code class="xref py py-obj docutils literal"><span class="pre">updateshseg</span></code></a>()</td>
<td>update shapely segment</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.visi_papb" title="pylayers.gis.layout.Layout.visi_papb"><code class="xref py py-obj docutils literal"><span class="pre">visi_papb</span></code></a>(pa,&nbsp;pb[,&nbsp;edgelist,&nbsp;dtype])</td>
<td>visi_papb : determine if pa and pb are in visibility for the structure graph</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.visilist" title="pylayers.gis.layout.Layout.visilist"><code class="xref py py-obj docutils literal"><span class="pre">visilist</span></code></a>(p)</td>
<td>returns the list of nodes which are visible from point p</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.waypointGw" title="pylayers.gis.layout.Layout.waypointGw"><code class="xref py py-obj docutils literal"><span class="pre">waypointGw</span></code></a>(nroom1,&nbsp;nroom2)</td>
<td>get the waypoint between room1 and room2</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.wedge" title="pylayers.gis.layout.Layout.wedge"><code class="xref py py-obj docutils literal"><span class="pre">wedge</span></code></a>(lpnt)</td>
<td>calculate wedge angle of a point</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#pylayers.gis.layout.Layout.wedge2" title="pylayers.gis.layout.Layout.wedge2"><code class="xref py py-obj docutils literal"><span class="pre">wedge2</span></code></a>(apnt)</td>
<td>calculate wedge angle of a point</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Documentation</p>
<dl class="method">
<dt id="pylayers.gis.layout.Layout.add_fnod">
<code class="descname">add_fnod</code><span class="sig-paren">(</span><em>p=(0.0</em>, <em>0.0)</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.add_fnod" title="Permalink to this definition">¶</a></dt>
<dd><p>add free node  p</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>p</strong> :  (1x2) tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.add_furniture">
<code class="descname">add_furniture</code><span class="sig-paren">(</span><em>name='R1_C'</em>, <em>matname='PARTITION'</em>, <em>origin=(0.0</em>, <em>0.0)</em>, <em>zmin=0.0</em>, <em>height=0.0</em>, <em>width=0.0</em>, <em>length=0.0</em>, <em>angle=0.0</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.add_furniture" title="Permalink to this definition">¶</a></dt>
<dd><p>add piece of furniture</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : string</p>
<blockquote>
<div><p>default = &#8216;R1_C&#8217;</p>
</div></blockquote>
<p><strong>matname</strong> : string</p>
<blockquote>
<div><p>default = &#8216;PARTITION&#8217;</p>
</div></blockquote>
<p><strong>origin</strong> : tuple of floats</p>
<p><strong>height</strong> : float</p>
<blockquote>
<div><p>default = 0</p>
</div></blockquote>
<p><strong>width</strong> : float</p>
<blockquote>
<div><p>default = 0</p>
</div></blockquote>
<p><strong>length</strong> : float</p>
<blockquote>
<div><p>default = 0</p>
</div></blockquote>
<p><strong>angle</strong> : float</p>
<blockquote class="last">
<div><p>default = 0</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.add_furniture_file">
<code class="descname">add_furniture_file</code><span class="sig-paren">(</span><em>_filefur</em>, <em>typ=''</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.add_furniture_file" title="Permalink to this definition">¶</a></dt>
<dd><p>add pieces of furniture from .ini files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>_filefur</strong> : string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.add_nfpe">
<code class="descname">add_nfpe</code><span class="sig-paren">(</span><em>np0</em>, <em>s1</em>, <em>s2</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.add_nfpe" title="Permalink to this definition">¶</a></dt>
<dd><p>Add node on s1 from projection of np0 along s2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>np0</strong> : point number</p>
<p><strong>s1</strong> : edge number 1</p>
<p class="last"><strong>s2</strong> : edge number 2</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.add_pnod">
<code class="descname">add_pnod</code><span class="sig-paren">(</span><em>p</em>, <em>e1</em>, <em>e2</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.add_pnod" title="Permalink to this definition">¶</a></dt>
<dd><p>Project point p on segment e1 along segment e2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p</strong> : ndarray</p>
<blockquote>
<div><blockquote>
<div><p>point</p>
</div></blockquote>
<dl class="docutils">
<dt>e1</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">int</span><dd><p class="first last">edge number 1</p>
</dd>
<dt>e2</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">int</span><dd><p class="first last">edge number 2</p>
</dd>
</dl>
</div></blockquote>
<p><strong>..todo</strong></p>
<blockquote class="last">
<div><p>This function is void</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.add_pons">
<code class="descname">add_pons</code><span class="sig-paren">(</span><em>ns</em>, <em>alpha=0.5</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.add_pons" title="Permalink to this definition">¶</a></dt>
<dd><p>add point on segment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ns</strong> : int</p>
<blockquote>
<div><p>segment number</p>
</div></blockquote>
<p><strong>alpha</strong> : parameterization of the point</p>
<blockquote class="last">
<div><p>alpha = 0 (tail) alpha = 1 (head)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>delete segment ns
create 2 segments with same properties</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.add_segment">
<code class="descname">add_segment</code><span class="sig-paren">(</span><em>n1</em>, <em>n2</em>, <em>num=-1</em>, <em>maxnum=-1</em>, <em>transition=False</em>, <em>name='PARTITION'</em>, <em>z=(0.0</em>, <em>40000000)</em>, <em>offset=0</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.add_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>add segment between node n1 and node n2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n1</strong> : integer &lt; 0</p>
<p><strong>n2</strong> : integer &lt; 0</p>
<p><strong>num</strong> : segment index (-1 default not given)</p>
<p><strong>maxnum</strong> : maximum number (-1 default not given)</p>
<p><strong>name</strong> : string</p>
<blockquote>
<div><p>layer name &#8216;PARTITION&#8217;</p>
</div></blockquote>
<p><strong>z</strong> : tuple of 2 floats</p>
<blockquote>
<div><p>default = (0,40000000)</p>
</div></blockquote>
<p><strong>offset</strong> : float</p>
<blockquote>
<div><p>[-1,1] default (0)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>num</strong> : segment number (&gt;0)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>A segment dictionnary has the following mandatory attributes</p>
<p>name : slab name associated with segment
z : list (zmin,zmax)   (meters)
norm : array  (1x3)  segment normal
transition : boolean
ncycles : list of involved cycles
connect : list of point number
iso : list of isosegment</p>
<p>If a segment is _AIR it cannnot be duplicated</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.angleonlink">
<code class="descname">angleonlink</code><span class="sig-paren">(</span><em>p1=array([0</em>, <em>0])</em>, <em>p2=array([10</em>, <em>3])</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.angleonlink" title="Permalink to this definition">¶</a></dt>
<dd><p>angleonlink(self,p1,p2) return (seglist,angle) between p1 and p2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p1</strong> : np.array (2 x Np) or (2,)</p>
<p><strong>p2</strong> : np.array (2 x Np) or (2,)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">data[&#8216;i&#8217;]</p>
<p><strong>data[&#8216;s&#8217;]</strong> : list of segment number</p>
<p class="last"><strong>data[&#8216;a&#8217;]</strong> : angle (in radians) between segment and LOS axis</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.gis.layout import *
&gt;&gt;&gt; L = Layout(&#39;DLR.ini&#39;)
&gt;&gt;&gt; p1 = np.array([0,0])
&gt;&gt;&gt; p2 = np.array([10,3])
&gt;&gt;&gt; alpha = L.angleonlink(p1,p2)
</pre></div>
</div>
<dl class="docutils">
<dt>#array([(0, 141, 1.2793395519256592), (0, 62, 0.29145678877830505),</dt>
<dd><blockquote class="first">
<div>(0, 65, 0.29145678877830505)],</div></blockquote>
<p class="last">dtype=[(&#8216;i&#8217;, &#8216;&lt;i8&#8217;), (&#8216;s&#8217;, &#8216;&lt;i8&#8217;), (&#8216;a&#8217;, &#8216;&lt;f4&#8217;)])</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.angleonlink3">
<code class="descname">angleonlink3</code><span class="sig-paren">(</span><em>p1=array([0</em>, <em>0</em>, <em>1])</em>, <em>p2=array([10</em>, <em>3</em>, <em>1])</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.angleonlink3" title="Permalink to this definition">¶</a></dt>
<dd><p>angleonlink(self,p1,p2) return (seglist,angle) between p1 and p2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p1</strong> : np.array (3 x N) or (3,)</p>
<p><strong>p2</strong> : np.array (3 x N) or (3,)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>data</strong> : structured array x N</p>
<blockquote class="last">
<div><p>&#8216;i&#8217; : index 
&#8216;s&#8217; : slab 
&#8216;a&#8217; : angle (in radians)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">antprop.loss.Losst</span></code></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.gis.layout import *
&gt;&gt;&gt; L = Layout(&#39;DLR.ini&#39;)
&gt;&gt;&gt; p1 = np.array([0,0,1])
&gt;&gt;&gt; p2 = np.array([10,3,2])
&gt;&gt;&gt; data = L.angleonlink3(p1,p2)
</pre></div>
</div>
<dl class="docutils">
<dt>#array([(0, 141, 1.2793395519256592), (0, 62, 0.29145678877830505),</dt>
<dd><blockquote class="first">
<div>(0, 65, 0.29145678877830505)],</div></blockquote>
<p class="last">dtype=[(&#8216;i&#8217;, &#8216;&lt;i8&#8217;), (&#8216;s&#8217;, &#8216;&lt;i8&#8217;), (&#8216;a&#8217;, &#8216;&lt;f4&#8217;)])</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.angleonlinkold">
<code class="descname">angleonlinkold</code><span class="sig-paren">(</span><em>p1=array([0</em>, <em>0])</em>, <em>p2=array([10</em>, <em>3])</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.angleonlinkold" title="Permalink to this definition">¶</a></dt>
<dd><p>angleonlink(self,p1,p2) returns seglist between p1 and p2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p1</strong> : (1 x 2 )</p>
<blockquote>
<div><p>[0,0]</p>
</div></blockquote>
<p><strong>p2</strong> : (1 x 2 )</p>
<blockquote>
<div><p>[10,3]</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>seglist</strong> : list</p>
<blockquote>
<div><p>list of segment number on the link</p>
</div></blockquote>
<p class="last">theta</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>#&gt;&gt;&gt; from pylayers.gis.layout import *
#&gt;&gt;&gt; L = Layout(&#8216;DLR.ini&#8217;,&#8217;matDB.ini&#8217;,&#8217;slabDB.ini&#8217;)
#&gt;&gt;&gt; p1 = np.array([0,0])
#&gt;&gt;&gt; p2 = np.array([10,3])
#&gt;&gt;&gt; L.angleonlinkold(p1,p2)
#(array([59, 62, 65]), array([ 1.27933953,  0.29145679,  0.29145679]))</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.boundary">
<code class="descname">boundary</code><span class="sig-paren">(</span><em>percx=0.15</em>, <em>percy=0.15</em>, <em>xlim=()</em>, <em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.boundary" title="Permalink to this definition">¶</a></dt>
<dd><p>add a blank boundary around layout</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>percx</strong> : float</p>
<blockquote>
<div><p>percentage of Dx for x offset calculation (default 0.15)</p>
</div></blockquote>
<p><strong>percy</strong> : float</p>
<blockquote>
<div><p>percentage of Dy for y offset calculation (default 0.15)</p>
</div></blockquote>
<p><strong>self.lboundary is the list of the nodes of the added boundary</strong></p>
<p><strong>self.axn is the zone without the boundary extension</strong></p>
<p class="last"><strong>self.ax  is updated</strong></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.gis.layout import *
&gt;&gt;&gt; L = Layout(&#39;defstr.ini&#39;)
&gt;&gt;&gt; L.boundary()
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph='tvirw'</em>, <em>verbose=False</em>, <em>difftol=0.15</em>, <em>multi=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.build" title="Permalink to this definition">¶</a></dt>
<dd><p>build graphs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>graph</strong> : string composed of</p>
<blockquote>
<div><p>&#8216;t&#8217; : Gt
&#8216;v&#8217; : Gv
&#8216;i&#8217; : Gi
&#8216;r&#8217; : Gr
&#8216;w&#8221; : Gw</p>
</div></blockquote>
<p><strong>verbose</strong> : boolean</p>
<p><strong>difftol</strong> : diffraction tolerance</p>
<p><strong>multi</strong> : boolean</p>
<blockquote class="last">
<div><p>enable multi processing</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This function build all the graph associated with the Layout.</p>
<p>Warning : by default the layout is saved (dumpw) after each build</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.buildGi">
<code class="descname">buildGi</code><span class="sig-paren">(</span><em>verbose=False</em>, <em>tqdmpos=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.buildGi" title="Permalink to this definition">¶</a></dt>
<dd><p>build graph of interactions</p>
<p class="rubric">Notes</p>
<p>For each node of graph Gv creates
5 different nodes associated to the same segment</p>
<p>(np,) D
(ns,cy0) R -&gt; cy0
(ns,cy1) R -&gt; cy1
(ns,cy0,cy1) T 0-&gt;1
(ns,cy1,cy0) T 1-&gt;0</p>
<p>Gi is an oriented Graph (DiGraph)</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.buildGr">
<code class="descname">buildGr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.buildGr" title="Permalink to this definition">¶</a></dt>
<dd><p>build the graph of rooms Gr</p>
<p class="rubric">Notes</p>
<p>adjascent rooms are connected</p>
<p>Gr is at startup a deep copy of Gt</p>
<p>The difficulty here is to take into account the AIR transition
segments</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.buildGt">
<code class="descname">buildGt</code><span class="sig-paren">(</span><em>check=True</em>, <em>difftol=0.01</em>, <em>verbose=False</em>, <em>tqdmpos=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.buildGt" title="Permalink to this definition">¶</a></dt>
<dd><p>build graph of convex cycle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>check</strong> : boolean</p>
<p><strong>difftol</strong> : float</p>
<p><strong>verbose</strong> : boolean</p>
<p><strong>tqdmpos</strong> : progressbar</p>
<p><strong>todo :</strong></p>
<p><strong>- add an option to only take outside polygon</strong></p>
<blockquote class="last">
<div><p>=&gt; pass to self._triangle a hole coreesponding to centroid of
polygon except those of boundary ( see buildGtold )</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.buildGt_old">
<code class="descname">buildGt_old</code><span class="sig-paren">(</span><em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.buildGt_old" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED
build graph of convex cycles</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>check</strong> : booolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.buildGv">
<code class="descname">buildGv</code><span class="sig-paren">(</span><em>show=False</em>, <em>verbose=False</em>, <em>tqdmpos=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.buildGv" title="Permalink to this definition">¶</a></dt>
<dd><p>build visibility graph</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>show</strong> : boolean</p>
<blockquote>
<div><p>default False</p>
</div></blockquote>
<p><strong>verbose</strong> : boolean</p>
<p class="last"><strong>tqdmpos</strong> : progressbar</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This method exploits cycles convexity.</p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.gis.layout import *
&gt;&gt;&gt; L = Layout(&#39;TA-Office.ini&#39;)
&gt;&gt;&gt; L.buildGt()
&gt;&gt;&gt; Ga = L.buildGr()
&gt;&gt;&gt; L.buildGv()
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.buildGw">
<code class="descname">buildGw</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.buildGw" title="Permalink to this definition">¶</a></dt>
<dd><p>build Graph of waypaths</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGr" title="pylayers.gis.layout.Layout.buildGr"><code class="xref py py-obj docutils literal"><span class="pre">buildGr</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<dl class="docutils">
<dt>for all edges of Gr (adjascent room)</dt>
<dd>if room1 and room2 have a common transition</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.check">
<code class="descname">check</code><span class="sig-paren">(</span><em>level=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check Layout consistency</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>level</strong> : int</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>consistent</strong> : Boolean</p>
<blockquote class="last">
<div><p>True if consistent</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">GeomUtil.isBetween</span></code></p>
</div>
<p class="rubric">Notes</p>
<dl class="docutils">
<dt>For all segments</dt>
<dd><dl class="first last docutils">
<dt>get the 2 vertices</dt>
<dd><dl class="first last docutils">
<dt>for all the other vertices</dt>
<dd>check if it belongs to segment</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p>If there are points which are not valid they are displayed</p>
<p>In red point with degree == 1 , In black points with degree == 0</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.check2">
<code class="descname">check2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.check2" title="Permalink to this definition">¶</a></dt>
<dd><p>Layout checking</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.check_Gi">
<code class="descname">check_Gi</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.check_Gi" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.cleanup">
<code class="descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>cleanup the Layout</p>
<p class="rubric">Notes</p>
<ol class="arabic simple">
<li>Remove nodes which are not connected</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.clip">
<code class="descname">clip</code><span class="sig-paren">(</span><em>xmin</em>, <em>xmax</em>, <em>ymin</em>, <em>ymax</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.clip" title="Permalink to this definition">¶</a></dt>
<dd><p>return the list of edges which cross or belong to the clipping zone</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xmin</strong> : float</p>
<p><strong>xmax</strong> : float</p>
<p><strong>ymin</strong> : float</p>
<p class="last"><strong>ymax</strong> : float</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ol class="arabic simple">
<li>Determine all segments outside the clipping zone</li>
<li>Union of the 4 conditions</li>
<li>setdiff1d between the whole array of segments and the segments outside</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.closest_edge">
<code class="descname">closest_edge</code><span class="sig-paren">(</span><em>p</em>, <em>AAS</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.closest_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>not implemented</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>This function return the closest segment from p which belong to</strong></p>
<p><strong>the AAS (Allowed Angular Sector)</strong></p>
<p class="last"><strong>[ns] = closest_edge(self,p,AAS)</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.cy2pt">
<code class="descname">cy2pt</code><span class="sig-paren">(</span><em>cy=0</em>, <em>h=1.2</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.cy2pt" title="Permalink to this definition">¶</a></dt>
<dd><p>return a point into a given cycle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cy</strong> : int</p>
<blockquote>
<div><p>cycle number</p>
</div></blockquote>
<p><strong>h</strong> : float</p>
<blockquote>
<div><p>point height</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>point</strong> : nd.array</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.gis.layout.Layout.pt2cy" title="pylayers.gis.layout.Layout.pt2cy"><code class="xref py py-obj docutils literal"><span class="pre">Layout.pt2cy</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.cycleinline">
<code class="descname">cycleinline</code><span class="sig-paren">(</span><em>c1</em>, <em>c2</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.cycleinline" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the intersection between a given line and all segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>c1</strong> : int</p>
<blockquote>
<div><p>point</p>
</div></blockquote>
<p><strong>c2</strong> : int</p>
<blockquote>
<div><p>point</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>I</strong> : numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="references.html#pylayers.antprop.signature.Signatures.rays" title="pylayers.antprop.signature.Signatures.rays"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.antprop.signature.Signatures.rays</span></code></a>, <a class="reference internal" href="#pylayers.gis.layout.Layout.seginframe2" title="pylayers.gis.layout.Layout.seginframe2"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.gis.layout.Layout.seginframe2</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<p>This function is used to detect LOS conditions</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.del_points">
<code class="descname">del_points</code><span class="sig-paren">(</span><em>lp</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.del_points" title="Permalink to this definition">¶</a></dt>
<dd><p>delete points in list lp</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lp</strong> : list</p>
<blockquote class="last">
<div><p>node list</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.del_segment">
<code class="descname">del_segment</code><span class="sig-paren">(</span><em>le</em>, <em>verbose=True</em>, <em>g2npy=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.del_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>delete segment e</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>le</strong> : list of segment number</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.gis.layout.Layout.del_node</span></code></p>
</div>
<p class="rubric">Notes</p>
<p>100% of time is in g2npy</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.diag">
<code class="descname">diag</code><span class="sig-paren">(</span><em>p1</em>, <em>p2</em>, <em>l</em>, <em>al1</em>, <em>al2</em>, <em>quadsel=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.diag" title="Permalink to this definition">¶</a></dt>
<dd><p>return edge list from a diagonal zone</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p1</strong> : np.array</p>
<p><strong>p2</strong> : np.array</p>
<p><strong>tol :</strong></p>
<p><strong>al1 :</strong></p>
<p><strong>al2 :</strong></p>
<p><strong>quadsel</strong> : 0   all quadrant</p>
<blockquote>
<div><p>2 1
3 4</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">edgelist</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.displaygui">
<code class="descname">displaygui</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.displaygui" title="Permalink to this definition">¶</a></dt>
<dd><p>open a GUI for displaying configuration</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.dumpr">
<code class="descname">dumpr</code><span class="sig-paren">(</span><em>graphs='stvirw'</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.dumpr" title="Permalink to this definition">¶</a></dt>
<dd><p>read of given graphs</p>
<p class="rubric">Notes</p>
<dl class="docutils">
<dt>graph</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">string</span><dd>&#8216;s&#8217; : Gv
&#8216;t&#8217; : Gt
&#8216;r&#8217; : Gr
&#8216;v&#8217; : Gv
&#8216;i&#8217; : Gi</dd>
</dl>
<p>.gpickle files are store under the struc directory of the project
specified by the $BASENAME environment variable</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.dumpw">
<code class="descname">dumpw</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.dumpw" title="Permalink to this definition">¶</a></dt>
<dd><p>write a dump of given Graph</p>
<p class="rubric">Notes</p>
<p>&#8216;t&#8217; : Gt
&#8216;r&#8217; : Gr
&#8216;s&#8217; : Gs
&#8216;v&#8217; : Gv
&#8216;i&#8217; : Gi</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.ed2nd">
<code class="descname">ed2nd</code><span class="sig-paren">(</span><em>edlist</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.ed2nd" title="Permalink to this definition">¶</a></dt>
<dd><p>convert edgelist to nodelist</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>edlist</strong> : list or ndarray</p>
<blockquote>
<div><p>edge list</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>ndlist</strong> : ndarray</p>
<blockquote class="last">
<div><p>node list</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.edit_point">
<code class="descname">edit_point</code><span class="sig-paren">(</span><em>np</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.edit_point" title="Permalink to this definition">¶</a></dt>
<dd><p>edit point</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>np</strong> : integer</p>
<blockquote class="last">
<div><p>point number</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.edit_seg">
<code class="descname">edit_seg</code><span class="sig-paren">(</span><em>e1</em>, <em>data={}</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.edit_seg" title="Permalink to this definition">¶</a></dt>
<dd><p>edit segment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>e1</strong> : integer</p>
<blockquote>
<div><p>edge number</p>
</div></blockquote>
<p><strong>data</strong> : dict</p>
<blockquote class="last">
<div><p>dictionnary of value of seg or subseg</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<dl class="docutils">
<dt>A segment has the following properties :</dt>
<dd><ul class="first last simple">
<li>name  : string</li>
<li>z  :  tuple</li>
<li>transition : boolean (default FALSE)</li>
<li>offset : [-1,1]</li>
</ul>
</dd>
</dl>
<p>If a segment has subsegments attached the following properties are
added :</p>
<blockquote>
<div><ul class="simple">
<li>ss_name : list of string</li>
<li>ss_z : list of subsegment e.q. [(min height (meters),max height (meters))]</li>
<li>ss_offset : list of offset in [0,1]</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.edit_segment">
<code class="descname">edit_segment</code><span class="sig-paren">(</span><em>e1</em>, <em>gui=True</em>, <em>outdata={}</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.edit_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>edit segment WITH EasyGUI</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>e1</strong> : integer</p>
<blockquote>
<div><p>edge number</p>
</div></blockquote>
<p class="last"><strong>gui</strong> : boolean</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<dl class="docutils">
<dt>A segment has the following properties :</dt>
<dd><ul class="first last simple">
<li>name  : string</li>
<li>z  :  tuple</li>
<li>transition : boolean (default FALSE)</li>
</ul>
</dd>
</dl>
<p>If a segment has subsegments attached the following properties are
added :</p>
<blockquote>
<div><ul class="simple">
<li>ss_name : string</li>
<li>ss_z : subsegment [(min height (meters),max height (meters))]</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.editor">
<code class="descname">editor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.editor" title="Permalink to this definition">¶</a></dt>
<dd><p>invoke interactive layout graphical editor</p>
<p class="rubric">Notes</p>
<p>point edition</p>
<blockquote>
<div><p>m  toggle point edition mode  (CP : Create Point)</p>
<blockquote>
<div>lclic same x
rclic same y
cclic free point</div></blockquote>
</div></blockquote>
<p>segment edition</p>
<blockquote>
<div>[0-f] - display one of the 16 first layers
x : save structure
o : toggle overlay</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.editorTk">
<code class="descname">editorTk</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.editorTk" title="Permalink to this definition">¶</a></dt>
<dd><p>invoke interactive layout graphical editor</p>
<p class="rubric">Notes</p>
<p>point edition</p>
<blockquote>
<div><p>m  toggle point edition mode  (CP : Create Point)</p>
<blockquote>
<div>lclic same x
rclic same y
cclic free point</div></blockquote>
</div></blockquote>
<p>segment edition</p>
<blockquote>
<div>[0-f] - display one of the 16 first layers
x : save structure
o : toggle overlay</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.exportosm">
<code class="descname">exportosm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.exportosm" title="Permalink to this definition">¶</a></dt>
<dd><p>export layout in osm file format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>_filename</strong> : string</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">layout.loadosm</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">layout.loadini</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">layout.check</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.extrseg">
<code class="descname">extrseg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.extrseg" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate extremum of segments</p>
<p class="rubric">Notes</p>
<dl class="docutils">
<dt>update the following members</dt>
<dd><cite>min_sx</cite>
<cite>max_sx</cite>
<cite>min_sy</cite>
<cite>max_sy</cite></dd>
</dl>
<p>Used in seginframe</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.facet3D">
<code class="descname">facet3D</code><span class="sig-paren">(</span><em>e</em>, <em>subseg=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.facet3D" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate 3D facet from segment</p>
<dl class="docutils">
<dt>s</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">int</span><dd>segment number</dd>
<dt>subseg</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span><dd>default False</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.facets3D">
<code class="descname">facets3D</code><span class="sig-paren">(</span><em>edlist</em>, <em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.facets3D" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.filterGi">
<code class="descname">filterGi</code><span class="sig-paren">(</span><em>situ='outdoor'</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.filterGi" title="Permalink to this definition">¶</a></dt>
<dd><p>filter Gi to manage indoor/outdoor situations</p>
<p>Not called</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.find_edgelist">
<code class="descname">find_edgelist</code><span class="sig-paren">(</span><em>edgelist</em>, <em>nodelist</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.find_edgelist" title="Permalink to this definition">¶</a></dt>
<dd><p>edgelist : input edgelist
nodelist : input nodelist</p>
<p>return the subset of edgelist</p>
<p>Not Finished :</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.g2npy">
<code class="descname">g2npy</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.g2npy" title="Permalink to this definition">¶</a></dt>
<dd><p>conversion from graphs to numpy arrays</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>verbose</strong> : boolean</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.gis.layout.Layout.extrseg" title="pylayers.gis.layout.Layout.extrseg"><code class="xref py py-obj docutils literal"><span class="pre">extrseg</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<p>This function updates the following arrays:</p>
<ul class="simple">
<li>self.pt   (2xNp)</li>
<li>self.pg   center of gravity</li>
<li>self.tahe (2xNs)</li>
<li>self.tgs  : graph to segment</li>
<li>self.tsg  : segment to graph</li>
<li>self.dca  : dictionnary of cycle with an airwall</li>
<li>self.s2pu : sparse_lil_matrx</li>
<li>self.s2pc : sparse_lil_matrx</li>
<li>self.lsss : list of iso segments</li>
<li>self.maxheight :</li>
<li>self.normal :</li>
</ul>
<p>assert self.pt[self.iupnt[-1]] == self.pt[:,self.iupnt[-1]]</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.geomfile">
<code class="descname">geomfile</code><span class="sig-paren">(</span><em>centered=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.geomfile" title="Permalink to this definition">¶</a></dt>
<dd><p>create a .off geomview file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>centered</strong> : Boolean</p>
<blockquote class="last">
<div><p>if True the layout is centered around its center of gravity</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The <cite>.off</cite> file can be vizualized through the show3 method</p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.gis.layout import *
&gt;&gt;&gt; L = Layout(&#39;DLR.ini&#39;)
&gt;&gt;&gt; pg = L.geomfile()
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.get_Sg_pos">
<code class="descname">get_Sg_pos</code><span class="sig-paren">(</span><em>sigarr</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.get_Sg_pos" title="Permalink to this definition">¶</a></dt>
<dd><p>return position of the signatures</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sigarr</strong> : signature</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.get_diffslab">
<code class="descname">get_diffslab</code><span class="sig-paren">(</span><em>npt</em>, <em>lz</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.get_diffslab" title="Permalink to this definition">¶</a></dt>
<dd><p>get the 2 slabs associated to a diffraction point</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lnpt</strong> : diffraction point numbers (node of Gs)</p>
<p><strong>lz</strong> : array of candidate heights of the diffraction point</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="first simple">
<li>a list of 2-segments list. the length of this list == length of lz</li>
<li>a list of slab tuples.  the length of this list == length of lz</li>
</ul>
<p>[[443, 529], [444, 530]]</p>
<p class="last">[[&#8216;WALL&#8217;, &#8216;WALL&#8217;], [&#8216;AIR&#8217;, &#8216;AIR&#8217;]]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.get_paths">
<code class="descname">get_paths</code><span class="sig-paren">(</span><em>nd_in</em>, <em>nd_fin</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.get_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the possible paths of graph Gs between two nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>nd_in: int</strong></p>
<blockquote>
<div><blockquote>
<div><p>initial graph node (segment or point)</p>
</div></blockquote>
<dl class="docutils">
<dt>nd_fin: int</dt>
<dd><p class="first last">final graph node (segment or point)</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>paths</strong> : list</p>
<blockquote class="last">
<div><p>paths between nd_in and nd_fin</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.get_points">
<code class="descname">get_points</code><span class="sig-paren">(</span><em>ax</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.get_points" title="Permalink to this definition">¶</a></dt>
<dd><p>get points list and segments list in a polygonal zone</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : list ot tuple</p>
<blockquote>
<div><dl class="docutils">
<dt>[xmin,xmax,ymin,ymax]</dt>
<dd><p class="first last">or shapely Polygon</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>(pt,ke)</strong> : points coordinates and index</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This methods returns all the</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.get_zone">
<code class="descname">get_zone</code><span class="sig-paren">(</span><em>ax</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.get_zone" title="Permalink to this definition">¶</a></dt>
<dd><p>get point list and segment list in a rectangular zone</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : list ot tuple</p>
<blockquote>
<div><p>[xmin,xmax,ymin,ymax]</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ptlist,seglist</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.getangles">
<code class="descname">getangles</code><span class="sig-paren">(</span><em>poly</em>, <em>unit='rad'</em>, <em>inside=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.getangles" title="Permalink to this definition">¶</a></dt>
<dd><p>find angles of a polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>poly</strong> : geu.Polygon or sh.Polygon</p>
<p><strong>unit</strong> : str</p>
<blockquote>
<div><p>&#8216;deg&#8217; : degree values
&#8216;rad&#8217; : radian values</p>
</div></blockquote>
<p><strong>inside</strong> : boolean</p>
<blockquote>
<div><dl class="docutils">
<dt>True</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">compute the inside angles of the cycle.</span><dd><p class="first last">(a.k.a. the interior of the polygon)</p>
</dd>
<dt>False</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">compute the outside angles of the cycle.</span><dd><p class="first last">(a.k.a. the exterior of the polygon)</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(u,a)</p>
<p><strong>u</strong> : int (Np)</p>
<blockquote>
<div><p>point number</p>
</div></blockquote>
<p><strong>a</strong> : float (Np)</p>
<blockquote class="last">
<div><p>associated angle to the point</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p><a class="reference external" href="http://www.mathopenref.com/polygonexteriorangles.html">http://www.mathopenref.com/polygonexteriorangles.html</a></p>
<p>TODO : This function should be moved in geomutil.py  (NOT USED)</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.have_subseg">
<code class="descname">have_subseg</code><span class="sig-paren">(</span><em>e1</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.have_subseg" title="Permalink to this definition">¶</a></dt>
<dd><p>check if edge e1 have subseg</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>e1</strong> : int</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>have_subseg_bool</strong> : boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.importosm">
<code class="descname">importosm</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.importosm" title="Permalink to this definition">¶</a></dt>
<dd><p>import layout from osm file or osmapi</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>_fileosm</strong> : string</p>
<p><strong>address</strong> : string</p>
<blockquote>
<div><p>address to be geocoded</p>
</div></blockquote>
<p><strong>latlon</strong> : tuple</p>
<blockquote>
<div><p>(latitude,longitude) degrees</p>
</div></blockquote>
<p><strong>dist_m</strong> : float</p>
<blockquote>
<div><p>distance in meter from the geocoded address (def 200 m )</p>
</div></blockquote>
<p><strong>cart</strong> : boolean</p>
<blockquote class="last">
<div><p>conversion in cartesian coordinates</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.gis.osmparser.osmparse</span></code></p>
</div>
<p class="rubric">Notes</p>
<p>The best and recommended manner to edit a layout is to use the
josm editor in association with the piclayer plugin. 
This plugin allows to place a geo-adjusted image in the background 
which is very convenient for editing floorplan of buildings..</p>
<p>In josm editor, nodes are numbered with negative indexes, while in 
pylayers they have a positive index.</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.importres">
<code class="descname">importres</code><span class="sig-paren">(</span><em>_fileres</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.importres" title="Permalink to this definition">¶</a></dt>
<dd><p>import res format</p>
<p>col1 : x1 coordinates
col2 : y1 coordinates 
col3 : x2 coordinates
col4 : y2 coordinates
col5 : building height
col6 : building number
col7 : building class 
col8 : ground height</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.importshp">
<code class="descname">importshp</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.importshp" title="Permalink to this definition">¶</a></dt>
<dd><p>import layout from shape file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>_fileshp :</strong></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.info">
<code class="descname">info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.info" title="Permalink to this definition">¶</a></dt>
<dd><p>gives information about the Layout</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.info_segment">
<code class="descname">info_segment</code><span class="sig-paren">(</span><em>s1</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.info_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>information about segment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s1</strong> : segment number</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.intercy">
<code class="descname">intercy</code><span class="sig-paren">(</span><em>ncy</em>, <em>typ='source'</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.intercy" title="Permalink to this definition">¶</a></dt>
<dd><p>return the list of interactions seen from a cycle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ncy</strong> : cycle number( Project -&gt; save project)</p>
<p><strong>typ</strong> : string</p>
<blockquote class="last">
<div><p>if &#8216;source&#8217; connect source cycle
if &#8216;target&#8217; connect target cycle</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This method is called at the beginning of signature evaluation in order 
to get the starting and ending interaction. It exploits the information 
contained in teh graph Gi.</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.ispoint">
<code class="descname">ispoint</code><span class="sig-paren">(</span><em>pt</em>, <em>tol=0.05</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.ispoint" title="Permalink to this definition">¶</a></dt>
<dd><p>check if pt is a point of the Layout</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pt</strong> : point (2,1)</p>
<p><strong>tol</strong> : float</p>
<blockquote>
<div><p>default (0.05 meters)</p>
</div></blockquote>
<p><strong>if True the point number (&lt;0) is returned</strong></p>
<p><strong>else 0 is return</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>pt</strong> : point number if point exists 0 otherwise</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.util.geomutil.Polygon.setvnodes</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.isseg">
<code class="descname">isseg</code><span class="sig-paren">(</span><em>ta</em>, <em>he</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.isseg" title="Permalink to this definition">¶</a></dt>
<dd><p>test if ta&lt;-&gt;he is a segment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ta</strong> : int &lt;0</p>
<p><strong>he</strong> : int &lt;0</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">boolean</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.layerongrid">
<code class="descname">layerongrid</code><span class="sig-paren">(</span><em>grid</em>, <em>Tx</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.layerongrid" title="Permalink to this definition">¶</a></dt>
<dd><p>grid Nx,Ny,2
Tx   1x2
.. todo:: layeron grid Not finished</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.layeronlink">
<code class="descname">layeronlink</code><span class="sig-paren">(</span><em>p1</em>, <em>p2</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.layeronlink" title="Permalink to this definition">¶</a></dt>
<dd><p>layeronlink(self,p1,p2) return seglist between p1 and p2</p>
<p>p1 : (1 x 2 )
p2 : (1 x 2 )</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.load">
<code class="descname">load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.load" title="Permalink to this definition">¶</a></dt>
<dd><p>load a layout  from a .lay file</p>
<p>The filename is in self._filename</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.load_modif">
<code class="descname">load_modif</code><span class="sig-paren">(</span><em>_filename</em>, <em>build=True</em>, <em>cartesian=False</em>, <em>dist_m=400</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.load_modif" title="Permalink to this definition">¶</a></dt>
<dd><p>load a Layout in different formats</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>_filename</strong> : string</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>.lay   : ini file format (natural one) DIRLAY</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.loadfur">
<code class="descname">loadfur</code><span class="sig-paren">(</span><em>_filefur</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.loadfur" title="Permalink to this definition">¶</a></dt>
<dd><p>loadfur load a furniture file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>_filefur</strong> : string</p>
<blockquote class="last">
<div><p>short name of the furniture ini file</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Furniture objects are stored in self.lfur list</p>
<p class="rubric">Examples</p>
<p>Load a Layout file and an associated furniture ini file</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; from pylayers.gis.layout import *
&gt;&gt;&gt; L = Layout(&#39;WHERE1.ini&#39;)
&gt;&gt;&gt; L.loadfur(&#39;Furw1.ini&#39;)
&gt;&gt;&gt; fig = plt.figure()
&gt;&gt;&gt; ax = fig.gca()
&gt;&gt;&gt; fig,ax = L.showGs(fig=fig,ax=ax,furniture=True)
&gt;&gt;&gt; ti = plt.title(&#39;loadfur&#39;)
&gt;&gt;&gt; plt.show()
</pre></div>
</div>
<p>(<a class="reference external" href="../api/pylayers-gis-layout-Layout-1.py">Source code</a>)</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.ls">
<code class="descname">ls</code><span class="sig-paren">(</span><em>typ='lay'</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.ls" title="Permalink to this definition">¶</a></dt>
<dd><p>list the available file in dirstruc</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>typ</strong> : string optional</p>
<blockquote>
<div><p>{&#8216;ini&#8217;|&#8217;osm&#8217;|&#8217;wrl&#8217;}</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>lfile_s</strong> : list</p>
<blockquote class="last">
<div><p>sorted list of all the .str file of strdir</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>strdir is defined in the Project module</p>
<p class="rubric">Examples</p>
<p>Display all available structures</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.gis.layout import *
&gt;&gt;&gt; L = Layout()
&gt;&gt;&gt; fillist = L.ls()
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.mask">
<code class="descname">mask</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.mask" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the polygonal mask of the building</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>mask</strong> : geu.Polygon</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This function assumes graph Gt has been generated</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.nd2seg">
<code class="descname">nd2seg</code><span class="sig-paren">(</span><em>ndlist</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.nd2seg" title="Permalink to this definition">¶</a></dt>
<dd><p>convert node list to edge list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ndlist</strong> : list or ndarray</p>
<blockquote>
<div><p>node list</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>seglist</strong> : ndarray</p>
<blockquote class="last">
<div><p>edge list</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>previously nd2ed</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.numseg">
<code class="descname">numseg</code><span class="sig-paren">(</span><em>ta</em>, <em>he</em>, <em>first=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.numseg" title="Permalink to this definition">¶</a></dt>
<dd><p>get segment number from 2 points index</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ta</strong> : int &lt;0</p>
<p><strong>he</strong> : int &lt;0</p>
<p><strong>first</strong> : Boolean</p>
<blockquote>
<div><p>if True returns only one among the several iso segments 
else returns a np.array of iso segments</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>nseg</strong> : &gt; 0</p>
<p class="last">if 0 not a segment</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.off_overlay">
<code class="descname">off_overlay</code><span class="sig-paren">(</span><em>dx=0</em>, <em>dy=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.off_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>offset overlay image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dx</strong> : float</p>
<p class="last"><strong>dy</strong> : float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.offset_index">
<code class="descname">offset_index</code><span class="sig-paren">(</span><em>offp=0</em>, <em>offs=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.offset_index" title="Permalink to this definition">¶</a></dt>
<dd><p>offset points and segment index</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>offp</strong> : offset points</p>
<p class="last"><strong>offs</strong> : offset segments</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.onseg">
<code class="descname">onseg</code><span class="sig-paren">(</span><em>pt</em>, <em>tol=0.01</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.onseg" title="Permalink to this definition">¶</a></dt>
<dd><p>segment number from point (deprecated)</p>
<p>return segment number which contains point pt</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pt  np.array(1x2)</strong></p>
<p class="last"><strong>tol = 0.01      tolerance</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.outputGi">
<code class="descname">outputGi</code><span class="sig-paren">(</span><em>verbose=False</em>, <em>tqdmpos=0.0</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.outputGi" title="Permalink to this definition">¶</a></dt>
<dd><p>filter output of Gi edges</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>L</strong> : Layout</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.util.cone.Cone.from2seg</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">pylayers.util.cone.Cone.belong_seg</span></code></p>
</div>
<p class="rubric">Notes</p>
<p>Let assume a sequence (nstr0,nstr1,{nstr2A,nstr2B,...}) in a signature.
This function checks whether this sequence is feasible or not
, whatever the type of nstr0 and nstr1.
The feasible outputs from nstr0 to nstr1 are stored in an output field of
edge (nstr0,nstr1)</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.outputGi_mp">
<code class="descname">outputGi_mp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.outputGi_mp" title="Permalink to this definition">¶</a></dt>
<dd><p>filter output of Gi edges</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>L</strong> : Layout</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.util.cone.Cone.from2seg</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">pylayers.util.cone.Cone.belong_seg</span></code></p>
</div>
<p class="rubric">Notes</p>
<p>Let assume a sequence (nstr0,nstr1,{nstr2A,nstr2B,...}) in a signature.
This function checks whether this sequence is feasible or not
, whatever the type of nstr0 and nstr1.
The feasible outputs from nstr0 to nstr1 are stored in an output field of
edge (nstr0,nstr1)</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.outputGi_new">
<code class="descname">outputGi_new</code><span class="sig-paren">(</span><em>verbose=False</em>, <em>tqdmpos=0.0</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.outputGi_new" title="Permalink to this definition">¶</a></dt>
<dd><p>filter output of Gi edges</p>
<p>this version of outputGi, uses sparses matrix instead of NetworkX for MP 
purpose</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>L</strong> : Layout</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.util.cone.Cone.from2seg</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">pylayers.util.cone.Cone.belong_seg</span></code></p>
</div>
<p class="rubric">Notes</p>
<p>Let assume a sequence (nstr0,nstr1,{nstr2A,nstr2B,...}) in a signature.
This function checks whether this sequence is feasible or not
, whatever the type of nstr0 and nstr1.
The feasible outputs from nstr0 to nstr1 are stored in an output field of
edge (nstr0,nstr1)</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot the layout with shapely polygons</p>
<p>fig 
ax 
labels : list
nodes : boolean</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.plot_segments">
<code class="descname">plot_segments</code><span class="sig-paren">(</span><em>lns</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.plot_segments" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8220;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lns</strong></p>
<p class="last"><strong>*kwargs</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.pltlines">
<code class="descname">pltlines</code><span class="sig-paren">(</span><em>lines</em>, <em>fig=[]</em>, <em>ax=[]</em>, <em>color='r'</em>, <em>alpha=1</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.pltlines" title="Permalink to this definition">¶</a></dt>
<dd><p>plot a line with a specified color and transparency</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lines</strong> : shapely lines</p>
<p><strong>fig</strong></p>
<p><strong>ax</strong></p>
<p><strong>color</strong> : string</p>
<p><strong>alpha</strong> : float</p>
<blockquote class="last">
<div><p>transparency</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.gis.layout.Layout.plot" title="pylayers.gis.layout.Layout.plot"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.gis.layout.Layout.plot</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.pltpoly">
<code class="descname">pltpoly</code><span class="sig-paren">(</span><em>poly</em>, <em>fig=[]</em>, <em>ax=[]</em>, <em>color='r'</em>, <em>alpha=0.2</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.pltpoly" title="Permalink to this definition">¶</a></dt>
<dd><p>plot a polygon with a specified color and transparency</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.pltvnodes">
<code class="descname">pltvnodes</code><span class="sig-paren">(</span><em>vn</em>, <em>fig=[]</em>, <em>ax=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.pltvnodes" title="Permalink to this definition">¶</a></dt>
<dd><p>plot vnodes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vn</strong> : list of nodes</p>
<p><strong>fig :</strong></p>
<p class="last"><strong>ax :</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.point_touches_seg">
<code class="descname">point_touches_seg</code><span class="sig-paren">(</span><em>pt</em>, <em>lseg=[]</em>, <em>segtol=0.01</em>, <em>tahetol=0.01</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.point_touches_seg" title="Permalink to this definition">¶</a></dt>
<dd><p>determine if a point is touching a segment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pt</strong> : a point (2,)</p>
<p><strong>seg</strong> : a list of segments to test.</p>
<blockquote>
<div><p>if [] =&gt; all Gs segments are tested</p>
</div></blockquote>
<p><strong>segdtol</strong> : distance tolerance point to segment</p>
<p><strong>tahetol</strong> : distance tolerance point to segment extremeties</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>=&gt; a point on segment extremeties is considered</dt>
<dd><p class="first last">not touching the segseg</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.polysh2geu">
<code class="descname">polysh2geu</code><span class="sig-paren">(</span><em>poly</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.polysh2geu" title="Permalink to this definition">¶</a></dt>
<dd><p>transform sh.Polygon into geu.Polygon</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.pt2cy">
<code class="descname">pt2cy</code><span class="sig-paren">(</span><em>pt=array([0</em>, <em>0])</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.pt2cy" title="Permalink to this definition">¶</a></dt>
<dd><p>point to cycle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pt</strong> : point (ndarray)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>ncy</strong> : cycle number</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.gis.layout.Layout.cy2pt" title="pylayers.gis.layout.Layout.cy2pt"><code class="xref py py-obj docutils literal"><span class="pre">Layout.cy2pt</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<p>If a cycle contains point pt this function returns the cycle number</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.pt2ro">
<code class="descname">pt2ro</code><span class="sig-paren">(</span><em>pt=array([0</em>, <em>0])</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.pt2ro" title="Permalink to this definition">¶</a></dt>
<dd><p>point to room</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pt</strong> : point (ndarray)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>nr</strong> : Room number</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>If a room contains point pt this function returns the room number</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.ptGs2cy">
<code class="descname">ptGs2cy</code><span class="sig-paren">(</span><em>n=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.ptGs2cy" title="Permalink to this definition">¶</a></dt>
<dd><p>Gs node to cycle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>upt</strong> : point (ndarray)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>ncy</strong> : cycle number</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>If a cycle contains the Gs pointt this function returns the cycle(s) number</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.ptin">
<code class="descname">ptin</code><span class="sig-paren">(</span><em>pt=array([0</em>, <em>0</em>, <em>0])</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.ptin" title="Permalink to this definition">¶</a></dt>
<dd><p>check if a point is in the Layout</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pt</strong> : point (ndarray)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>boolean</strong> : True if inside</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.gis.layout.Layout.ispoint" title="pylayers.gis.layout.Layout.ispoint"><code class="xref py py-obj docutils literal"><span class="pre">ispoint</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.randTxRx">
<code class="descname">randTxRx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.randTxRx" title="Permalink to this definition">¶</a></dt>
<dd><p>returns random coordinates for Tx and Rx.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>p_Tx</strong> : numpy.ndarray</p>
<blockquote>
<div><p>A point of the placement of the Tx</p>
</div></blockquote>
<p><strong>p_Rx</strong> : numpy.ndarray</p>
<blockquote class="last">
<div><p>A point of the placement of the Rx</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>ex fn Tx_Rx_pos</p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.gis.layout import *
&gt;&gt;&gt; L = Layout(&#39;defstr.ini&#39;)
&gt;&gt;&gt; p_Tx,p_Rx = L.randTxRx()
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.room2nodes">
<code class="descname">room2nodes</code><span class="sig-paren">(</span><em>room</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.room2nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the nodes of a room</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>room</strong> : int</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>nod</strong> : sorted list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.room2segments">
<code class="descname">room2segments</code><span class="sig-paren">(</span><em>room</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.room2segments" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the segments of a room</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>room</strong> : int</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>seg</strong> : list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.rotate">
<code class="descname">rotate</code><span class="sig-paren">(</span><em>angle=90</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>rotate the layout</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>angle</strong> : float</p>
<blockquote class="last">
<div><p>(degrees)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.save" title="Permalink to this definition">¶</a></dt>
<dd><p>save Layout structure in a .lay file</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.scl_overlay">
<code class="descname">scl_overlay</code><span class="sig-paren">(</span><em>ax=1.0</em>, <em>ay=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.scl_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>scale overlay image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ax</strong> : float</p>
<p class="last"><strong>ay</strong> : float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.seg2pts">
<code class="descname">seg2pts</code><span class="sig-paren">(</span><em>aseg</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.seg2pts" title="Permalink to this definition">¶</a></dt>
<dd><p>convert segments array from Gs numerotation 
to corresponding termination points array in pt</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>aseg</strong> : np.array (,Ns) or int for single value:w</p>
<blockquote>
<div><p>array of segment number (&gt;0)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>pth</strong> : np.array (4 x Ns)</p>
<blockquote class="last">
<div><p>pth is a vstacking of tail point (2,Ns) and head point (2,Ns)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.gis.layout import *
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; L = Layout(&#39;defstr.ini&#39;)
&gt;&gt;&gt; aseg = np.array([1,3,6])
&gt;&gt;&gt; pt =  L.seg2pts(aseg)
</pre></div>
</div>
<p>OBSOLETE : Use self.s2pc instead</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.seg2ro">
<code class="descname">seg2ro</code><span class="sig-paren">(</span><em>seg</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.seg2ro" title="Permalink to this definition">¶</a></dt>
<dd><p>return room number of a point</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>seg</strong> : int</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>nr</strong> : Room number</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>If a room contains point pt this function returns the room number</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.seg_intersection">
<code class="descname">seg_intersection</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.seg_intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>determine if a segment intersects any other segment of the layout</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>shLine</strong> : a shapely LineString</p>
<p><strong>OR</strong></p>
<p class="last"><strong>ta,he</strong> : tail/head coordinates of a segment</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.seginframe">
<code class="descname">seginframe</code><span class="sig-paren">(</span><em>p1</em>, <em>p2</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.seginframe" title="Permalink to this definition">¶</a></dt>
<dd><p>return the seg list of a given zone defined by two points</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p1</strong></p>
<blockquote>
<div><p>array (1 x 2)</p>
</div></blockquote>
<p><strong>p2</strong></p>
<blockquote>
<div><p>array (1 x 2)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">seglist</p>
<blockquote class="last">
<div><p>list of segment number inside a planar region defined by p1 an p2</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.gis.layout import *
&gt;&gt;&gt; L = Layout(&#39;TA-Office.ini&#39;)
&gt;&gt;&gt; p1 = np.array([0,0])
&gt;&gt;&gt; p2 = np.array([10,10])
&gt;&gt;&gt; L.seginframe(p1,p2)
array([ 1,  3,  7,  8, 14, 15, 16, 17, 18, 20, 21, 23, 24, 26, 27, 29, 30,
       32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 44, 46, 47, 52, 53, 54,
       55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71,
       72, 73, 74, 75, 76, 77, 78, 81, 82, 85, 86])
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.seginframe2">
<code class="descname">seginframe2</code><span class="sig-paren">(</span><em>p1</em>, <em>p2</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.seginframe2" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the seg list of a given zone defined by two points</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p1 array (2 x N)</strong></p>
<blockquote>
<div><p>array of N 2D points</p>
</div></blockquote>
<p><strong>p2 array (2 x N)</strong></p>
<blockquote>
<div><p>array of N 2D points</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">seglist</p>
<blockquote class="last">
<div><p>list of segment number inside a planar region defined by p1 an p2</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.gis.layout import *
&gt;&gt;&gt; L = Layout(&#39;TA-Office.ini&#39;)
&gt;&gt;&gt; p1 = np.array([[0,0,0],[0,0,0]])
&gt;&gt;&gt; p2 = np.array([[10,10,10],[10,10,10]])
&gt;&gt;&gt; seglist = L.seginframe2(p1,p2)
&gt;&gt;&gt; edlist  = map(lambda x: L.tsg[x],seglist)
&gt;&gt;&gt; fig,ax = L.showG(&#39;s&#39;,edlist=edlist)
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.seginline">
<code class="descname">seginline</code><span class="sig-paren">(</span><em>p1</em>, <em>p2</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.seginline" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the intersection between a given line and all segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p1</strong> : numpy.ndarray</p>
<blockquote>
<div><p>p2 : numpy.ndarray</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>I</strong> : numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.segpt">
<code class="descname">segpt</code><span class="sig-paren">(</span><em>ptlist=array([0])</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.segpt" title="Permalink to this definition">¶</a></dt>
<dd><p>return the seg list of a sequence of point number</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ptlist array(1xNp)</strong></p>
<blockquote>
<div><p>point number array</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">seglist</p>
<blockquote class="last">
<div><p>array seglist associated with ptlist</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>segpt is faster than segpt2</p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.gis.layout import *
&gt;&gt;&gt; L = Layout(&#39;TA-Office.ini&#39;)
&gt;&gt;&gt; ptlist  = np.array([0,1])
&gt;&gt;&gt; seg = L.segpt(ptlist)
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.seguv">
<code class="descname">seguv</code><span class="sig-paren">(</span><em>iseg</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.seguv" title="Permalink to this definition">¶</a></dt>
<dd><p>returns unitary vector along segments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>iseg</strong> : np.array</p>
<blockquote class="last">
<div><p>index of segments</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.gis.layout import *
&gt;&gt;&gt; L = Layout(&#39;DLR.ini&#39;)
&gt;&gt;&gt; idx = np.array([1,2,3,17])
&gt;&gt;&gt; v1 = L.seguv(idx)
&gt;&gt;&gt; idx = np.array([1])
&gt;&gt;&gt; v2= L.seguv(idx)
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.show" title="Permalink to this definition">¶</a></dt>
<dd><p>show layout</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.gis.layout.Layout.showG" title="pylayers.gis.layout.Layout.showG"><code class="xref py py-obj docutils literal"><span class="pre">showG</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.show3">
<code class="descname">show3</code><span class="sig-paren">(</span><em>bdis=True</em>, <em>centered=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.show3" title="Permalink to this definition">¶</a></dt>
<dd><p>geomview display of the indoor structure</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>bdis boolean (default True)</strong></p>
<blockquote>
<div><p>boolean display (call geowview if True)</p>
</div></blockquote>
<p><strong>centered</strong> : boolean</p>
<blockquote class="last">
<div><p>if True center the layout before display</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.showG">
<code class="descname">showG</code><span class="sig-paren">(</span><em>graph='s'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.showG" title="Permalink to this definition">¶</a></dt>
<dd><p>show the different graphs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>graph</strong> : char</p>
<blockquote>
<div><p>&#8216;t&#8217; : Gt &#8216;r&#8217; : Gr &#8216;s&#8217; : Gs &#8216;v&#8217; : Gv  &#8216;i&#8217; : Gi</p>
</div></blockquote>
<p><strong>fig</strong> : matplotlib figure</p>
<blockquote>
<div><p>[]</p>
</div></blockquote>
<p><strong>ax</strong> : matplotlib figure</p>
<blockquote>
<div><p>[]</p>
</div></blockquote>
<p><strong>show</strong> : boolean</p>
<blockquote>
<div><p>False</p>
</div></blockquote>
<p><strong>nodes</strong> : boolean</p>
<blockquote>
<div><p>False</p>
</div></blockquote>
<p><strong>edges</strong> : boolean</p>
<blockquote>
<div><p>True</p>
</div></blockquote>
<p><strong>airwalls | aw: boolean</strong></p>
<blockquote>
<div><p>display airwalls (False)</p>
</div></blockquote>
<p><strong>subseg: boolean</strong></p>
<blockquote>
<div><p>display subsegments (False)</p>
</div></blockquote>
<p><strong>slab</strong> : boolean</p>
<blockquote>
<div><p>display color and width of slabs (False)</p>
</div></blockquote>
<p><strong>labels</strong> : boolean <a href="#id1"><span class="problematic" id="id2">|</span></a>list</p>
<blockquote>
<div><p>display graph labels (False)
if list precise label of which cycle to display
(e.g. [&#8216;t&#8217;])</p>
</div></blockquote>
<p><strong>alphan</strong> : float</p>
<blockquote>
<div><p>transparency of nodes (1.0)</p>
</div></blockquote>
<p><strong>alphae</strong> : float</p>
<blockquote>
<div><p>transparency of edges (1.0)</p>
</div></blockquote>
<p><strong>width</strong> : float</p>
<blockquote>
<div><p>line width (2)</p>
</div></blockquote>
<p><strong>node_color: string</strong></p>
<blockquote>
<div><p>w</p>
</div></blockquote>
<p><strong>posnode_color: string</strong></p>
<blockquote>
<div><p>positive node color (k)</p>
</div></blockquote>
<p><strong>negnode_color: string</strong></p>
<blockquote>
<div><p>negative node color (b)</p>
</div></blockquote>
<p><strong>edge_color</strong> : string</p>
<blockquote>
<div><p>k</p>
</div></blockquote>
<p><strong>node_size</strong> : float</p>
<blockquote>
<div><p>20</p>
</div></blockquote>
<p><strong>font_size</strong> : float</p>
<blockquote>
<div><p>15,</p>
</div></blockquote>
<p><strong>nodelist</strong> : list</p>
<blockquote>
<div><p>list of nodes to be displayed (all)</p>
</div></blockquote>
<p><strong>edgelist</strong> : list</p>
<blockquote>
<div><p>list of edges to be displayed (all)</p>
</div></blockquote>
<p><strong>mode</strong> : string</p>
<blockquote>
<div><p>&#8216;cycle&#8217; | &#8216;none&#8217; | &#8216;room&#8217;</p>
</div></blockquote>
<p><strong>alphacy</strong> : string</p>
<blockquote>
<div><p>transparency of cycles (0.8)</p>
</div></blockquote>
<p><strong>colorcy :</strong></p>
<blockquote>
<div><p>&#8216;#abcdef&#8217;</p>
</div></blockquote>
<p><strong>linter</strong> : list</p>
<blockquote>
<div><p>list of interaction for Gi
[&#8216;RR&#8217;,&#8217;TT&#8217;,&#8217;RT&#8217;,&#8217;TR&#8217;,&#8217;RD&#8217;,&#8217;DR&#8217;,&#8217;TD&#8217;,&#8217;DT&#8217;,&#8217;DD&#8217;]</p>
</div></blockquote>
<p><strong>show0</strong> : boolean</p>
<blockquote>
<div><p>If true display connection to cycle  0 of Gt (False)</p>
</div></blockquote>
<p><strong>eded</strong> : boolean</p>
<blockquote>
<div><p>True</p>
</div></blockquote>
<p><strong>ndnd</strong> : boolean</p>
<blockquote>
<div><p>True</p>
</div></blockquote>
<p><strong>nded</strong> : boolean</p>
<blockquote>
<div><p>True</p>
</div></blockquote>
<p><strong>width</strong> : int</p>
<blockquote>
<div><p>2</p>
</div></blockquote>
<p><strong>nodelist</strong> : list</p>
<blockquote>
<div><p>[]</p>
</div></blockquote>
<p><strong>diffraction :boolean</strong></p>
<blockquote>
<div><p>False</p>
</div></blockquote>
<p><strong>defaults = {&#8216;show&#8217;: False,</strong></p>
<blockquote class="last">
<div><p>&#8216;fig&#8217;: [],
&#8216;ax&#8217;: [],
&#8216;nodes&#8217;: False,
&#8216;edges&#8217;: True,
&#8216;sllist&#8217;:[],
&#8216;airwalls&#8217;: False,
&#8216;subseg&#8217;: False,
&#8216;slab&#8217;: True,
&#8216;labels&#8217;: False,
&#8216;alphan&#8217;: 1.0,
&#8216;alphae&#8217;: 1.0,
&#8216;width&#8217;: 2,
&#8216;node_color&#8217;:&#8217;w&#8217;,
&#8216;edge_color&#8217;:&#8217;k&#8217;,
&#8216;node_size&#8217;:20,
&#8216;font_size&#8217;:15,
&#8216;nodelist&#8217;: [],
&#8216;edgelist&#8217;: [],
&#8216;figsize&#8217;: (5,5),
&#8216;mode&#8217;:&#8217;nocycle&#8217;,
&#8216;alphacy&#8217;:0.8,
&#8216;colorcy&#8217;:&#8217;abcdef&#8217;,
&#8216;linter&#8217; : [&#8216;RR&#8217;,&#8217;TT&#8217;,&#8217;RT&#8217;,&#8217;TR&#8217;,&#8217;RD&#8217;,&#8217;DR&#8217;,&#8217;TD&#8217;,&#8217;DT&#8217;,&#8217;DD&#8217;],
&#8216;show0&#8217;:False,
&#8216;axis&#8217;:False,
&#8216;overlay&#8217;:False,
&#8216;diffraction&#8217;:False
}</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.util.graphutil.draw</span></code></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.gis.layout import  *
&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; L = Layout(&#39;TA-Office.ini&#39;)
&gt;&gt;&gt; L.dumpr()
&gt;&gt;&gt; fig = plt.figure(figsize=(10,10))
&gt;&gt;&gt; ax = fig.add_subplot(221)
&gt;&gt;&gt; fig,ax = L.showG(&#39;s&#39;,fig=fig,ax=ax)
&gt;&gt;&gt; tis = plt.title(&quot;Gs&quot;)
&gt;&gt;&gt; ax = fig.add_subplot(222)
&gt;&gt;&gt; fig,ax = L.showG(&#39;t&#39;,fig=fig,ax=ax)
&gt;&gt;&gt; tit = plt.title(&quot;Gt&quot;)
&gt;&gt;&gt; ax = fig.add_subplot(223)
&gt;&gt;&gt; fig,ax = L.showG(&#39;r&#39;,fig=fig,ax=ax)
&gt;&gt;&gt; tic = plt.title(&quot;Gr&quot;)
&gt;&gt;&gt; ax = fig.add_subplot(224)
&gt;&gt;&gt; fig,ax = L.showG(&#39;v&#39;,fig=fig,ax=ax)
&gt;&gt;&gt; tiv = plt.title(&quot;Gv&quot;)
&gt;&gt;&gt; plt.show()
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.showGs">
<code class="descname">showGs</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.showGs" title="Permalink to this definition">¶</a></dt>
<dd><p>show structure graph Gs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ndlist</strong> : np.array</p>
<blockquote>
<div><p>set of nodes to be displayed</p>
</div></blockquote>
<p><strong>edlist</strong> : np.array</p>
<blockquote>
<div><p>set of edges to be displayed</p>
</div></blockquote>
<p><strong>roomlist</strong> : list</p>
<blockquote>
<div><p>default : []</p>
</div></blockquote>
<p><strong>axis :</strong></p>
<p><strong>width</strong> : int</p>
<blockquote>
<div><p>2</p>
</div></blockquote>
<p><strong>fGHz</strong> : float</p>
<p><strong>show</strong> : boolean</p>
<blockquote>
<div><p>default True</p>
</div></blockquote>
<p><strong>furniture</strong> : boolean</p>
<blockquote>
<div><p>default False</p>
</div></blockquote>
<p><strong>display parameters are defined in  display dictionnary</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ax</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">pylayers.gis.layout.showG</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.showSig">
<code class="descname">showSig</code><span class="sig-paren">(</span><em>sigarr</em>, <em>Tx=None</em>, <em>Rx=None</em>, <em>fig=[]</em>, <em>ax=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.showSig" title="Permalink to this definition">¶</a></dt>
<dd><p>Show signature</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>Tx</strong> : np.array (2,1)</p>
<blockquote>
<div><p>Transmitter coordinates</p>
</div></blockquote>
<p><strong>Rx</strong> : np.array (2,1)</p>
<blockquote>
<div><p>Receipter coordinates</p>
</div></blockquote>
<p><strong>sr</strong> : boolean</p>
<blockquote>
<div><p>show room signature</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>fig</strong> : figure instance</p>
<p><strong>ax</strong> : axes instance</p>
<p class="last"><strong>lines</strong> : lines instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.show_layer">
<code class="descname">show_layer</code><span class="sig-paren">(</span><em>name</em>, <em>edlist=[]</em>, <em>alpha=1</em>, <em>width=0</em>, <em>color='black'</em>, <em>dnodes=False</em>, <em>dthin=False</em>, <em>dlabels=False</em>, <em>font_size=15</em>, <em>fGHz=[]</em>, <em>fig=[]</em>, <em>ax=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.show_layer" title="Permalink to this definition">¶</a></dt>
<dd><p>show layer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name :</strong></p>
<p><strong>edlist</strong> : []</p>
<p><strong>alpha</strong> : float</p>
<blockquote>
<div><p>transparency</p>
</div></blockquote>
<p><strong>width</strong> : int</p>
<blockquote>
<div><p>if width = 0 width depends on slab property</p>
</div></blockquote>
<p><strong>color</strong> : string</p>
<blockquote>
<div><p>default black&#8217;</p>
</div></blockquote>
<p><strong>dnodes :</strong></p>
<blockquote>
<div><p>display nodes (False )</p>
</div></blockquote>
<p><strong>dthin :</strong></p>
<blockquote>
<div><p>display thin ( False )</p>
</div></blockquote>
<p><strong>dlabels :</strong></p>
<blockquote>
<div><p>display labels ( False )</p>
</div></blockquote>
<p class="last"><strong>font_size</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.show_nodes">
<code class="descname">show_nodes</code><span class="sig-paren">(</span><em>ndlist=[100000000.0], size=10, color='b', dlabels=False, font_size=15, alpha=1, node_shape='o', fig=[], ax=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.show_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>show nodes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>ndlist</strong></p>
<p><strong>size</strong> : int</p>
<blockquote>
<div><p>default 10</p>
</div></blockquote>
<p><strong>color</strong> :  &#8216;b&#8217;</p>
<p><strong>dlabels</strong> : Boolean</p>
<blockquote>
<div><p>False</p>
</div></blockquote>
<p><strong>font_size</strong> : int</p>
<blockquote>
<div><p>15</p>
</div></blockquote>
<p><strong>alpha</strong> : float</p>
<blockquote class="last">
<div><p>transparancy</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.show_seg1">
<code class="descname">show_seg1</code><span class="sig-paren">(</span><em>edlist=[]</em>, <em>alpha=1</em>, <em>width=1</em>, <em>size=2</em>, <em>color='black'</em>, <em>font_size=15</em>, <em>dlabels=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.show_seg1" title="Permalink to this definition">¶</a></dt>
<dd><p>show segment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>edlist</strong></p>
<p><strong>alpha</strong></p>
<p><strong>width</strong></p>
<p><strong>size</strong></p>
<p><strong>color</strong></p>
<p><strong>font_size</strong></p>
<p class="last"><strong>dlabels</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.show_segment">
<code class="descname">show_segment</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.show_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>show segment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>edlist</strong> : list</p>
<blockquote>
<div><p>segment list</p>
</div></blockquote>
<p><strong>alpha</strong> : float</p>
<blockquote>
<div><p>transparency 0&lt; alpha &lt; 1</p>
</div></blockquote>
<p><strong>width</strong> : float</p>
<blockquote>
<div><p>line width (default 1)</p>
</div></blockquote>
<p><strong>color</strong> : string</p>
<blockquote>
<div><p>default &#8216;black&#8217;</p>
</div></blockquote>
<p><strong>dnodes</strong> : boolean</p>
<blockquote>
<div><p>display nodes ( Default False)</p>
</div></blockquote>
<p><strong>dlabels</strong> : boolean</p>
<blockquote>
<div><p>display labels ( Default False)</p>
</div></blockquote>
<p><strong>font_size</strong> : int</p>
<blockquote class="last">
<div><p>Default 15</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.signature">
<code class="descname">signature</code><span class="sig-paren">(</span><em>iTx</em>, <em>iRx</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.signature" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine signature between node iTx and node iRx</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cy1</strong> : int</p>
<blockquote>
<div><p>source cycle</p>
</div></blockquote>
<p><strong>cy2</strong> : int</p>
<blockquote>
<div><p>target cycle</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">sigarr    :</p>
<p class="last">signature :</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<dl class="last docutils">
<dt>This a temporary function</dt>
<dd>There is some algorithmic work to find the best way to determine signature
T4 : limit the ndt to only edges and nodes in visibility from Tx</dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.subseg">
<code class="descname">subseg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.subseg" title="Permalink to this definition">¶</a></dt>
<dd><p>establishes the association : name &lt;-&gt;  edgelist</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>dico</strong> : dict</p>
<blockquote class="last">
<div><p>sub segment name as key and segment number as value</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.thwall">
<code class="descname">thwall</code><span class="sig-paren">(</span><em>offx</em>, <em>offy</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.thwall" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a list of wall tuples (Transit.world format )</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>offx</strong></p>
<p><strong>offy</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>walls</strong> : list of wall tuples  (Transit format)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.gis.layout import *
&gt;&gt;&gt; L = Layout(&#39;DLR.ini&#39;)
&gt;&gt;&gt; walls = L.thwall(0,0)
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>vec</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>translate layout</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>loa   vec :</strong></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.updateshseg">
<code class="descname">updateshseg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.updateshseg" title="Permalink to this definition">¶</a></dt>
<dd><p>update shapely segment</p>
<p>build a shapely object for all segments</p>
<p>This function is called at the beginning of buildGt.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGt" title="pylayers.gis.layout.Layout.buildGt"><code class="xref py py-obj docutils literal"><span class="pre">buildGt</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.visi_papb">
<code class="descname">visi_papb</code><span class="sig-paren">(</span><em>pa</em>, <em>pb</em>, <em>edgelist=array([]</em>, <em>dtype=float64)</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.visi_papb" title="Permalink to this definition">¶</a></dt>
<dd><p>visi_papb : determine if pa and pb are in visibility for the structure graph</p>
<p>visi_papb(pa,pb,edgelist)</p>
<p>pa       : 1x2
pb       : 1x2
edgelist : exclusion edge list</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.visilist">
<code class="descname">visilist</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.visilist" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the list of nodes which are visible from point p</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>p</strong></p>
<blockquote class="last">
<div><p>np.array point</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>AAS = [0:2pi]
While (AAS != void set)</p>
<blockquote>
<div><blockquote>
<div><ol class="arabic simple">
<li>Find segment ns either
i)  the closest segment from p in AAS
ii) neighbor of prec(ns)</li>
<li>Find the edgelist visible from ns</li>
</ol>
</div></blockquote>
<dl class="docutils">
<dt>edgelist = vedgelist(ns)</dt>
<dd><ol class="first last arabic" start="3">
<li><p class="first">Check_occultation(p,ns,edgelist)
Occultation 8  situations
[p1,pM,p2] = [T,T,T]  : fully occulted</p>
<blockquote>
<div><p>[     ]    partially visible
[F,F,F]  : fully visible</p>
</div></blockquote>
</li>
<li><p class="first">Update Allowed Angular Sector  (AAS)</p>
</li>
</ol>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.waypointGw">
<code class="descname">waypointGw</code><span class="sig-paren">(</span><em>nroom1</em>, <em>nroom2</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.waypointGw" title="Permalink to this definition">¶</a></dt>
<dd><p>get the waypoint between room1 and room2</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>nroom1</strong></p>
<p class="last"><strong>nroom2</strong></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>nodes of Gw are no longer room number</p>
<p class="rubric">Examples</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from pylayers.gis.layout import *
&gt;&gt;&gt; L = Layout(&#39;TA-Office.lay&#39;)
&gt;&gt;&gt; L.build()
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.wedge">
<code class="descname">wedge</code><span class="sig-paren">(</span><em>lpnt</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.wedge" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate wedge angle of a point</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lpnt</strong> : list of int</p>
<blockquote class="last">
<div><p>list of point number</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.wedge2">
<code class="descname">wedge2</code><span class="sig-paren">(</span><em>apnt</em><span class="sig-paren">)</span><a class="headerlink" href="#pylayers.gis.layout.Layout.wedge2" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate wedge angle of a point</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>lpnt</strong> : array int</p>
<blockquote class="last">
<div><p>list of point number</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, PyLayers developer team.
      Last updated on Nov 08, 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>