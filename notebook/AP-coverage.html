<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Coverage with a Multi Wall model &mdash; PyLayers</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PyLayers" href="../index.html" /> 
  </head>
  <body>
<div style="color: black;background-color: white; font-size: 3.2em; text-align: left; padding: 15px 10px 10px 15px">
    PyLayers
<!--
<a href="../index.html"><img src="../_static/logo.png" height="200" border="0"
    alt="pylayers"/></a>
-->
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">PyLayers Home </a> |&nbsp;</li>
        <li><a href="index.html">Documentation </a> |&nbsp;</li>
        <li><a href="../download.html">Download </a> |&nbsp; </li>
        <li><a href="https://github.com/pylayers/">Developer (Github)</a> </li>
 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Coverage with a Multi Wall model</a></li>
<li><a class="reference internal" href="#calculating-received-power-coverage">Calculating Received Power Coverage</a><ul>
<li><a class="reference internal" href="#f-400-mhz">f = 400 MHz</a></li>
<li><a class="reference internal" href="#f-2-4ghz">f = 2.4GHz</a></li>
<li><a class="reference internal" href="#f-100-ghz">f = 100 GHz</a></li>
<li><a class="reference internal" href="#the-excess-delay-due-to-crossing-the-wall-can-also-be-evaluted">The excess delay due to crossing the wall can also be evaluted.</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/./AP-coverage.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="coverage-with-a-multi-wall-model">
<h1>Coverage with a Multi Wall model<a class="headerlink" href="#coverage-with-a-multi-wall-model" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div>Sometimes it might be useful to get a fast estimate about
propagation losses in an indoor environment. Ray tracing is
generally more time consuming and depending on the purpose of the
study, it could be relevant to proceed with a simpler approach while
staying site-specific. <tt class="docutils literal"><span class="pre">PyLayers</span></tt> provides such a tool which
heavily relies on the core module <tt class="docutils literal"><span class="pre">slab.py</span></tt></div></blockquote>
<p>First let&#8217;s import the <tt class="docutils literal"><span class="pre">coverage</span></tt> module</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pylayers.antprop.coverage</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">time</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>&lt;matplotlib.figure.Figure at 0x87f0f10&gt;
</pre></div>
</div>
<p>Instantiate a coverage object. By defaut, <tt class="docutils literal"><span class="pre">TA-Office.str</span></tt> layout
strucure is loaded.</p>
<p>This information can be modified in the <strong>coverage.ini</strong> file in the
project directory.</p>
<p>Below is an example of how the content of the file looks like</p>
<div class="highlight-python"><div class="highlight"><pre>!cat $BASENAME/ini/coverage.ini
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>[pl_model]
sigrss = 3.0
fGHz = 3.0
rssnp = 2.64
d0 = 1.0


[grid]
nx = 80
ny = 40
boundary = [20,0,30,20]
full = True

[layout]
filename = TA-Office.ini
;filename = W2PTIN.ini
;filename = Lstruc.str

[tx]
fGHz = 3.0
x = 25
y = 5
;transmitted power (dBm)
ptdbm = 0
; frame length in bytes
framelengthbytes = 50000

[rx]
sensitivity  = -80
bandwidthmhz = 3
temperaturek = 300
noisefactordb = 13

[show]
show = True
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Create a Coverage object from coverag.ini file</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">Coverage</span><span class="p">()</span>
</pre></div>
</div>
<p>The coverage object has a <tt class="docutils literal"><span class="pre">__repr__</span></tt> which summarizes the different
parameters of the current coverage object</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Layout file : TA-Office.ini

-----Tx------
tx (coord) : [25  5]
fghz : 3.0
Pt (dBm) : 0

-----Rx------
rxsens (dBm) : -80
bandwith (Mhz) : 3
temperature (K) : 300
noisefactor (dB) : 13

--- Grid ----
nx : 80
ny : 40
full grid : True
boundary (xmin,ymin,xmax,ymax) : [20, 0, 30, 20]

---- PL Model------
plm : {&#39;fghz&#39;: &#39;3.0&#39;, &#39;rssnp&#39;: &#39;2.64&#39;, &#39;d0&#39;: &#39;1.0&#39;, &#39;sigrss&#39;: &#39;3.0&#39;}
</pre></div>
</div>
<p>Then, the coverage calculation is launched by calling the <tt class="docutils literal"><span class="pre">cover()</span></tt>
method</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># evaluate coverage</span>
<span class="n">C</span><span class="o">.</span><span class="n">cover</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="calculating-received-power-coverage">
<h1>Calculating Received Power Coverage<a class="headerlink" href="#calculating-received-power-coverage" title="Permalink to this headline">¶</a></h1>
<p>Let display the current Layout with hidding nodes.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="o">.</span><span class="n">L</span><span class="o">.</span><span class="n">display</span><span class="p">[</span><span class="s">&#39;nodes&#39;</span><span class="p">]</span><span class="o">=</span><span class="bp">False</span>
<span class="n">C</span><span class="o">.</span><span class="n">L</span><span class="o">.</span><span class="n">display</span><span class="p">[</span><span class="s">&#39;ednodes&#39;</span><span class="p">]</span><span class="o">=</span><span class="bp">False</span>
<span class="n">C</span><span class="o">.</span><span class="n">L</span><span class="o">.</span><span class="n">showGs</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>(&lt;matplotlib.figure.Figure at 0xa0d3b90&gt;,
 &lt;matplotlib.axes.AxesSubplot at 0x9f85050&gt;)
</pre></div>
</div>
<img alt="../_images/AP-coverage_13_1.png" src="../_images/AP-coverage_13_1.png" />
<p>The shadowing map coverage results can be displayed by invoquing various
functions.</p>
<ul class="simple">
<li>showLoss : display the path loss</li>
<li>showPower : display the received powercover</li>
</ul>
<p>The following examples represent the estimated received power for 3
different frequencies</p>
<div class="section" id="f-400-mhz">
<h2>f = 400 MHz<a class="headerlink" href="#f-400-mhz" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="o">.</span><span class="n">fGHz</span><span class="o">=</span><span class="mf">0.400</span>
<span class="n">tic</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">C</span><span class="o">.</span><span class="n">cover</span><span class="p">()</span>
<span class="n">C</span><span class="o">.</span><span class="n">showPower</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="n">cmap</span><span class="o">=</span><span class="s">&#39;jet&#39;</span><span class="p">)</span>
<span class="n">toc</span> <span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&#39;Elapsed time : {0:.2f} seconds&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">toc</span><span class="o">-</span><span class="n">tic</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>/home/uguen/anaconda/lib/python2.7/site-packages/numpy/ma/core.py:3847: UserWarning: Warning: converting a masked element to nan.
  warnings.warn(&quot;Warning: converting a masked element to nan.&quot;)
</pre></div>
</div>
<img alt="../_images/AP-coverage_17_1.png" src="../_images/AP-coverage_17_1.png" />
<div class="highlight-python"><div class="highlight"><pre>Elapsed time : 1.33 seconds
</pre></div>
</div>
</div>
<div class="section" id="f-2-4ghz">
<h2>f = 2.4GHz<a class="headerlink" href="#f-2-4ghz" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="o">.</span><span class="n">fGHz</span><span class="o">=</span><span class="mf">2.4</span>
<span class="n">tic</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">C</span><span class="o">.</span><span class="n">cover</span><span class="p">()</span>
<span class="n">C</span><span class="o">.</span><span class="n">showPower</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="n">cmap</span><span class="o">=</span><span class="s">&#39;jet&#39;</span><span class="p">)</span>
<span class="n">toc</span> <span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&#39;Elapsed time : {0:.2f} seconds&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">toc</span><span class="o">-</span><span class="n">tic</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../_images/AP-coverage_19_0.png" src="../_images/AP-coverage_19_0.png" />
<div class="highlight-python"><div class="highlight"><pre>Elapsed time : 1.32 seconds
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="o">.</span><span class="n">fGHz</span><span class="o">=</span><span class="mf">2.4</span>
<span class="n">tic</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">C</span><span class="o">.</span><span class="n">cover</span><span class="p">()</span>
<span class="n">C</span><span class="o">.</span><span class="n">showPower</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="n">cmap</span><span class="o">=</span><span class="s">&#39;jet&#39;</span><span class="p">)</span>
<span class="n">toc</span> <span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&#39;Elapsed time : {0:.2f} seconds&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">toc</span><span class="o">-</span><span class="n">tic</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../_images/AP-coverage_20_0.png" src="../_images/AP-coverage_20_0.png" />
<div class="highlight-python"><div class="highlight"><pre>Elapsed time : 1.34 seconds
</pre></div>
</div>
<p>The transmitter coordinates are :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="o">.</span><span class="n">tx</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">array</span><span class="p">([</span><span class="mi">25</span><span class="p">,</span>  <span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
<p>This can be modified on the flight, and the coverage is updated
accordingly</p>
</div>
<div class="section" id="f-100-ghz">
<h2>f = 100 GHz<a class="headerlink" href="#f-100-ghz" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="o">.</span><span class="n">fGHz</span><span class="o">=</span><span class="mi">100</span>
<span class="n">C</span><span class="o">.</span><span class="n">tx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">((</span><span class="mi">21</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>

<span class="o">%</span><span class="n">timeit</span>
<span class="n">C</span><span class="o">.</span><span class="n">cover</span><span class="p">()</span>
<span class="n">C</span><span class="o">.</span><span class="n">showPower</span><span class="p">(</span><span class="n">polar</span><span class="o">=</span><span class="s">&#39;o&#39;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="n">cmap</span><span class="o">=</span><span class="s">&#39;jet&#39;</span><span class="p">)</span>
<span class="n">C</span><span class="o">.</span><span class="n">showPower</span><span class="p">(</span><span class="n">polar</span><span class="o">=</span><span class="s">&#39;p&#39;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="n">cmap</span><span class="o">=</span><span class="s">&#39;jet&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../_images/AP-coverage_25_0.png" src="../_images/AP-coverage_25_0.png" />
<img alt="../_images/AP-coverage_25_1.png" src="../_images/AP-coverage_25_1.png" />
<div class="highlight-python"><div class="highlight"><pre>(&lt;matplotlib.figure.Figure at 0x7f76e0fbadd0&gt;,
 &lt;matplotlib.axes.AxesSubplot at 0x7f76e0a07b10&gt;)
</pre></div>
</div>
</div>
<div class="section" id="the-excess-delay-due-to-crossing-the-wall-can-also-be-evaluted">
<h2>The excess delay due to crossing the wall can also be evaluted.<a class="headerlink" href="#the-excess-delay-due-to-crossing-the-wall-can-also-be-evaluted" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="o">.</span><span class="n">fGHz</span><span class="o">=</span><span class="mf">2.4</span>
<span class="n">tic</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">C</span><span class="o">.</span><span class="n">cover</span><span class="p">()</span>
<span class="n">C</span><span class="o">.</span><span class="n">showEd</span><span class="p">(</span><span class="n">polar</span><span class="o">=</span><span class="s">&#39;p&#39;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<img alt="../_images/AP-coverage_27_0.png" src="../_images/AP-coverage_27_0.png" />
<div class="highlight-python"><div class="highlight"><pre>(&lt;matplotlib.figure.Figure at 0x7f76e05a6f10&gt;,
 &lt;matplotlib.axes.AxesSubplot at 0x7f76e05a3b50&gt;)
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">PyLayers Home </a> |&nbsp;</li>
        <li><a href="index.html">Documentation </a> |&nbsp;</li>
        <li><a href="../download.html">Download </a> |&nbsp; </li>
        <li><a href="https://github.com/pylayers/">Developer (Github)</a> </li>
 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2014, PyLayers developer team.
      Last updated on mars 02, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34943220-1']);
  _gaq.push(['_setDomainName', 'pylayers.github.io']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })(); 
</script> 
 
  </body>
</html>