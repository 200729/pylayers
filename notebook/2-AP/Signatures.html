
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Ray Signatures &mdash; Python 1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="top" title="Python 1 documentation" href="../../index.html" />
    <link rel="up" title="1   Overview" href="../TOC.html" />
    <link rel="next" title="The transmission channel" href="Channel.html" />
    <link rel="prev" title="Coverage Motley Kennan" href="CoverageMetis.html" />
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34943220-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>
  <body role="document">

    <div class="header-wrapper">
      <div class="header">
          <p class="logo"><a href="../../index.html">
            <img src="../../_static/pylayers.png" alt="Logo"/>
          </a>
          </p><div class="navbar">
          <ul>
            <li><a href="../../download.html">Download</a></li>
            <li><a href="../TOC.html">User Guide</a></li>
            <li><a href="../../modules/pylayers.html">Reference</a></li>
       </ul>

<div class="search_form">

<div id="cse" style="width: 100%;"></div>
<script>
  (function() {
       var cx = '004820205189002234612:sa15qzuf2ca';
           var gcse = document.createElement('script');
               gcse.type = 'text/javascript';
                   gcse.async = true;
                       gcse.src = (document.location.protocol == 'https:' ?
                           'https:' : 'http:') +
                               '//cse.google.com/cse.js?cx=' + cx;
                                   var s =
                                   document.getElementsByTagName('script')[0];
                                       s.parentNode.insertBefore(gcse, s);
                                         })();
</script>
<gcse:search></gcse:search>
</div>
</div> <!-- end navbar --></div>
    </div>

    <div class="content-wrapper">

      <div class="sphinxsidebar">
	<div class="sphinxsidebarwrapper">
	  <div class="rel">
	   
	<!-- rellinks[1:] is an ugly hack to avoid link to module
	    index  -->
	<div class="rellink">
	<a href="CoverageMetis.html" title="Coverage Motley Kennan"
	    accesskey="P">Previous
	    <br>
	    <span class="smallrellink">
	    Coverage Motl...
	    </span>
	    <span class="hiddenrellink">
	    Coverage Motley Kennan
	    </span>
	    
	    </a>
	</div>
	    <div class="spacer">
	    &nbsp;
	    </div>
	
	<div class="rellink">
	<a href="Channel.html" title="The transmission channel"
	    accesskey="N">Next
	    <br>
	    <span class="smallrellink">
	    The transmiss...
	    </span>
	    <span class="hiddenrellink">
	    The transmission channel
	    </span>
	    
	    </a>
	</div>
	    <div class="spacer">
	    &nbsp;
	    </div>
	
	<div class="rellink">
	<a href="../../py-modindex.html" title="Python Module Index"
	    >Modules
	    <br>
	    <span class="smallrellink">
	    Python Module Index
	    </span>
	    <span class="hiddenrellink">
	    Python Module Index
	    </span>
	    
	    </a>
	</div>
	<!-- Ad a link to the 'up' page -->
	<div class="spacer">
	&nbsp;
	</div>
	<div class="rellink">
	<a href="../TOC.html" title="1   Overview" >
	Up
	<br>
	<span class="smallrellink">
	1   Overview
	</span>
	<span class="hiddenrellink">
	1   Overview
	</span>
	
	</a>
	</div>
    </div>
    <p style="text-align: center; background-color: #BFFFFF">This documentation is

    for Python <strong>version 1</strong>
    &mdash; <a href="https://github.com/pylayers/pylayers/archive/master.zip">Other versions</a></p>
    
    <h3>Citing</h3>
    <p>If you use the software, please consider
    <a href="../../about.html#citing-pylayers">citing pylayers</a>.</p>
    <h3>This page</h3>
	<ul>
<li><a class="reference internal" href="#">Ray Signatures</a></li>
</ul>

    
    </div>
	  </div>


      <div class="content">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ray-signatures">
<h1>Ray Signatures<a class="headerlink" href="#ray-signatures" title="Permalink to this headline">¶</a></h1>
<p>Signatures are calculated from a cycle to an other cycle of the Layout.
They are used for the determination of rays once the transmitter and
receiver are known.</p>
<p>The evaluation of a signature from one cycle to another is implemented
in the <code class="docutils literal"><span class="pre">pylayers.simul.antprop.signature.Signature</span></code> class.</p>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>import time

from pylayers.gis.layout import *

from pylayers.antprop.signature import *

from pylayers.antprop.rays import *

%matplotlib inline
</pre></div>
</div>
<p>Let load a simple Layout</p>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>L = Layout(&#39;defstr.ini&#39;)
L.build()
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>building Layout ...
check len(ncycles) == 2 passed
</pre></div>
</div>
<p>Showing the graph of rooms with 2 rooms separated by a DOOR segment</p>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>L.showG(&#39;sv&#39;,figsize=(8,8))

a=plt.axis(&#39;off&#39;)
</pre></div>
</div>
<img alt="../../_images/Signatures_5_0.png" src="../../_images/Signatures_5_0.png" />
<p>The graph of interactions is shown below.</p>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>L.showG(&#39;si&#39;,figsize=(10,5))

a=plt.axis(&#39;off&#39;)
</pre></div>
</div>
<img alt="../../_images/Signatures_7_0.png" src="../../_images/Signatures_7_0.png" />
<p>All the interactions of a given cycle are stored as meta information in
nodes of <code class="docutils literal"><span class="pre">Gt</span></code></p>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>L.Gi.node
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>{(-8,): {},
 (-7,): {},
 (-6,): {},
 (-4,): {},
 (-3,): {},
 (-1,): {},
 (1, 2): {},
 (1, 2, 5): {},
 (1, 5): {},
 (1, 5, 2): {},
 (2, 2): {},
 (2, 2, 5): {},
 (2, 5): {},
 (2, 5, 2): {},
 (3, 2): {},
 (3, 2, 5): {},
 (3, 5): {},
 (3, 5, 2): {},
 (4, 1): {},
 (4, 1, 2): {},
 (4, 2): {},
 (4, 2, 1): {},
 (5, 2): {},
 (5, 2, 4): {},
 (5, 4): {},
 (5, 4, 2): {},
 (6, 4): {},
 (6, 4, 5): {},
 (6, 5): {},
 (6, 5, 4): {},
 (7, 5): {},
 (7, 5, 6): {},
 (7, 6): {},
 (7, 6, 5): {},
 (8, 3): {},
 (8, 3, 5): {},
 (8, 5): {},
 (8, 5, 3): {},
 (9, 2): {},
 (9, 2, 3): {},
 (9, 3): {},
 (9, 3, 2): {},
 (15, 1, 3): {},
 (15, 3, 1): {},
 (19, 1, 4): {},
 (19, 4, 1): {},
 (26, 3, 6): {},
 (26, 6, 3): {},
 (28, 4, 6): {},
 (28, 6, 4): {}}
</pre></div>
</div>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>L.Gt.node[1][&#39;inter&#39;]
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>[(13, 1, 0),
 (13, 0, 1),
 (19, 1, 4),
 (19, 4, 1),
 (4, 1),
 (4, 1, 2),
 (4, 2, 1),
 (15, 1, 3),
 (15, 3, 1),
 (-3,),
 (-4,)]
</pre></div>
</div>
<p>The signature is calculated with as parameters the Layout object and two
cycle numbers. In example below it is 0 and 1.</p>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>Si = Signatures(L,1,2)
</pre></div>
</div>
<p>The cold start determination of the signature is done with a <code class="docutils literal"><span class="pre">run</span></code>
function. The code is not in its final shape here and there is room for
significant acceleration in incorporating propagation based heuristics.
The mitigation of graph exploration depth is done in setting a
<code class="docutils literal"><span class="pre">cutoff</span></code> value which limits the exploration in the interaction graph.</p>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>Si.run(cutoff=5,diffraction=False)
</pre></div>
</div>
<p>The representation method of a signature gives informations about the
different signatures. Signatures are grouped by number of interactions.</p>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>L.Gt.pos
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>{1: array([  757.7173913,  1113.75     ]),
 2: array([  761.  ,  1113.75]),
 3: array([  763.5       ,  1111.26347826]),
 4: array([  763.5       ,  1116.23652174]),
 5: array([  766.  ,  1113.75]),
 6: array([  769.2826087,  1113.75     ])}
</pre></div>
</div>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>ptx = np.array(L.Gt.pos[1])+np.random.rand(2)

prx = np.array(L.Gt.pos[2])+np.random.rand(2)

print ptx

print prx
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>[  758.5962911  1114.493502 ]
[  761.41018597  1114.17698019]
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
        <div class="clearer"></div>
      </div>
    </div>
  

    <div class="footer">
        &copy; 2016, PyLayers developer team.
      Last updated on Sep 19, 2017.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.5a0. Design by <a href="http://desgrana.es">Desgrana</a>.
    <span style="padding-left: 5ex;">
    <a href="../../_sources/notebook/2-AP/Signatures.rst.txt"
	    rel="nofollow">Show this page source</a>
    </span>
    </div>
     <div class="rel">
    
    <div class="buttonPrevious">
      <a href="CoverageMetis.html">
        Previous
      </a>  
    </div>
    <div class="buttonNext">
      <a href="Channel.html">
        Next
      </a>  
    </div>
    <div class="buttonPrevious">
      <a href="../../py-modindex.html">
        Previous
      </a>  
    </div>
    
     </div>
     <script type="text/javascript">
       $("div.buttonNext, div.buttonPrevious").hover(
           function () {
               $(this).css('background-color', '#AFFFFF');
           },
           function () {
               $(this).css('background-color', '#AFFFFF');
           }
       );
     </script>
  </body>
</html>