
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>WHERE1 UWB Measurement campaign M1 &mdash; Python 1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="top" title="Python 1 documentation" href="../../index.html" />
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34943220-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>
  <body>

    <div class="header-wrapper">
      <div class="header">
          <p class="logo"><a href="../../index.html">
            <img src="../../_static/pylayers.png" alt="Logo"/>
          </a>
          </p><div class="navbar">
          <ul>
            <li><a href="../../download.html">Download</a></li>
            <li><a href="../TOC.html">User Guide</a></li>
            <li><a href="../../modules/pylayers.html">Reference</a></li>
       </ul>

<div class="search_form">

<div id="cse" style="width: 100%;"></div>
<script>
  (function() {
       var cx = '004820205189002234612:sa15qzuf2ca';
           var gcse = document.createElement('script');
               gcse.type = 'text/javascript';
                   gcse.async = true;
                       gcse.src = (document.location.protocol == 'https:' ?
                           'https:' : 'http:') +
                               '//cse.google.com/cse.js?cx=' + cx;
                                   var s =
                                   document.getElementsByTagName('script')[0];
                                       s.parentNode.insertBefore(gcse, s);
                                         })();
</script>
<gcse:search></gcse:search>
</div>
</div> <!-- end navbar --></div>
    </div>

    <div class="content-wrapper">

      <div class="sphinxsidebar">
	<div class="sphinxsidebarwrapper">
	   <div class="rel rellarge">
	     
	<!-- rellinks[1:] is an ugly hack to avoid link to module
	    index  -->
	<!-- Ad a link to the 'up' page -->
    </div>
    <p style="text-align: center; background-color: #BFFFFF">This documentation is

    for Python <strong>version 1</strong>
    &mdash; <a href="https://github.com/pylayers/pylayers/archive/master.zip">Other versions</a></p>
    
    <h3>Citing</h3>
    <p>If you use the software, please consider
    <a href="../../about.html#citing-pylayers">citing pylayers</a>.</p>
    <h3>This page</h3>
	<ul>
<li><a class="reference internal" href="#">WHERE1 UWB Measurement campaign M1</a></li>
</ul>

    
    </div>
	  </div>


      <div class="content">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="where1-uwb-measurement-campaign-m1">
<h1>WHERE1 UWB Measurement campaign M1<a class="headerlink" href="#where1-uwb-measurement-campaign-m1" title="Permalink to this headline">Â¶</a></h1>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.measures.mesuwb</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.simul.link</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.signal.waveform</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>First of all, we load the Layout of the environment. If the Layout
associated graphs have already been built, one can load them with the
<tt class="docutils literal"><span class="pre">dumpr()</span></tt> method.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="s">&#39;WHERE1.ini&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="o">.</span><span class="n">dumpr</span><span class="p">()</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">td1</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">td2</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">td3</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">td4</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">te1</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">te2</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">te3</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">te4</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">tt1</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">tt2</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">tt3</span>
<span class="gp">... </span>    <span class="k">del</span> <span class="n">tt4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">except</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">pass</span>
</pre></div>
</div>
<p>The UWB measure from the WHERE1 project are handled in the class
<tt class="docutils literal"><span class="pre">UWBMeasure</span></tt></p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">K</span><span class="o">=</span><span class="n">UWBMeasure</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>The delays associated with the 4 links are obatained directly</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">K</span><span class="o">.</span><span class="n">de</span>
<span class="go">array([ 46.19349565,  23.96692223,  71.6705632 ,  55.09300165])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">array</span><span class="p">([</span> <span class="mf">46.19349565</span><span class="p">,</span>  <span class="mf">23.96692223</span><span class="p">,</span>  <span class="mf">71.6705632</span> <span class="p">,</span>  <span class="mf">55.09300165</span><span class="p">])</span>
</pre></div>
</div>
<p>As well as more information if needed.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">K</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
<span class="go">Date_Time : [u&#39;31-Jul-2008 08:17:50&#39;]</span>
<span class="go">Tx_height : [u&#39;120cm&#39;]</span>
<span class="go">Tx_position : [u&#39;P010&#39;]</span>
<span class="go">Tx :  [-25.3654  12.304    1.2   ]</span>
<span class="go">------Tx1 ------</span>
<span class="go">delays     (ns): 46.1934956511</span>
<span class="go">range  (meters): 13.8580486953</span>
<span class="go">visibility     : NLOS2</span>
<span class="go">angular (degree)  : 2.80776139034</span>
<span class="go">LQI Meth1 12.7383607831  (dB)</span>
<span class="go">LQI Meth2 -1.2959656826  (dB)</span>
<span class="go">------Tx2 ------</span>
<span class="go">delays     (ns): 23.9669222261</span>
<span class="go">range  (meters): 7.19007666782</span>
<span class="go">visibility     : NLOS2</span>
<span class="go">angular (degree)  : 3.55280136793</span>
<span class="go">LQI Meth1 21.4526880977  (dB)</span>
<span class="go">LQI Meth2 5.56578610451  (dB)</span>
<span class="go">------Tx3 ------</span>
<span class="go">delays     (ns): 71.6705632005</span>
<span class="go">range  (meters): 21.5011689601</span>
<span class="go">visibility     : NLOS2</span>
<span class="go">angular (degree)  : 2.98073648115</span>
<span class="go">LQI Meth1 11.5021659794  (dB)</span>
<span class="go">LQI Meth2 4.23241262908  (dB)</span>
<span class="go">------Tx4 ------</span>
<span class="go">delays     (ns): 55.0930016539</span>
<span class="go">range  (meters): 16.5279004962</span>
<span class="go">visibility     : NLOS</span>
<span class="go">angular (degree)  : 3.31710006758</span>
<span class="go">LQI Meth1 28.2789637953  (dB)</span>
<span class="go">LQI Meth2 4.89658815244  (dB)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>  File &quot;&lt;ipython-input-6-4b703fad5eb6&gt;&quot;, line 2
    Date_Time : [u&#39;31-Jul-2008 08:17:50&#39;]
              ^
SyntaxError: invalid syntax
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c">### Simulation section</span>
<span class="gp">... </span><span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">,</span><span class="n">a</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">delay</span><span class="o">=</span><span class="n">K</span><span class="o">.</span><span class="n">de</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/Wheresimple_11_0.png" src="../../_images/Wheresimple_11_0.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c">#toa1 = K.toa_new()</span>
<span class="gp">... </span><span class="c">#toa2 = K.toa_th(1e-1,1e-1)</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">K</span><span class="o">.</span><span class="n">tau_Emax</span><span class="p">()</span>
<span class="go">array([[ 0.,  0.,  0., ...,  0.,  0.,  0.],</span>
<span class="go">       [ 0.,  0.,  0., ...,  0.,  0.,  0.],</span>
<span class="go">       [ 0.,  0.,  0., ...,  0.,  0.,  0.],</span>
<span class="go">       [ 0.,  0.,  0., ...,  0.,  0.,  0.]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>  File &quot;&lt;ipython-input-9-65d660e0cd33&gt;&quot;, line 2
    array([[ 0.,  0.,  0., ...,  0.,  0.,  0.],
                           ^
SyntaxError: invalid syntax
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">K</span><span class="o">.</span><span class="n">rx</span><span class="p">))</span>
<span class="go">array([[  0.    ,   0.    ,   1.2   ],</span>
<span class="go">       [-12.2724,   7.7632,   1.2   ],</span>
<span class="go">       [-18.7747,  15.178 ,   1.2   ],</span>
<span class="go">       [ -4.1418,   8.8603,   1.2   ],</span>
<span class="go">       [ -9.0914,  15.1899,   1.2   ]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">array</span><span class="p">([[</span>  <span class="mf">0.</span>    <span class="p">,</span>   <span class="mf">0.</span>    <span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">12.2724</span><span class="p">,</span>   <span class="mf">7.7632</span><span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">18.7747</span><span class="p">,</span>  <span class="mf">15.178</span> <span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">],</span>
       <span class="p">[</span> <span class="o">-</span><span class="mf">4.1418</span><span class="p">,</span>   <span class="mf">8.8603</span><span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">],</span>
       <span class="p">[</span> <span class="o">-</span><span class="mf">9.0914</span><span class="p">,</span>  <span class="mf">15.1899</span><span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">]])</span>
</pre></div>
</div>
<p>The code below reads data from the M1-WHERE2 measurement campaign.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">=</span><span class="n">UWBMeasure</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">300</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">M</span>  <span class="o">=</span> <span class="n">UWBMeasure</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">except</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">break</span>
<span class="gp">... </span>    <span class="n">tx</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">tx</span>
<span class="gp">... </span>    <span class="n">D</span>  <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">rx</span><span class="o">-</span><span class="n">tx</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">,:]</span>
<span class="gp">... </span>    <span class="n">D2</span> <span class="o">=</span> <span class="n">D</span><span class="o">*</span><span class="n">D</span>
<span class="gp">... </span>    <span class="n">dist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">D2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))[</span><span class="mi">1</span><span class="p">:]</span>
<span class="gp">... </span>    <span class="n">Emax</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">Emax</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">Etot</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">Etot</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">... </span>    <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">td1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">td1</span><span class="p">,</span><span class="n">dist</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="gp">... </span>        <span class="n">td2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">td2</span><span class="p">,</span><span class="n">dist</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="gp">... </span>        <span class="n">td3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">td3</span><span class="p">,</span><span class="n">dist</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
<span class="gp">... </span>        <span class="n">td4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">td4</span><span class="p">,</span><span class="n">dist</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">... </span>        <span class="n">te1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">te1</span><span class="p">,</span><span class="n">Emax</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="gp">... </span>        <span class="n">te2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">te2</span><span class="p">,</span><span class="n">Emax</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="gp">... </span>        <span class="n">te3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">te3</span><span class="p">,</span><span class="n">Emax</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
<span class="gp">... </span>        <span class="n">te4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">te4</span><span class="p">,</span><span class="n">Emax</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">... </span>        <span class="n">tt1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">tt1</span><span class="p">,</span><span class="n">Etot</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="gp">... </span>        <span class="n">tt2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">tt2</span><span class="p">,</span><span class="n">Etot</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="gp">... </span>        <span class="n">tt3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">tt3</span><span class="p">,</span><span class="n">Etot</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
<span class="gp">... </span>        <span class="n">tt4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">tt4</span><span class="p">,</span><span class="n">Etot</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span>
<span class="gp">... </span>        <span class="c">#tdist = np.hstack((tdist,dist))</span>
<span class="gp">... </span>        <span class="c">#te = np.hstack((te,Emax))</span>
<span class="gp">... </span>    <span class="k">except</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">td1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">... </span>        <span class="n">td2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dist</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">... </span>        <span class="n">td3</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dist</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">... </span>        <span class="n">td4</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dist</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">... </span>        <span class="n">te1</span> <span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Emax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">... </span>        <span class="n">te2</span> <span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Emax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">... </span>        <span class="n">te3</span> <span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Emax</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">... </span>        <span class="n">te4</span> <span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Emax</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">... </span>        <span class="n">tt1</span> <span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Etot</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">... </span>        <span class="n">tt2</span> <span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Etot</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">... </span>        <span class="n">tt3</span> <span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Etot</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">... </span>        <span class="n">tt4</span> <span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Etot</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
<p>The IR-UWB applied waweform is available in the raw data structure and
can be extracted as follow. This exracttion is important in order to
proceeed to the ray tracing simulation with the same waveform as the one
used in the measurement campaign.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">td1</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-13-479d13f50eb4&gt; in &lt;module&gt;()
----&gt; 1 td1


NameError: name &#39;td1&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.signal.bsignal</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">=</span><span class="n">M</span><span class="o">.</span><span class="n">RAW_DATA</span><span class="o">.</span><span class="n">tx</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">=</span><span class="n">M</span><span class="o">.</span><span class="n">RAW_DATA</span><span class="o">.</span><span class="n">timetx</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mf">1e9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;time (ns)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">se</span><span class="o">=</span><span class="n">TUsignal</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/Wheresimple_20_0.png" src="../../_images/Wheresimple_20_0.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">te</span> <span class="o">=</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">s</span><span class="o">*</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">E</span> <span class="o">=</span> <span class="n">cs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">te</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">EdB</span> <span class="o">=</span> <span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">E</span><span class="o">*</span><span class="mi">30</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">EdB</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">E</span><span class="o">*</span><span class="mi">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">use</span> <span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="n">E</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">use</span>
<span class="go">-10.2361907016</span>
<span class="go">0.0947067492189</span>
<span class="go">316.767286888</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="o">-</span><span class="mf">10.2361907016</span>
<span class="mf">0.0947067492189</span>
<span class="mf">316.767286888</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="mf">316.767286888</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">E2</span><span class="o">=</span><span class="n">se</span><span class="o">.</span><span class="n">Emax</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">E2</span><span class="o">*</span><span class="mi">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">E2dB</span><span class="o">=</span><span class="mi">10</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">E2</span><span class="o">*</span><span class="mi">30</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">E2dB</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>AttributeErrorTraceback (most recent call last)

&lt;ipython-input-16-b3aec4f6e3ab&gt; in &lt;module&gt;()
----&gt; 1 E2=se.Emax()
      2 print E2*30
      3 E2dB=10*np.log10(E2*30)
      4 print E2dB


AttributeError: &#39;TUsignal&#39; object has no attribute &#39;Emax&#39;
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">se</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">typ</span><span class="o">=</span><span class="s">&#39;v&#39;</span><span class="p">)</span>
<span class="go">(&lt;matplotlib.figure.Figure at 0x7f1da9c88410&gt;,</span>
<span class="go"> array([[&lt;matplotlib.axes._subplots.AxesSubplot object at 0x7f1da9da1c10&gt;]], dtype=object))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>  File &quot;&lt;ipython-input-17-5f085613f54b&gt;&quot;, line 2
    (&lt;matplotlib.figure.Figure at 0x7f1da9c88410&gt;,
     ^
SyntaxError: invalid syntax
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">td1</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-18-479d13f50eb4&gt; in &lt;module&gt;()
----&gt; 1 td1


NameError: name &#39;td1&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="n">td1</span><span class="p">,</span><span class="n">te1</span><span class="o">+</span><span class="n">EdB</span><span class="p">,</span><span class="s">&#39;.r&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s">&#39;Rx1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="n">td2</span><span class="p">,</span><span class="n">te2</span><span class="o">+</span><span class="n">EdB</span><span class="p">,</span><span class="s">&#39;.b&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s">&#39;Rx2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="n">td3</span><span class="p">,</span><span class="n">te3</span><span class="o">+</span><span class="n">EdB</span><span class="p">,</span><span class="s">&#39;.g&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s">&#39;Rx3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="n">td4</span><span class="p">,</span><span class="n">te4</span><span class="o">+</span><span class="n">EdB</span><span class="p">,</span><span class="s">&#39;.c&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s">&#39;Rx4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LFS</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="mf">32.4</span><span class="o">+</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">+</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">d</span><span class="p">))</span><span class="o">-</span><span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="n">LFS</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-19-c8c2d113d203&gt; in &lt;module&gt;()
      1 fig = plt.figure(figsize=(16,6))
      2 ax = fig.add_subplot(111)
----&gt; 3 ax.semilogx(td1,te1+EdB,&#39;.r&#39;,label=&#39;Rx1&#39;)
      4 ax.semilogx(td2,te2+EdB,&#39;.b&#39;,label=&#39;Rx2&#39;)
      5 ax.semilogx(td3,te3+EdB,&#39;.g&#39;,label=&#39;Rx3&#39;)


NameError: name &#39;td1&#39; is not defined
</pre></div>
</div>
<img alt="../../_images/Wheresimple_25_1.png" src="../../_images/Wheresimple_25_1.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="n">td1</span><span class="p">,</span><span class="n">tt1</span><span class="o">+</span><span class="n">EdB</span><span class="p">,</span><span class="s">&#39;.r&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s">&#39;Rx1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="n">td2</span><span class="p">,</span><span class="n">tt2</span><span class="o">+</span><span class="n">EdB</span><span class="p">,</span><span class="s">&#39;.b&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s">&#39;Rx2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="n">td3</span><span class="p">,</span><span class="n">tt3</span><span class="o">+</span><span class="n">EdB</span><span class="p">,</span><span class="s">&#39;.g&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s">&#39;Rx3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="n">td4</span><span class="p">,</span><span class="n">tt4</span><span class="o">+</span><span class="n">EdB</span><span class="p">,</span><span class="s">&#39;.c&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s">&#39;Rx4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LFS</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="mf">32.4</span><span class="o">+</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">+</span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">d</span><span class="p">))</span><span class="o">-</span><span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="n">LFS</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-20-73bd51aacab9&gt; in &lt;module&gt;()
      1 fig = plt.figure(figsize=(16,6))
      2 ax = fig.add_subplot(111)
----&gt; 3 ax.semilogx(td1,tt1+EdB,&#39;.r&#39;,label=&#39;Rx1&#39;)
      4 ax.semilogx(td2,tt2+EdB,&#39;.b&#39;,label=&#39;Rx2&#39;)
      5 ax.semilogx(td3,tt3+EdB,&#39;.g&#39;,label=&#39;Rx3&#39;)


NameError: name &#39;td1&#39; is not defined
</pre></div>
</div>
<img alt="../../_images/Wheresimple_26_1.png" src="../../_images/Wheresimple_26_1.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">Etot</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>IndexErrorTraceback (most recent call last)

&lt;ipython-input-21-4c54b027f6b5&gt; in &lt;module&gt;()
----&gt; 1 M.Etot()


/home/uguen/Documents/rch/devel/pylayers/pylayers/measures/mesuwb.pyc in Etot(self, toffns, tdns, dB)
   1977         de2 = self.de[2] + toffns
   1978         de3 = self.de[3] + toffns
-&gt; 1979         Etot1 = self.tdd.ch1.Etot(de0, de0 + tdns)
   1980         Etot2 = self.tdd.ch2.Etot(de1, de1 + tdns)
   1981         Etot3 = self.tdd.ch3.Etot(de2, de2 + tdns)


/home/uguen/Documents/rch/devel/pylayers/pylayers/antprop/channel.pyc in Etot(self, tau0, taumax, dB)
    787         &quot;&quot;&quot;
    788         u = (self.x &gt; tau0) &amp; (self.x &lt; taumax)
--&gt; 789         etot = self.dx() * sum(self.y[u] * np.conj(self.y[u]))
    790         if dB:
    791             etot = 10 * np.log10(etot)


IndexError: index 8646 is out of bounds for axis 0 with size 1
</pre></div>
</div>
<p>On choisit un index pour Tx et Rx</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c">#measure id</span>
<span class="gp">... </span><span class="n">tx_id</span> <span class="o">=</span> <span class="mi">100</span> <span class="c">#in M.valid_index</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rx_id</span> <span class="o">=</span> <span class="mi">2</span> <span class="c">#1,2,3,4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">=</span><span class="n">UWBMeasure</span><span class="p">(</span><span class="n">tx_id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TX</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">tx</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">RX</span> <span class="o">=</span><span class="n">M</span><span class="o">.</span><span class="n">rx</span><span class="p">[</span><span class="n">rx_id</span><span class="p">]</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">TX</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">22.3797</span><span class="p">,</span>  <span class="mf">13.3897</span><span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">])</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">rx</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">array</span><span class="p">([[</span>  <span class="mf">0.</span>    <span class="p">,</span>   <span class="mf">0.</span>    <span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">12.2724</span><span class="p">,</span>   <span class="mf">7.7632</span><span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">18.7747</span><span class="p">,</span>  <span class="mf">15.178</span> <span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">],</span>
       <span class="p">[</span> <span class="o">-</span><span class="mf">4.1418</span><span class="p">,</span>   <span class="mf">8.8603</span><span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">],</span>
       <span class="p">[</span> <span class="o">-</span><span class="mf">9.0914</span><span class="p">,</span>  <span class="mf">15.1899</span><span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">]])</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="o">.</span><span class="n">showG</span><span class="p">(</span><span class="s">&#39;s&#39;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">TX</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">TX</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="s">&#39;ob&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">RX</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">RX</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="s">&#39;or&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;TOF = &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">((</span><span class="n">TX</span><span class="o">-</span><span class="n">RX</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span><span class="o">/</span><span class="mf">0.3</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>&lt;matplotlib.text.Text at 0x7f86c89c3f50&gt;
</pre></div>
</div>
<img alt="../../_images/Wheresimple_32_1.png" src="../../_images/Wheresimple_32_1.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">TX</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">22.3797</span><span class="p">,</span>  <span class="mf">13.3897</span><span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">])</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">RX</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">18.7747</span><span class="p">,</span>  <span class="mf">15.178</span> <span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">])</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c">#Lk = DLink()</span>
<span class="gp">... </span><span class="n">Lk</span> <span class="o">=</span> <span class="n">DLink</span><span class="p">(</span><span class="n">L</span><span class="o">=</span><span class="n">L</span><span class="p">,</span><span class="n">a</span><span class="o">=</span><span class="n">TX</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="n">RX</span><span class="p">,</span><span class="n">cutoff</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Lk</span><span class="o">.</span><span class="n">Aa</span><span class="o">=</span><span class="n">Antenna</span><span class="p">(</span><span class="s">&#39;defant.vsh3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Lk</span><span class="o">.</span><span class="n">Ab</span><span class="o">=</span><span class="n">Antenna</span><span class="p">(</span><span class="s">&#39;defant.vsh3&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>building Layout ...
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>MultipleInstanceErrorTraceback (most recent call last)

&lt;ipython-input-28-6282203ae045&gt; in &lt;module&gt;()
      1 #Lk = DLink()
----&gt; 2 Lk = DLink(L=L,a=TX,b=RX,cutoff=4,verbose=False)
      3 Lk.Aa=Antenna(&#39;defant.vsh3&#39;)
      4 Lk.Ab=Antenna(&#39;defant.vsh3&#39;)


/home/uguen/Documents/rch/devel/pylayers/pylayers/simul/link.pyc in __init__(self, **kwargs)
    348         Link.__init__(self)
    349
--&gt; 350         defaults={ &#39;L&#39;:Layout(),
    351                    &#39;a&#39;:np.array(()),
    352                    &#39;b&#39;:np.array(()),


/home/uguen/Documents/rch/devel/pylayers/pylayers/gis/layout.pyc in __init__(self, _filename, _filematini, _fileslabini, _filefur, force, check, build, verbose)
    422
    423
--&gt; 424         self.load(_filename,build=build)
    425
    426


/home/uguen/Documents/rch/devel/pylayers/pylayers/gis/layout.pyc in load(self, _filename, build)
   1624                     # if ans.lower()==&#39;y&#39;:
   1625
-&gt; 1626                     self.build()
   1627                     self.lbltg.append(&#39;s&#39;)
   1628                     self.dumpw()


/home/uguen/Documents/rch/devel/pylayers/pylayers/gis/layout.pyc in build(self, graph, verbose)
   4786             if verbose:
   4787                 print &quot;Gv&quot;
-&gt; 4788             self.buildGv()
   4789             self.lbltg.extend(&#39;v&#39;)
   4790


/home/uguen/Documents/rch/devel/pylayers/pylayers/gis/layout.pyc in buildGv(self, show)
   7065                 for idiff in ndiffvalid:
   7066
-&gt; 7067                     import ipdb
   7068                     # ipdb.set_trace()
   7069                     # if (icycle==2) &amp; (idiff==-2399):


/home/uguen/anaconda2/lib/python2.7/site-packages/ipdb/__init__.py in &lt;module&gt;()
      5 # https://opensource.org/licenses/BSD-3-Clause
      6
----&gt; 7 from ipdb.__main__ import set_trace, post_mortem, pm, run             # noqa
      8 from ipdb.__main__ import runcall, runeval, launch_ipdb_on_exception  # noqa
      9


/home/uguen/anaconda2/lib/python2.7/site-packages/ipdb/__main__.py in &lt;module&gt;()
     56     # the instance method will create a new one without loading the config.
     57     # i.e: if we are in an embed instance we do not want to load the config.
---&gt; 58     ipapp = TerminalIPythonApp.instance()
     59     shell = get_ipython()
     60     def_colors = shell.colors


/home/uguen/anaconda2/lib/python2.7/site-packages/traitlets/config/configurable.pyc in instance(cls, *args, **kwargs)
    414             raise MultipleInstanceError(
    415                 &#39;Multiple incompatible subclass instances of &#39;
--&gt; 416                 &#39;%s are being created.&#39; % cls.__name__
    417             )
    418


MultipleInstanceError: Multiple incompatible subclass instances of TerminalIPythonApp are being created.
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Lk</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;ray&#39;</span><span class="p">,</span><span class="s">&#39;Ct&#39;</span><span class="p">,</span><span class="s">&#39;H&#39;</span><span class="p">],</span><span class="n">alg</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#f,a = Lk.show(rays=True,labels=False)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-29-213fa5db2653&gt; in &lt;module&gt;()
----&gt; 1 Lk.eval(force=[&#39;ray&#39;,&#39;Ct&#39;,&#39;H&#39;],alg=5)
      2 #f,a = Lk.show(rays=True,labels=False)


NameError: name &#39;Lk&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c">#%timeit Lk.eval(force=True,alg=7,cutoff=3)</span>
<span class="gp">... </span><span class="c">#f,a = Lk.show(rays=True,labels=False)</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Lk</span><span class="o">.</span><span class="n">R</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-31-dd2218c56595&gt; in &lt;module&gt;()
----&gt; 1 Lk.R


NameError: name &#39;Lk&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c">#%timeit Lk.eval(force=True,alg=7,threshold=0.01)</span>
<span class="gp">... </span><span class="c">#f,a = Lk.show(rays=True,labels=False)</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Lk</span><span class="o">.</span><span class="n">Si</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-33-fbcd3fa4b286&gt; in &lt;module&gt;()
----&gt; 1 Lk.Si.keys()


NameError: name &#39;Lk&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">U</span><span class="o">=</span><span class="n">Lk</span><span class="o">.</span><span class="n">R</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="s">&#39;sig2d&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-34-7127f05a2d76&gt; in &lt;module&gt;()
----&gt; 1 U=Lk.R[4][&#39;sig2d&#39;][0]


NameError: name &#39;Lk&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">U</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-35-c88df2aeda9a&gt; in &lt;module&gt;()
----&gt; 1 print U.shape


NameError: name &#39;U&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">U</span><span class="p">[:,:,</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">s1</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-36-03b545538d6b&gt; in &lt;module&gt;()
----&gt; 1 s1 = U[:,:,0]
      2 print s1


NameError: name &#39;U&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.antprop.signature</span> <span class="kn">import</span> <span class="n">Signature</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">S</span><span class="o">=</span><span class="n">Signature</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-38-e7330839f958&gt; in &lt;module&gt;()
----&gt; 1 S=Signature(s1)


NameError: name &#39;s1&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">S</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-39-65db27307aa0&gt; in &lt;module&gt;()
----&gt; 1 S


NameError: name &#39;S&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">wav</span> <span class="o">=</span> <span class="n">Waveform</span><span class="p">(</span><span class="n">typ</span><span class="o">=</span><span class="s">&#39;W1compensate&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">wav</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>IndexErrorTraceback (most recent call last)

&lt;ipython-input-41-8d4639290888&gt; in &lt;module&gt;()
----&gt; 1 wav.show()


/home/uguen/Documents/rch/devel/pylayers/pylayers/signal/waveform.pyc in show(self, fig)
    382         #plt.title(title)
    383         ax1 = fig.add_subplot(2,1,1)
--&gt; 384         ax1.plot(self.st.x,self.st.y[0,:])
    385         plt.xlabel(&#39;time (ns)&#39;)
    386         plt.ylabel(&#39;level in linear scale&#39;)


IndexError: too many indices for array
</pre></div>
</div>
<img alt="../../_images/Wheresimple_48_1.png" src="../../_images/Wheresimple_48_1.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c">#ir = Lk.H.applywavB(wav.sfg)</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Lk</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">isFriis</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-43-7614e9090bba&gt; in &lt;module&gt;()
----&gt; 1 Lk.H.isFriis


NameError: name &#39;Lk&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">Lk</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">isFriis</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">ir</span> <span class="o">=</span> <span class="n">Lk</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">applywavB</span><span class="p">(</span><span class="n">wav</span><span class="o">.</span><span class="n">sf</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">ir</span> <span class="o">=</span> <span class="n">Lk</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">applywavB</span><span class="p">(</span><span class="n">wav</span><span class="o">.</span><span class="n">sfg</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-44-4083ce0b2310&gt; in &lt;module&gt;()
----&gt; 1 if Lk.H.isFriis:
      2     ir = Lk.H.applywavB(wav.sf)
      3 else:
      4     ir = Lk.H.applywavB(wav.sfg)


NameError: name &#39;Lk&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Lk</span><span class="o">.</span><span class="n">R</span><span class="o">.</span><span class="n">los</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-45-c0cdcab44e2f&gt; in &lt;module&gt;()
----&gt; 1 Lk.R.los


NameError: name &#39;Lk&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Lk</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">ak</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-46-ab86c1ac1316&gt; in &lt;module&gt;()
----&gt; 1 Lk.H.ak


NameError: name &#39;Lk&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Lk</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">taud</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-47-a65c1ec8a0a6&gt; in &lt;module&gt;()
----&gt; 1 Lk.H.taud


NameError: name &#39;Lk&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">=</span><span class="n">Lk</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">ift</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-48-0f2260ad659d&gt; in &lt;module&gt;()
----&gt; 1 G=Lk.H.ift()


NameError: name &#39;Lk&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">tdd</span><span class="o">.</span><span class="n">ch2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">typ</span><span class="o">=</span><span class="s">&#39;v&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">130</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">130</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/Wheresimple_56_1.png" src="../../_images/Wheresimple_56_1.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">tx</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">22.3797</span><span class="p">,</span>  <span class="mf">13.3897</span><span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">])</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">M</span><span class="o">.</span><span class="n">rx</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">array</span><span class="p">([[</span>  <span class="mf">0.</span>    <span class="p">,</span>   <span class="mf">0.</span>    <span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">12.2724</span><span class="p">,</span>   <span class="mf">7.7632</span><span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">18.7747</span><span class="p">,</span>  <span class="mf">15.178</span> <span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">],</span>
       <span class="p">[</span> <span class="o">-</span><span class="mf">4.1418</span><span class="p">,</span>   <span class="mf">8.8603</span><span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">],</span>
       <span class="p">[</span> <span class="o">-</span><span class="mf">9.0914</span><span class="p">,</span>  <span class="mf">15.1899</span><span class="p">,</span>   <span class="mf">1.2</span>   <span class="p">]])</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">((</span><span class="n">M</span><span class="o">.</span><span class="n">tx</span><span class="o">-</span><span class="n">M</span><span class="o">.</span><span class="n">rx</span><span class="p">[</span><span class="mi">3</span><span class="p">,:])</span><span class="o">*</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">tx</span><span class="o">-</span><span class="n">M</span><span class="o">.</span><span class="n">rx</span><span class="p">[</span><span class="mi">3</span><span class="p">,:]),</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span><span class="o">/</span><span class="mf">0.3</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="mf">62.639751380717335</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Lk</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">ak</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-53-ab86c1ac1316&gt; in &lt;module&gt;()
----&gt; 1 Lk.H.ak


NameError: name &#39;Lk&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Lk</span><span class="o">.</span><span class="n">wav</span><span class="o">=</span><span class="n">wav</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-54-b1309bad8a92&gt; in &lt;module&gt;()
----&gt; 1 Lk.wav=wav


NameError: name &#39;Lk&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ir</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">typ</span><span class="o">=</span><span class="s">&#39;v&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-55-a7f16e271894&gt; in &lt;module&gt;()
----&gt; 1 ir.plot(typ=&#39;v&#39;)


NameError: name &#39;ir&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ir</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-56-2c92a57a4caa&gt; in &lt;module&gt;()
----&gt; 1 ir


NameError: name &#39;ir&#39; is not defined
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax1</span><span class="o">=</span><span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">211</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cmd</span><span class="o">=</span><span class="s">&#39;M.tdd.ch&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">rx_id</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#39;.plot(typ=[</span><span class="se">\&#39;</span><span class="s">l20</span><span class="se">\&#39;</span><span class="s">],fig=fig,ax=ax1)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">eval</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">212</span><span class="p">,</span><span class="n">sharex</span><span class="o">=</span><span class="n">ax1</span><span class="p">,</span><span class="n">sharey</span><span class="o">=</span><span class="n">ax1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#Lk.chanreal.plot(typ=[&#39;v&#39;],fig=fig,ax=ax2)</span>
<span class="gp">... </span><span class="n">ir</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">typ</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;l20&#39;</span><span class="p">],</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span><span class="mi">130</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>NameErrorTraceback (most recent call last)

&lt;ipython-input-57-c4c4ac0b63ee&gt; in &lt;module&gt;()
      5 ax2 = fig.add_subplot(212,sharex=ax1,sharey=ax1)
      6 #Lk.chanreal.plot(typ=[&#39;v&#39;],fig=fig,ax=ax2)
----&gt; 7 ir.plot(typ=[&#39;l20&#39;],fig=fig,ax=ax2)
      8 plt.xlim(60,130)


NameError: name &#39;ir&#39; is not defined
</pre></div>
</div>
<img alt="../../_images/Wheresimple_64_1.png" src="../../_images/Wheresimple_64_1.png" />
</div>


          </div>
        </div>
      </div>
        <div class="clearer"></div>
      </div>
    </div>
  

    <div class="footer">
        &copy; 2016, PyLayers developer team.
      Last updated on Jun 25, 2016.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3. Design by <a href="http://desgrana.es">Desgrana</a>.
    <span style="padding-left: 5ex;">
    <a href="../../_sources/notebook/5-SIM/Wheresimple.txt"
	    rel="nofollow">Show this page source</a>
    </span>
    </div>
     <div class="rel rellarge">
    
    
     </div>
     <script type="text/javascript">
       $("div.buttonNext, div.buttonPrevious").hover(
           function () {
               $(this).css('background-color', '#AFFFFF');
           },
           function () {
               $(this).css('background-color', '#AFFFFF');
           }
       );
     </script>
  </body>
</html>